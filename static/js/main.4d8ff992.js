/*! For license information please see main.4d8ff992.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(67),o=n(43),i=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var S=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var _=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function E(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=k&&e[k]||e["@@iterator"])?e:null}var C=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===C?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case u:return"Portal";case h:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case b:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case m:return(e.displayName||"Context")+".Provider";case g:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return A(e(t))}catch(n){}}return null}var T,P,N=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=Object.assign;function O(e){if(void 0===T)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);T=t&&t[1]||"",P=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+T+e+P}var R=!1;function I(e,t){if(!e||R)return"";R=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],s=i[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(o=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;if(r===l.length||o===c.length)for(r=l.length-1,o=c.length-1;1<=r&&0<=o&&l[r]!==c[o];)o--;for(;1<=r&&0<=o;r--,o--)if(l[r]!==c[o]){if(1!==r||1!==o)do{if(r--,0>--o||l[r]!==c[o]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=o);break}}}finally{R=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?O(n):""}function L(e){switch(e.tag){case 26:case 27:case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return e=I(e.type,!1);case 11:return e=I(e.type.render,!1);case 1:return e=I(e.type,!0);default:return""}}function D(e){try{var t="";do{t+=L(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function j(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function F(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function z(e){if(j(e)!==e)throw Error(a(188))}function B(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=B(e)))return t;e=e.sibling}return null}var U=Array.isArray,V=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},W=[],G=-1;function X(e){return{current:e}}function q(e){0>G||(e.current=W[G],W[G]=null,G--)}function K(e,t){G++,W[G]=e.current,e.current=t}var Y=X(null),$=X(null),Q=X(null),Z=X(null);function J(e,t){switch(K(Q,t),K($,e),K(Y,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?$u(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Qu(e=$u(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}q(Y),K(Y,t)}function ee(){q(Y),q($),q(Q)}function te(e){null!==e.memoizedState&&K(Z,e);var t=Y.current,n=Qu(t,e.type);t!==n&&(K($,e),K(Y,n))}function ne(e){$.current===e&&(q(Y),q($)),Z.current===e&&(q(Z),Dd._currentValue=H)}var re=Object.prototype.hasOwnProperty,oe=r.unstable_scheduleCallback,ie=r.unstable_cancelCallback,ae=r.unstable_shouldYield,se=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,fe=r.unstable_NormalPriority,he=r.unstable_LowPriority,pe=r.unstable_IdlePriority,ge=r.log,me=r.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof ge&&me(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xe(e)/Se|0)|0},xe=Math.log,Se=Math.LN2;var _e=128,ke=4194304;function Ee(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=e.warmLanes;e=0!==e.finishedLanes;var s=134217727&n;return 0!==s?0!==(n=s&~o)?r=Ee(n):0!==(i&=s)?r=Ee(i):e||0!==(a=s&~a)&&(r=Ee(a)):0!==(s=n&~o)?r=Ee(s):0!==i?r=Ee(i):e||0!==(a=n&~a)&&(r=Ee(a)),0===r?0:0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(a=t&-t)||32===o&&0!==(4194176&a))?t:r}function Ae(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Te(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=_e;return 0===(4194176&(_e<<=1))&&(_e=128),e}function Ne(){var e=ke;return 0===(62914560&(ke<<=1))&&(ke=4194304),e}function Me(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Oe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function Ie(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function De(){var e=V.p;return 0!==e?e:void 0===(e=window.event)?32:Qd(e.type)}var je=Math.random().toString(36).slice(2),Fe="__reactFiber$"+je,ze="__reactProps$"+je,Be="__reactContainer$"+je,Ue="__reactEvents$"+je,Ve="__reactListeners$"+je,He="__reactHandles$"+je,We="__reactResources$"+je,Ge="__reactMarker$"+je;function Xe(e){delete e[Fe],delete e[ze],delete e[Ue],delete e[Ve],delete e[He]}function qe(e){var t=e[Fe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Be]||n[Fe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ld(e);null!==e;){if(n=e[Fe])return n;e=ld(e)}return t}n=(e=n).parentNode}return null}function Ke(e){if(e=e[Fe]||e[Be]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ye(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function $e(e){var t=e[We];return t||(t=e[We]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Qe(e){e[Ge]=!0}var Ze=new Set,Je={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Je[e]=t,e=0;e<t.length;e++)Ze.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},it={};function at(e,t,n){if(o=t,re.call(it,o)||!re.call(ot,o)&&(rt.test(o)?it[o]=!0:(ot[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function st(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function mt(e,t,n,r,o,i,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?yt(e,a,ct(t)):null!=n?yt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function vt(e,t,n,r,o,i,a,s){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:o)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function yt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(U(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&kt(e,o,r)}else for(var i in t)t.hasOwnProperty(i)&&kt(e,i,t[i])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Nt=null;function Mt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Rt=null;function It(e){var t=Ke(e);if(t&&(e=t.stateNode)){var n=e[ze]||null;e:switch(e=t.stateNode,t.type){case"input":if(mt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[ze]||null;if(!o)throw Error(a(90));mt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ft(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Lt=!1;function Dt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Ot||null!==Rt)&&(Fc(),Ot&&(t=Ot,e=Rt,Rt=Ot=null,It(t),e)))for(t=0;t<e.length;t++)It(e[t])}}function jt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[ze]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!1;if(nt)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(Sf){Ft=!1}var Bt=null,Ut=null,Vt=null;function Ht(){if(Vt)return Vt;var e,t,n=Ut,r=n.length,o="value"in Bt?Bt.value:Bt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Vt=o.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Xt(){return!1}function qt(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Gt:Xt,this.isPropagationStopped=Xt,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Kt,Yt,$t,Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=qt(Qt),Jt=M({},Qt,{view:0,detail:0}),en=qt(Jt),tn=M({},Jt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$t&&($t&&"mousemove"===e.type?(Kt=e.screenX-$t.screenX,Yt=e.screenY-$t.screenY):Yt=Kt=0,$t=e),Kt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),nn=qt(tn),rn=qt(M({},tn,{dataTransfer:0})),on=qt(M({},Jt,{relatedTarget:0})),an=qt(M({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0})),sn=qt(M({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=qt(M({},Qt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function hn(){return fn}var pn=qt(M({},Jt,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=qt(M({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),mn=qt(M({},Jt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hn})),vn=qt(M({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=qt(M({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=qt(M({},Qt,{newState:0,oldState:0})),wn=[9,13,27,32],xn=nt&&"CompositionEvent"in window,Sn=null;nt&&"documentMode"in document&&(Sn=document.documentMode);var _n=nt&&"TextEvent"in window&&!Sn,kn=nt&&(!xn||Sn&&8<Sn&&11>=Sn),En=String.fromCharCode(32),Cn=!1;function An(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nn[e.type]:"textarea"===t}function On(e,t,n,r){Ot?Rt?Rt.push(r):Rt=[r]:Ot=r,0<(t=Du(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rn=null,In=null;function Ln(e){Tu(e,0)}function Dn(e){if(ft(Ye(e)))return e}function jn(e,t){if("change"===e)return t}var Fn=!1;if(nt){var zn;if(nt){var Bn="oninput"in document;if(!Bn){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),Bn="function"===typeof Un.oninput}zn=Bn}else zn=!1;Fn=zn&&(!document.documentMode||9<document.documentMode)}function Vn(){Rn&&(Rn.detachEvent("onpropertychange",Hn),In=Rn=null)}function Hn(e){if("value"===e.propertyName&&Dn(In)){var t=[];On(t,In,e,Mt(e)),Dt(Ln,t)}}function Wn(e,t,n){"focusin"===e?(Vn(),In=n,(Rn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Vn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Dn(In)}function Xn(e,t){if("click"===e)return Dn(t)}function qn(e,t){if("input"===e||"change"===e)return Dn(t)}var Kn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Kn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!re.call(t,o)||!Kn(e[o],t[o]))return!1}return!0}function $n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qn(e,t){var n,r=$n(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$n(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Jn(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Jn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Zn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var o=t.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!n.extend&&i>r&&(o=r,r=i,i=o),o=Qn(t,i);var a=Qn(t,r);o&&a&&(1!==n.rangeCount||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&((e=e.createRange()).setStart(o.node,o.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,or=null,ir=null,ar=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ht(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Yn(ir,r)||(ir=r,0<(r=Du(or,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function fr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}nt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var hr=fr("animationend"),pr=fr("animationiteration"),gr=fr("animationstart"),mr=fr("transitionrun"),vr=fr("transitionstart"),yr=fr("transitioncancel"),br=fr("transitionend"),wr=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Sr(e,t){wr.set(e,t),et(t,[e])}var _r=[],kr=0,Er=0;function Cr(){for(var e=kr,t=Er=kr=0;t<e;){var n=_r[t];_r[t++]=null;var r=_r[t];_r[t++]=null;var o=_r[t];_r[t++]=null;var i=_r[t];if(_r[t++]=null,null!==r&&null!==o){var a=r.pending;null===a?o.next=o:(o.next=a.next,a.next=o),r.pending=o}0!==i&&Nr(n,o,i)}}function Ar(e,t,n,r){_r[kr++]=e,_r[kr++]=t,_r[kr++]=n,_r[kr++]=r,Er|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Tr(e,t,n,r){return Ar(e,t,n,r),Mr(e)}function Pr(e,t){return Ar(e,null,null,t),Mr(e)}function Nr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;o&&null!==t&&3===e.tag&&(i=e.stateNode,o=31-we(n),null===(e=(i=i.hiddenUpdates)[o])?i[o]=[t]:e.push(t),t.lane=536870912|n)}function Mr(e){if(50<Tc)throw Tc=0,Pc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={},Rr=new WeakMap;function Ir(e,t){if("object"===typeof e&&null!==e){var n=Rr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:D(t)},Rr.set(e,t),t)}return{value:e,source:t,stack:D(t)}}var Lr=[],Dr=0,jr=null,Fr=0,zr=[],Br=0,Ur=null,Vr=1,Hr="";function Wr(e,t){Lr[Dr++]=Fr,Lr[Dr++]=jr,jr=e,Fr=t}function Gr(e,t,n){zr[Br++]=Vr,zr[Br++]=Hr,zr[Br++]=Ur,Ur=e;var r=Vr;e=Hr;var o=32-we(r)-1;r&=~(1<<o),n+=1;var i=32-we(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Vr=1<<32-we(t)+o|n<<o|r,Hr=i+e}else Vr=1<<i|n<<o|r,Hr=e}function Xr(e){null!==e.return&&(Wr(e,1),Gr(e,1,0))}function qr(e){for(;e===jr;)jr=Lr[--Dr],Lr[Dr]=null,Fr=Lr[--Dr],Lr[Dr]=null;for(;e===Ur;)Ur=zr[--Br],zr[Br]=null,Hr=zr[--Br],zr[Br]=null,Vr=zr[--Br],zr[Br]=null}var Kr=null,Yr=null,$r=!1,Qr=null,Zr=!1,Jr=Error(a(519));function eo(e){throw io(Ir(Error(a(418,"")),e)),Jr}function to(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Fe]=e,t[ze]=r,n){case"dialog":Pu("cancel",t),Pu("close",t);break;case"iframe":case"object":case"embed":Pu("load",t);break;case"video":case"audio":for(n=0;n<Cu.length;n++)Pu(Cu[n],t);break;case"source":Pu("error",t);break;case"img":case"image":case"link":Pu("error",t),Pu("load",t);break;case"details":Pu("toggle",t);break;case"input":Pu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Pu("invalid",t);break;case"textarea":Pu("invalid",t),xt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Vu(t.textContent,n)?(null!=r.popover&&(Pu("beforetoggle",t),Pu("toggle",t)),null!=r.onScroll&&Pu("scroll",t),null!=r.onScrollEnd&&Pu("scrollend",t),null!=r.onClick&&(t.onclick=Hu),t=!0):t=!1,t||eo(e)}function no(e){for(Kr=e.return;Kr;)switch(Kr.tag){case 3:case 27:return void(Zr=!0);case 5:case 13:return void(Zr=!1);default:Kr=Kr.return}}function ro(e){if(e!==Kr)return!1;if(!$r)return no(e),$r=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Zu(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Yr&&eo(e),no(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Yr=sd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Yr=null}}else Yr=Kr?sd(e.stateNode.nextSibling):null;return!0}function oo(){Yr=Kr=null,$r=!1}function io(e){null===Qr?Qr=[e]:Qr.push(e)}var ao=Error(a(460)),so=Error(a(474)),lo={then:function(){}};function co(e){return"fulfilled"===(e=e.status)||"rejected"===e}function uo(){}function fo(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(uo,uo),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ao)throw Error(a(483));throw e;default:if("string"===typeof t.status)t.then(uo,uo);else{if(null!==(e=tc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ao)throw Error(a(483));throw e}throw ho=t,ao}}var ho=null;function po(){if(null===ho)throw Error(a(459));var e=ho;return ho=null,e}var go=null,mo=0;function vo(e){var t=mo;return mo+=1,null===go&&(go=[]),fo(go,e,t)}function yo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function bo(e,t){if(t.$$typeof===l)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wo(e){return(0,e._init)(e._payload)}function xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=jl(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vl(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n,r){var i=n.type;return i===d?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===x&&wo(i)===t.type)?(yo(t=o(t,n.props),n),t.return=e,t):(yo(t=zl(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hl(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function p(e,t,n,r,i){return null===t||7!==t.tag?((t=Bl(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function g(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return yo(n=zl(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case u:return(t=Hl(t,e.mode,n)).return=e,t;case x:return g(e,t=(0,t._init)(t._payload),n)}if(U(t)||E(t))return(t=Bl(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return g(e,vo(t),n);if(t.$$typeof===m)return g(e,Cs(e,t),n);bo(e,t)}return null}function v(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===o?f(e,t,n,r):null;case u:return n.key===o?h(e,t,n,r):null;case x:return v(e,t,n=(o=n._init)(n._payload),r)}if(U(n)||E(n))return null!==o?null:p(e,t,n,r,null);if("function"===typeof n.then)return v(e,t,vo(n),r);if(n.$$typeof===m)return v(e,t,Cs(e,n),r);bo(e,n)}return null}function y(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return f(t,e=e.get(null===r.key?n:r.key)||null,r,o);case u:return h(t,e=e.get(null===r.key?n:r.key)||null,r,o);case x:return y(e,t,n,r=(0,r._init)(r._payload),o)}if(U(r)||E(r))return p(t,e=e.get(n)||null,r,o,null);if("function"===typeof r.then)return y(e,t,n,vo(r),o);if(r.$$typeof===m)return y(e,t,n,Cs(t,r),o);bo(t,r)}return null}function b(l,f,h,p){if("object"===typeof h&&null!==h&&h.type===d&&null===h.key&&(h=h.props.children),"object"===typeof h&&null!==h){switch(h.$$typeof){case c:e:{for(var w=h.key;null!==f;){if(f.key===w){if((w=h.type)===d){if(7===f.tag){n(l,f.sibling),(p=o(f,h.props.children)).return=l,l=p;break e}}else if(f.elementType===w||"object"===typeof w&&null!==w&&w.$$typeof===x&&wo(w)===f.type){n(l,f.sibling),yo(p=o(f,h.props),h),p.return=l,l=p;break e}n(l,f);break}t(l,f),f=f.sibling}h.type===d?((p=Bl(h.props.children,l.mode,p,h.key)).return=l,l=p):(yo(p=zl(h.type,h.key,h.props,null,l.mode,p),h),p.return=l,l=p)}return s(l);case u:e:{for(w=h.key;null!==f;){if(f.key===w){if(4===f.tag&&f.stateNode.containerInfo===h.containerInfo&&f.stateNode.implementation===h.implementation){n(l,f.sibling),(p=o(f,h.children||[])).return=l,l=p;break e}n(l,f);break}t(l,f),f=f.sibling}(p=Hl(h,l.mode,p)).return=l,l=p}return s(l);case x:return b(l,f,h=(w=h._init)(h._payload),p)}if(U(h))return function(o,a,s,l){for(var c=null,u=null,d=a,f=a=0,h=null;null!==d&&f<s.length;f++){d.index>f?(h=d,d=null):h=d.sibling;var p=v(o,d,s[f],l);if(null===p){null===d&&(d=h);break}e&&d&&null===p.alternate&&t(o,d),a=i(p,a,f),null===u?c=p:u.sibling=p,u=p,d=h}if(f===s.length)return n(o,d),$r&&Wr(o,f),c;if(null===d){for(;f<s.length;f++)null!==(d=g(o,s[f],l))&&(a=i(d,a,f),null===u?c=d:u.sibling=d,u=d);return $r&&Wr(o,f),c}for(d=r(d);f<s.length;f++)null!==(h=y(d,o,f,s[f],l))&&(e&&null!==h.alternate&&d.delete(null===h.key?f:h.key),a=i(h,a,f),null===u?c=h:u.sibling=h,u=h);return e&&d.forEach((function(e){return t(o,e)})),$r&&Wr(o,f),c}(l,f,h,p);if(E(h)){if("function"!==typeof(w=E(h)))throw Error(a(150));return function(o,s,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,f=s,h=s=0,p=null,m=l.next();null!==f&&!m.done;h++,m=l.next()){f.index>h?(p=f,f=null):p=f.sibling;var b=v(o,f,m.value,c);if(null===b){null===f&&(f=p);break}e&&f&&null===b.alternate&&t(o,f),s=i(b,s,h),null===d?u=b:d.sibling=b,d=b,f=p}if(m.done)return n(o,f),$r&&Wr(o,h),u;if(null===f){for(;!m.done;h++,m=l.next())null!==(m=g(o,m.value,c))&&(s=i(m,s,h),null===d?u=m:d.sibling=m,d=m);return $r&&Wr(o,h),u}for(f=r(f);!m.done;h++,m=l.next())null!==(m=y(f,o,h,m.value,c))&&(e&&null!==m.alternate&&f.delete(null===m.key?h:m.key),s=i(m,s,h),null===d?u=m:d.sibling=m,d=m);return e&&f.forEach((function(e){return t(o,e)})),$r&&Wr(o,h),u}(l,f,h=w.call(h),p)}if("function"===typeof h.then)return b(l,f,vo(h),p);if(h.$$typeof===m)return b(l,f,Cs(l,h),p);bo(l,h)}return"string"===typeof h&&""!==h||"number"===typeof h||"bigint"===typeof h?(h=""+h,null!==f&&6===f.tag?(n(l,f.sibling),(p=o(f,h)).return=l,l=p):(n(l,f),(p=Vl(h,l.mode,p)).return=l,l=p),s(l)):n(l,f)}return function(e,t,n,r){try{mo=0;var o=b(e,t,n,r);return go=null,o}catch(a){if(a===ao)throw a;var i=Ll(29,a,null,e.mode);return i.lanes=r,i.return=e,i}}}var So=xo(!0),_o=xo(!1),ko=X(null),Eo=X(0);function Co(e,t){K(Eo,e=cc),K(ko,t),cc=e|t.baseLanes}function Ao(){K(Eo,cc),K(ko,ko.current)}function To(){cc=Eo.current,q(ko),q(Eo)}var Po=X(null),No=null;function Mo(e){var t=e.alternate;K(Lo,1&Lo.current),K(Po,e),null===No&&(null===t||null!==ko.current||null!==t.memoizedState)&&(No=e)}function Oo(e){if(22===e.tag){if(K(Lo,Lo.current),K(Po,e),null===No){var t=e.alternate;null!==t&&null!==t.memoizedState&&(No=e)}}else Ro()}function Ro(){K(Lo,Lo.current),K(Po,Po.current)}function Io(e){q(Po),No===e&&(No=null),q(Lo)}var Lo=X(0);function Do(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jo="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Fo=r.unstable_scheduleCallback,zo=r.unstable_NormalPriority,Bo={$$typeof:m,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uo(){return{controller:new jo,data:new Map,refCount:0}}function Vo(e){e.refCount--,0===e.refCount&&Fo(zo,(function(){e.controller.abort()}))}var Ho=null,Wo=0,Go=0,Xo=null;function qo(){if(0===--Wo&&null!==Ho){null!==Xo&&(Xo.status="fulfilled");var e=Ho;Ho=null,Go=0,Xo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ko=N.S;N.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ho){var n=Ho=[];Wo=0,Go=xu(),Xo={status:"pending",value:void 0,then:function(e){n.push(e)}}}Wo++,t.then(qo,qo)}(0,t),null!==Ko&&Ko(e,t)};var Yo=X(null);function $o(){var e=Yo.current;return null!==e?e:tc.pooledCache}function Qo(e,t){K(Yo,null===t?Yo.current:t.pool)}function Zo(){var e=$o();return null===e?null:{parent:Bo._currentValue,pool:e}}var Jo=0,ei=null,ti=null,ni=null,ri=!1,oi=!1,ii=!1,ai=0,si=0,li=null,ci=0;function ui(){throw Error(a(321))}function di(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kn(e[n],t[n]))return!1;return!0}function fi(e,t,n,r,o,i){return Jo=i,ei=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=null===e||null===e.memoizedState?Ca:Aa,ii=!1,i=n(r,o),ii=!1,oi&&(i=pi(t,n,r,o)),hi(e),i}function hi(e){N.H=Ea;var t=null!==ti&&null!==ti.next;if(Jo=0,ni=ti=ei=null,ri=!1,si=0,li=null,t)throw Error(a(300));null===e||Wa||null!==(e=e.dependencies)&&_s(e)&&(Wa=!0)}function pi(e,t,n,r){ei=e;var o=0;do{if(oi&&(li=null),si=0,oi=!1,25<=o)throw Error(a(301));if(o+=1,ni=ti=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}N.H=Ta,i=t(n,r)}while(oi);return i}function gi(){var e=N.H,t=e.useState()[0];return t="function"===typeof t.then?xi(t):t,e=e.useState()[0],(null!==ti?ti.memoizedState:null)!==e&&(ei.flags|=1024),t}function mi(){var e=0!==ai;return ai=0,e}function vi(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function yi(e){if(ri){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ri=!1}Jo=0,ni=ti=ei=null,oi=!1,si=ai=0,li=null}function bi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ni?ei.memoizedState=ni=e:ni=ni.next=e,ni}function wi(){if(null===ti){var e=ei.alternate;e=null!==e?e.memoizedState:null}else e=ti.next;var t=null===ni?ei.memoizedState:ni.next;if(null!==t)ni=t,ti=e;else{if(null===e){if(null===ei.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(ti=e).memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},null===ni?ei.memoizedState=ni=e:ni=ni.next=e}return ni}function xi(e){var t=si;return si+=1,null===li&&(li=[]),e=fo(li,e,t),t=ei,null===(null===ni?t.memoizedState:ni.next)&&(t=t.alternate,N.H=null===t||null===t.memoizedState?Ca:Aa),e}function Si(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return xi(e);if(e.$$typeof===m)return Es(e)}throw Error(a(438,String(e)))}function _i(e){var t=null,n=ei.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ei.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ei.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=_;return t.index++,n}function ki(e,t){return"function"===typeof t?t(e):t}function Ei(e){return Ci(wi(),ti,e)}function Ci(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var o=e.baseQueue,i=r.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}t.baseQueue=o=i,r.pending=null}if(i=e.baseState,null===o)e.memoizedState=i;else{var l=s=null,c=null,u=t=o.next,d=!1;do{var f=-536870913&u.lane;if(f!==u.lane?(rc&f)===f:(Jo&f)===f){var h=u.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Go&&(d=!0);else{if((Jo&h)===h){u=u.next,h===Go&&(d=!0);continue}f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=i):c=c.next=f,ei.lanes|=h,dc|=h}f=u.action,ii&&n(i,f),i=u.hasEagerState?u.eagerState:n(i,f)}else h={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=i):c=c.next=h,ei.lanes|=f,dc|=f;u=u.next}while(null!==u&&u!==t);if(null===c?s=i:c.next=l,!Kn(i,e.memoizedState)&&(Wa=!0,d&&null!==(n=Xo)))throw n;e.memoizedState=i,e.baseState=s,e.baseQueue=c,r.lastRenderedState=i}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ai(e){var t=wi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);Kn(i,t.memoizedState)||(Wa=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ti(e,t,n){var r=ei,o=wi(),i=$r;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!Kn((ti||o).memoizedState,n);if(s&&(o.memoizedState=n,Wa=!0),o=o.queue,Ji(Mi.bind(null,r,o,e),[e]),o.getSnapshot!==t||s||null!==ni&&1&ni.memoizedState.tag){if(r.flags|=2048,Ki(9,Ni.bind(null,r,o,n,t),{destroy:void 0},null),null===tc)throw Error(a(349));i||0!==(60&Jo)||Pi(r,t,n)}return n}function Pi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ei.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ei.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ni(e,t,n,r){t.value=n,t.getSnapshot=r,Oi(t)&&Ri(e)}function Mi(e,t,n){return n((function(){Oi(t)&&Ri(e)}))}function Oi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kn(e,n)}catch(r){return!0}}function Ri(e){var t=Pr(e,2);null!==t&&Oc(t,e,2)}function Ii(e){var t=bi();if("function"===typeof e){var n=e;if(e=n(),ii){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},t}function Li(e,t,n,r){return e.baseState=n,Ci(e,ti,"function"===typeof r?r:ki)}function Di(e,t,n,r,o){if(Sa(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==N.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,ji(t,i)):(i.next=n.next,t.pending=n.next=i)}}function ji(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=N.T,a={};N.T=a;try{var s=n(o,r),l=N.S;null!==l&&l(a,s),Fi(e,t,s)}catch(c){Bi(e,t,c)}finally{N.T=i}}else try{Fi(e,t,i=n(o,r))}catch(u){Bi(e,t,u)}}function Fi(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){zi(e,t,n)}),(function(n){return Bi(e,t,n)})):zi(e,t,n)}function zi(e,t,n){t.status="fulfilled",t.value=n,Ui(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ji(e,n)))}function Bi(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ui(t),t=t.next}while(t!==r)}e.action=null}function Ui(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Vi(e,t){return t}function Hi(e,t){if($r){var n=tc.formState;if(null!==n){e:{var r=ei;if($r){if(Yr){t:{for(var o=Yr,i=Zr;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=sd(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){Yr=sd(o.nextSibling),r="F!"===o.data;break e}}eo(r)}r=!1}r&&(t=n[0])}}return(n=bi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:t},n.queue=r,n=ba.bind(null,ei,r),r.dispatch=n,r=Ii(!1),i=xa.bind(null,ei,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=bi()).queue=o,n=Di.bind(null,ei,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function Wi(e){return Gi(wi(),ti,e)}function Gi(e,t,n){t=Ci(e,t,Vi)[0],e=Ei(ki)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?xi(t):t;var r=wi(),o=r.queue,i=o.dispatch;return n!==r.memoizedState&&(ei.flags|=2048,Ki(9,Xi.bind(null,o,n),{destroy:void 0},null)),[t,i,e]}function Xi(e,t){e.action=t}function qi(e){var t=wi(),n=ti;if(null!==n)return Gi(t,n,e);wi(),t=t.memoizedState;var r=(n=wi()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ki(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=ei.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ei.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Yi(){return wi().memoizedState}function $i(e,t,n,r){var o=bi();ei.flags|=e,o.memoizedState=Ki(1|t,n,{destroy:void 0},void 0===r?null:r)}function Qi(e,t,n,r){var o=wi();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==ti&&null!==r&&di(r,ti.memoizedState.deps)?o.memoizedState=Ki(t,n,i,r):(ei.flags|=e,o.memoizedState=Ki(1|t,n,i,r))}function Zi(e,t){$i(8390656,8,e,t)}function Ji(e,t){Qi(2048,8,e,t)}function ea(e,t){return Qi(4,2,e,t)}function ta(e,t){return Qi(4,4,e,t)}function na(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ra(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Qi(4,4,na.bind(null,t,e),n)}function oa(){}function ia(e,t){var n=wi();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&di(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function aa(e,t){var n=wi();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&di(t,r[1]))return r[0];if(r=e(),ii){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function sa(e,t,n){return void 0===n||0!==(1073741824&Jo)?e.memoizedState=t:(e.memoizedState=n,e=Mc(),ei.lanes|=e,dc|=e,n)}function la(e,t,n,r){return Kn(n,t)?n:null!==ko.current?(e=sa(e,n,r),Kn(e,t)||(Wa=!0),e):0===(42&Jo)?(Wa=!0,e.memoizedState=n):(e=Mc(),ei.lanes|=e,dc|=e,t)}function ca(e,t,n,r,o){var i=V.p;V.p=0!==i&&8>i?i:8;var a=N.T,s={};N.T=s,xa(e,!1,t,n);try{var l=o(),c=N.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)wa(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Nc());else wa(e,t,r,Nc())}catch(u){wa(e,t,{then:function(){},status:"rejected",reason:u},Nc())}finally{V.p=i,N.T=a}}function ua(){}function da(e,t,n,r){if(5!==e.tag)throw Error(a(476));var o=fa(e).queue;ca(e,o,t,H,null===n?ua:function(){return ha(e),n(r)})}function fa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:H},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ha(e){wa(e,fa(e).next.queue,{},Nc())}function pa(){return Es(Dd)}function ga(){return wi().memoizedState}function ma(){return wi().memoizedState}function va(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Nc(),r=Os(t,e=Ms(n),n);return null!==r&&(Oc(r,t,n),Rs(r,t,n)),t={cache:Uo()},void(e.payload=t)}t=t.return}}function ya(e,t,n){var r=Nc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Sa(e)?_a(t,n):null!==(n=Tr(e,t,n,r))&&(Oc(n,e,r),ka(n,t,r))}function ba(e,t,n){wa(e,t,n,Nc())}function wa(e,t,n,r){var o={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sa(e))_a(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,Kn(s,a))return Ar(e,t,o,0),null===tc&&Cr(),!1}catch(l){}if(null!==(n=Tr(e,t,o,r)))return Oc(n,e,r),ka(n,t,r),!0}return!1}function xa(e,t,n,r){if(r={lane:2,revertLane:xu(),action:r,hasEagerState:!1,eagerState:null,next:null},Sa(e)){if(t)throw Error(a(479))}else null!==(t=Tr(e,n,r,2))&&Oc(t,e,2)}function Sa(e){var t=e.alternate;return e===ei||null!==t&&t===ei}function _a(e,t){oi=ri=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ka(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ie(e,n)}}var Ea={readContext:Es,use:Si,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useLayoutEffect:ui,useInsertionEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useDeferredValue:ui,useTransition:ui,useSyncExternalStore:ui,useId:ui};Ea.useCacheRefresh=ui,Ea.useMemoCache=ui,Ea.useHostTransitionStatus=ui,Ea.useFormState=ui,Ea.useActionState=ui,Ea.useOptimistic=ui;var Ca={readContext:Es,use:Si,useCallback:function(e,t){return bi().memoizedState=[e,void 0===t?null:t],e},useContext:Es,useEffect:Zi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,$i(4194308,4,na.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $i(4194308,4,e,t)},useInsertionEffect:function(e,t){$i(4,2,e,t)},useMemo:function(e,t){var n=bi();t=void 0===t?null:t;var r=e();if(ii){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=bi();if(void 0!==n){var o=n(t);if(ii){be(!0);try{n(t)}finally{be(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=ya.bind(null,ei,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bi().memoizedState=e},useState:function(e){var t=(e=Ii(e)).queue,n=ba.bind(null,ei,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:oa,useDeferredValue:function(e,t){return sa(bi(),e,t)},useTransition:function(){var e=Ii(!1);return e=ca.bind(null,ei,e.queue,!0,!1),bi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ei,o=bi();if($r){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===tc)throw Error(a(349));0!==(60&rc)||Pi(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Zi(Mi.bind(null,r,i,e),[e]),r.flags|=2048,Ki(9,Ni.bind(null,r,i,n,t),{destroy:void 0},null),n},useId:function(){var e=bi(),t=tc.identifierPrefix;if($r){var n=Hr;t=":"+t+"R"+(n=(Vr&~(1<<32-we(Vr)-1)).toString(32)+n),0<(n=ai++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ci++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return bi().memoizedState=va.bind(null,ei)}};Ca.useMemoCache=_i,Ca.useHostTransitionStatus=pa,Ca.useFormState=Hi,Ca.useActionState=Hi,Ca.useOptimistic=function(e){var t=bi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=xa.bind(null,ei,!0,n),n.dispatch=t,[e,t]};var Aa={readContext:Es,use:Si,useCallback:ia,useContext:Es,useEffect:Ji,useImperativeHandle:ra,useInsertionEffect:ea,useLayoutEffect:ta,useMemo:aa,useReducer:Ei,useRef:Yi,useState:function(){return Ei(ki)},useDebugValue:oa,useDeferredValue:function(e,t){return la(wi(),ti.memoizedState,e,t)},useTransition:function(){var e=Ei(ki)[0],t=wi().memoizedState;return["boolean"===typeof e?e:xi(e),t]},useSyncExternalStore:Ti,useId:ga};Aa.useCacheRefresh=ma,Aa.useMemoCache=_i,Aa.useHostTransitionStatus=pa,Aa.useFormState=Wi,Aa.useActionState=Wi,Aa.useOptimistic=function(e,t){return Li(wi(),0,e,t)};var Ta={readContext:Es,use:Si,useCallback:ia,useContext:Es,useEffect:Ji,useImperativeHandle:ra,useInsertionEffect:ea,useLayoutEffect:ta,useMemo:aa,useReducer:Ai,useRef:Yi,useState:function(){return Ai(ki)},useDebugValue:oa,useDeferredValue:function(e,t){var n=wi();return null===ti?sa(n,e,t):la(n,ti.memoizedState,e,t)},useTransition:function(){var e=Ai(ki)[0],t=wi().memoizedState;return["boolean"===typeof e?e:xi(e),t]},useSyncExternalStore:Ti,useId:ga};function Pa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Ta.useCacheRefresh=ma,Ta.useMemoCache=_i,Ta.useHostTransitionStatus=pa,Ta.useFormState=qi,Ta.useActionState=qi,Ta.useOptimistic=function(e,t){var n=wi();return null!==ti?Li(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Na={isMounted:function(e){return!!(e=e._reactInternals)&&j(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nc(),o=Ms(r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Os(e,o,r))&&(Oc(t,e,r),Rs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nc(),o=Ms(r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Os(e,o,r))&&(Oc(t,e,r),Rs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nc(),r=Ms(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Os(e,r,n))&&(Oc(t,e,n),Rs(t,e,n))}};function Ma(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(o,i))}function Oa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Na.enqueueReplaceState(t,t.state,null)}function Ra(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=M({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}var Ia="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function La(e){Ia(e)}function Da(e){console.error(e)}function ja(e){Ia(e)}function Fa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function za(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Ba(e,t,n){return(n=Ms(n)).tag=3,n.payload={element:null},n.callback=function(){Fa(e,t)},n}function Ua(e){return(e=Ms(e)).tag=3,e}function Va(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){za(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){za(t,n,r),"function"!==typeof o&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ha=Error(a(461)),Wa=!1;function Ga(e,t,n,r){t.child=null===e?_o(t,null,n,r):So(t,e.child,n,r)}function Xa(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return ks(t),r=fi(e,t,n,a,i,o),s=mi(),null===e||Wa?($r&&s&&Xr(t),t.flags|=1,Ga(e,t,r,o),t.child):(vi(e,t,o),fs(e,t,o))}function qa(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Dl(i)||void 0!==i.defaultProps||null!==n.compare?((e=zl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ka(e,t,i,r,o))}if(i=e.child,!hs(e,o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(a,r)&&e.ref===t.ref)return fs(e,t,o)}return t.flags|=1,(e=jl(i,r)).ref=t.ref,e.return=t,t.child=e}function Ka(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(Yn(i,r)&&e.ref===t.ref){if(Wa=!1,t.pendingProps=r=i,!hs(e,o))return t.lanes=e.lanes,fs(e,t,o);0!==(131072&e.flags)&&(Wa=!0)}}return Za(e,t,n,r,o)}function Ya(e,t,n){var r=t.pendingProps,o=r.children,i=0!==(2&t.stateNode._pendingVisibility),a=null!==e?e.memoizedState:null;if(Qa(e,t),"hidden"===r.mode||i){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(o=t.child=e.child,i=0;null!==o;)i=i|o.lanes|o.childLanes,o=o.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return $a(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,$a(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Qo(0,null!==a?a.cachePool:null),null!==a?Co(t,a):Ao(),Oo(t)}else null!==a?(Qo(0,a.cachePool),Co(t,a),Ro(),t.memoizedState=null):(null!==e&&Qo(0,null),Ao(),Ro());return Ga(e,t,o,n),t.child}function $a(e,t,n,r){var o=$o();return o=null===o?null:{parent:Bo._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Qo(0,null),Ao(),Oo(t),null!==e&&Ss(e,t,r,!0),null}function Qa(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Za(e,t,n,r,o){return ks(t),n=fi(e,t,n,r,void 0,o),r=mi(),null===e||Wa?($r&&r&&Xr(t),t.flags|=1,Ga(e,t,n,o),t.child):(vi(e,t,o),fs(e,t,o))}function Ja(e,t,n,r,o,i){return ks(t),t.updateQueue=null,n=pi(t,r,n,o),hi(e),r=mi(),null===e||Wa?($r&&r&&Xr(t),t.flags|=1,Ga(e,t,n,i),t.child):(vi(e,t,i),fs(e,t,i))}function es(e,t,n,r,o){if(ks(t),null===t.stateNode){var i=Or,a=n.contextType;"object"===typeof a&&null!==a&&(i=Es(a)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=Na,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},Ps(t),a=n.contextType,i.context="object"===typeof a&&null!==a?Es(a):Or,i.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(Pa(t,n,a,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(a=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&Na.enqueueReplaceState(i,i.state,null),js(t,r,i,o),Ds(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var s=t.memoizedProps,l=Ra(n,s);i.props=l;var c=i.context,u=n.contextType;a=Or,"object"===typeof u&&null!==u&&(a=Es(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s||c!==a)&&Oa(t,i,r,a),Ts=!1;var f=t.memoizedState;i.state=f,js(t,r,i,o),Ds(),c=t.memoizedState,s||f!==c||Ts?("function"===typeof d&&(Pa(t,n,d,r),c=t.memoizedState),(l=Ts||Ma(t,n,l,r,f,c,a))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=a,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ns(e,t),u=Ra(n,a=t.memoizedProps),i.props=u,d=t.pendingProps,f=i.context,c=n.contextType,l=Or,"object"===typeof c&&null!==c&&(l=Es(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==d||f!==l)&&Oa(t,i,r,l),Ts=!1,f=t.memoizedState,i.state=f,js(t,r,i,o),Ds();var h=t.memoizedState;a!==d||f!==h||Ts||null!==e&&null!==e.dependencies&&_s(e.dependencies)?("function"===typeof s&&(Pa(t,n,s,r),h=t.memoizedState),(u=Ts||Ma(t,n,u,r,f,h,l)||null!==e&&null!==e.dependencies&&_s(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Qa(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=So(t,e.child,null,o),t.child=So(t,null,n,o)):Ga(e,t,n,o),t.memoizedState=i.state,e=t.child):e=fs(e,t,o),e}function ts(e,t,n,r){return oo(),t.flags|=256,Ga(e,t,n,r),t.child}var ns={dehydrated:null,treeContext:null,retryLane:0};function rs(e){return{baseLanes:e,cachePool:Zo()}}function os(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=pc),e}function is(e,t,n){var r,o=t.pendingProps,i=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Lo.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if($r){if(i?Mo(t):Ro(),$r){var l,c=Yr;if(l=c){e:{for(l=c,c=Zr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=sd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Ur?{id:Vr,overflow:Hr}:null,retryLane:536870912},(l=Ll(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Kr=t,Yr=null,l=!0):l=!1}l||eo(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;Io(t)}return c=o.children,o=o.fallback,i?(Ro(),c=ss({mode:"hidden",children:c},i=t.mode),o=Bl(o,i,n,null),c.return=t,o.return=t,c.sibling=o,t.child=c,(i=t.child).memoizedState=rs(n),i.childLanes=os(e,r,n),t.memoizedState=ns,o):(Mo(t),as(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(Mo(t),t.flags&=-257,t=ls(e,t,n)):null!==t.memoizedState?(Ro(),t.child=e.child,t.flags|=128,t=null):(Ro(),i=o.fallback,c=t.mode,o=ss({mode:"visible",children:o.children},c),(i=Bl(i,c,n,null)).flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,So(t,e.child,null,n),(o=t.child).memoizedState=rs(n),o.childLanes=os(e,r,n),t.memoizedState=ns,t=i);else if(Mo(t),"$!"===c.data){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(o=Error(a(419))).stack="",o.digest=r,io({value:o,source:null,stack:null}),t=ls(e,t,n)}else if(Wa||Ss(e,t,n,!1),r=0!==(n&e.childLanes),Wa||r){if(null!==(r=tc)){if(0!==(42&(o=n&-n)))o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(0!==(o=0!==(o&(r.suspendedLanes|n))?0:o)&&o!==l.retryLane)throw l.retryLane=o,Pr(e,o),Oc(r,e,o),Ha}"$?"===c.data||Wc(),t=ls(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=su.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Yr=sd(c.nextSibling),Kr=t,$r=!0,Qr=null,Zr=!1,null!==e&&(zr[Br++]=Vr,zr[Br++]=Hr,zr[Br++]=Ur,Vr=e.id,Hr=e.overflow,Ur=t),(t=as(t,o.children)).flags|=4096);return t}return i?(Ro(),i=o.fallback,c=t.mode,u=(l=e.child).sibling,(o=jl(l,{mode:"hidden",children:o.children})).subtreeFlags=31457280&l.subtreeFlags,null!==u?i=jl(u,i):(i=Bl(i,c,n,null)).flags|=2,i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,null===(c=e.child.memoizedState)?c=rs(n):(null!==(l=c.cachePool)?(u=Bo._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Zo(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=os(e,r,n),t.memoizedState=ns,o):(Mo(t),e=(n=e.child).sibling,(n=jl(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function as(e,t){return(t=ss({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ss(e,t){return Ul(e,t,0,null)}function ls(e,t,n){return So(t,e.child,null,n),(e=as(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function cs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ws(e.return,t,n)}function us(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function ds(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ga(e,t,r.children,n),0!==(2&(r=Lo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&cs(e,n,t);else if(19===e.tag)cs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(K(Lo,r),o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Do(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),us(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Do(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}us(t,!0,n,null,i);break;case"together":us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),dc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ss(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=jl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function hs(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!_s(e))}function ps(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Wa=!0;else{if(!hs(e,n)&&0===(128&t.flags))return Wa=!1,function(e,t,n){switch(t.tag){case 3:J(t,t.stateNode.containerInfo),ys(t,Bo,e.memoizedState.cache),oo();break;case 27:case 5:te(t);break;case 4:J(t,t.stateNode.containerInfo);break;case 10:ys(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Mo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?is(e,t,n):(Mo(t),null!==(e=fs(e,t,n))?e.sibling:null);Mo(t);break;case 19:var o=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ss(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return ds(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),K(Lo,Lo.current),r)break;return null;case 22:case 23:return t.lanes=0,Ya(e,t,n);case 24:ys(t,Bo,e.memoizedState.cache)}return fs(e,t,n)}(e,t,n);Wa=0!==(131072&e.flags)}else Wa=!1,$r&&0!==(1048576&t.flags)&&Gr(t,Fr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,o=r._init;if(r=o(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((o=r.$$typeof)===v){t.tag=11,t=Xa(null,t,r,e,n);break e}if(o===w){t.tag=14,t=qa(null,t,r,e,n);break e}}throw t=A(r)||r,Error(a(306,t,""))}Dl(r)?(e=Ra(r,e),t.tag=1,t=es(null,t,r,e,n)):(t.tag=0,t=Za(null,t,r,e,n))}return t;case 0:return Za(e,t,t.type,t.pendingProps,n);case 1:return es(e,t,r=t.type,o=Ra(r,t.pendingProps),n);case 3:e:{if(J(t,t.stateNode.containerInfo),null===e)throw Error(a(387));var i=t.pendingProps;r=(o=t.memoizedState).element,Ns(e,t),js(t,i,null,n);var s=t.memoizedState;if(i=s.cache,ys(t,Bo,i),i!==o.cache&&xs(t,[Bo],n,!0),Ds(),i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=ts(e,t,i,n);break e}if(i!==r){io(r=Ir(Error(a(424)),t)),t=ts(e,t,i,n);break e}for(Yr=sd(t.stateNode.containerInfo.firstChild),Kr=t,$r=!0,Qr=null,Zr=!0,n=_o(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(oo(),i===r){t=fs(e,t,n);break e}Ga(e,t,i,n)}t=t.child}return t;case 26:return Qa(e,t),null===e?(n=md(t.type,null,t.pendingProps,null))?t.memoizedState=n:$r||(n=t.type,e=t.pendingProps,(r=Yu(Q.current).createElement(n))[Fe]=t,r[ze]=e,Xu(r,n,e),Qe(r),t.stateNode=r):t.memoizedState=md(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&$r&&(r=t.stateNode=cd(t.type,t.pendingProps,Q.current),Kr=t,Zr=!0,Yr=sd(r.firstChild)),r=t.pendingProps.children,null!==e||$r?Ga(e,t,r,n):t.child=So(t,null,r,n),Qa(e,t),t.child;case 5:return null===e&&$r&&((o=r=Yr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=sd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Zr))?(t.stateNode=r,Kr=t,Yr=sd(r.firstChild),Zr=!1,o=!0):o=!1),o||eo(t)),te(t),o=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,r=i.children,Zu(o,i)?r=null:null!==s&&Zu(o,s)&&(t.flags|=32),null!==t.memoizedState&&(o=fi(e,t,gi,null,null,n),Dd._currentValue=o),Qa(e,t),Ga(e,t,r,n),t.child;case 6:return null===e&&$r&&((e=n=Yr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=sd(e.nextSibling)))return null}return e}(n,t.pendingProps,Zr))?(t.stateNode=n,Kr=t,Yr=null,e=!0):e=!1),e||eo(t)),null;case 13:return is(e,t,n);case 4:return J(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=So(t,null,r,n):Ga(e,t,r,n),t.child;case 11:return Xa(e,t,t.type,t.pendingProps,n);case 7:return Ga(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ga(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ys(t,t.type,r.value),Ga(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,ks(t),r=r(o=Es(o)),t.flags|=1,Ga(e,t,r,n),t.child;case 14:return qa(e,t,t.type,t.pendingProps,n);case 15:return Ka(e,t,t.type,t.pendingProps,n);case 19:return ds(e,t,n);case 22:return Ya(e,t,n);case 24:return ks(t),r=Es(Bo),null===e?(null===(o=$o())&&(o=tc,i=Uo(),o.pooledCache=i,i.refCount++,null!==i&&(o.pooledCacheLanes|=n),o=i),t.memoizedState={parent:r,cache:o},Ps(t),ys(t,Bo,o)):(0!==(e.lanes&n)&&(Ns(e,t),js(t,null,null,n),Ds()),o=e.memoizedState,i=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),ys(t,Bo,r)):(r=i.cache,ys(t,Bo,r),r!==o.cache&&xs(t,[Bo],n,!0))),Ga(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}var gs=X(null),ms=null,vs=null;function ys(e,t,n){K(gs,t._currentValue),t._currentValue=n}function bs(e){e._currentValue=gs.current,q(gs)}function ws(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xs(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=o.dependencies;if(null!==i){var s=o.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=o;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),ws(i.return,n,e),r||(s=null);break e}i=l.next}}else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(i=s.alternate)&&(i.lanes|=n),ws(s,n,e),s=null}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===e){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}}function Ss(e,t,n,r){e=null;for(var o=t,i=!1;null!==o;){if(!i)if(0!==(524288&o.flags))i=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var s=o.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=o.type;Kn(o.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(o===Z.current){if(null===(s=o.alternate))throw Error(a(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(Dd):e=[Dd])}o=o.return}null!==e&&xs(t,e,n,r),t.flags|=262144}function _s(e){for(e=e.firstContext;null!==e;){if(!Kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ks(e){ms=e,vs=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Es(e){return As(ms,e)}function Cs(e,t){return null===ms&&ks(e),As(e,t)}function As(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vs){if(null===e)throw Error(a(308));vs=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vs=vs.next=t;return n}var Ts=!1;function Ps(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ns(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ms(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Os(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ec)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Mr(e),Nr(e,null,n),t}return Ar(e,r,t,n),Mr(e)}function Rs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ie(e,n)}}function Is(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ls=!1;function Ds(){if(Ls){if(null!==Xo)throw Xo}}function js(e,t,n,r){Ls=!1;var o=e.updateQueue;Ts=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(a=0,u=c=l=null,s=i;;){var f=-536870913&s.lane,h=f!==s.lane;if(h?(rc&f)===f:(r&f)===f){0!==f&&f===Go&&(Ls=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var p=e,g=s;f=t;var m=n;switch(g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(m,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(m,d,f):p)||void 0===f)break e;d=M({},d,f);break e;case 2:Ts=!0}}null!==(f=s.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=o.callbacks)?o.callbacks=[f]:h.push(f))}else h={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=h,l=d):u=u.next=h,a|=f;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(h=s).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null===i&&(o.shared.lanes=0),dc|=a,e.lanes=a,e.memoizedState=d}}function Fs(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function zs(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Fs(n[e],t)}function Bs(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==o)}}catch(s){ru(t,t.return,s)}}function Us(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,o=t;var l=n;try{s()}catch(c){ru(o,l,c)}}}r=r.next}while(r!==i)}}catch(c){ru(t,t.return,c)}}function Vs(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{zs(t,n)}catch(r){ru(e,e.return,r)}}}function Hs(e,t,n){n.props=Ra(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ru(e,t,r)}}function Ws(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var o=r;break;default:o=r}"function"===typeof n?e.refCleanup=n(o):n.current=o}}catch(i){ru(e,t,i)}}function Gs(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(o){ru(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){ru(e,t,i)}else n.current=null}function Xs(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){ru(e,e.return,o)}}function qs(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,i=null,s=null,l=null,c=null,u=null,d=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&null!=f)switch(p){case"checked":case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(p)||Wu(e,t,p,null,r,f)}}for(var h in r){var p=r[h];if(f=n[h],r.hasOwnProperty(h)&&(null!=p||null!=f))switch(h){case"type":i=p;break;case"name":o=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==f&&Wu(e,t,h,p,r,f)}}return void mt(e,s,l,c,u,d,i,o);case"select":for(i in p=s=l=h=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(i)||Wu(e,t,i,null,r,c)}for(o in r)if(i=r[o],c=n[o],r.hasOwnProperty(o)&&(null!=i||null!=c))switch(o){case"value":h=i;break;case"defaultValue":l=i;break;case"multiple":s=i;default:i!==c&&Wu(e,t,o,i,r,c)}return t=l,n=s,r=p,void(null!=h?bt(e,!!n,h,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=h=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Wu(e,t,l,null,r,o)}for(s in r)if(o=r[s],i=n[s],r.hasOwnProperty(s)&&(null!=o||null!=i))switch(s){case"value":h=o;break;case"defaultValue":p=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(a(91));break;default:o!==i&&Wu(e,t,s,o,r,i)}return void wt(e,h,p);case"option":for(var g in n)if(h=n[g],n.hasOwnProperty(g)&&null!=h&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Wu(e,t,g,null,r,h);for(c in r)if(h=r[c],p=n[c],r.hasOwnProperty(c)&&h!==p&&(null!=h||null!=p))if("selected"===c)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else Wu(e,t,c,h,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)h=n[m],n.hasOwnProperty(m)&&null!=h&&!r.hasOwnProperty(m)&&Wu(e,t,m,null,r,h);for(u in r)if(h=r[u],p=n[u],r.hasOwnProperty(u)&&h!==p&&(null!=h||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:Wu(e,t,u,h,r,p)}return;default:if(Ct(t)){for(var v in n)h=n[v],n.hasOwnProperty(v)&&void 0!==h&&!r.hasOwnProperty(v)&&Gu(e,t,v,void 0,r,h);for(d in r)h=r[d],p=n[d],!r.hasOwnProperty(d)||h===p||void 0===h&&void 0===p||Gu(e,t,d,h,r,p);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&null!=h&&!r.hasOwnProperty(y)&&Wu(e,t,y,null,r,h);for(f in r)h=r[f],p=n[f],!r.hasOwnProperty(f)||h===p||null==h&&null==p||Wu(e,t,f,h,r,p)}(r,e.type,n,t),r[ze]=t}catch(o){ru(e,e.return,o)}}function Ks(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Ys(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ks(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function $s(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Hu));else if(4!==r&&27!==r&&null!==(e=e.child))for($s(e,t,n),e=e.sibling;null!==e;)$s(e,t,n),e=e.sibling}function Qs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Qs(e,t,n),e=e.sibling;null!==e;)Qs(e,t,n),e=e.sibling}var Zs=!1,Js=!1,el=!1,tl="function"===typeof WeakSet?WeakSet:Set,nl=null,rl=!1;function ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:vl(e,n),4&r&&Bs(5,n);break;case 1:if(vl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){ru(n,n.return,s)}else{var o=Ra(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){ru(n,n.return,l)}}64&r&&Vs(n),512&r&&Ws(n,n.return);break;case 3:if(vl(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{zs(r,e)}catch(s){ru(n,n.return,s)}}break;case 26:vl(e,n),512&r&&Ws(n,n.return);break;case 27:case 5:vl(e,n),null===t&&4&r&&Xs(n),512&r&&Ws(n,n.return);break;case 12:default:vl(e,n);break;case 13:vl(e,n),4&r&&ul(e,n);break;case 22:if(!(o=null!==n.memoizedState||Zs)){t=null!==t&&null!==t.memoizedState||Js;var i=Zs,a=Js;Zs=o,(Js=t)&&!a?bl(e,n,0!==(8772&n.subtreeFlags)):vl(e,n),Zs=i,Js=a}512&r&&("manual"===n.memoizedProps.mode?Ws(n,n.return):Gs(n,n.return))}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Xe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var al=null,sl=!1;function ll(e,t,n){for(n=n.child;null!==n;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(a){}switch(n.tag){case 26:Js||Gs(n,t),ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Js||Gs(n,t);var r=al,o=sl;for(al=n.stateNode,ll(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);Xe(n),al=r,sl=o;break;case 5:Js||Gs(n,t);case 6:o=al;var i=sl;if(al=null,ll(e,t,n),sl=i,null!==(al=o))if(sl)try{e=al,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(s){ru(n,t,s)}else try{al.removeChild(n.stateNode)}catch(s){ru(n,t,s)}break;case 18:null!==al&&(sl?(t=al,n=n.stateNode,8===t.nodeType?id(t.parentNode,n):1===t.nodeType&&id(t,n),mf(t)):id(al,n.stateNode));break;case 4:r=al,o=sl,al=n.stateNode.containerInfo,sl=!0,ll(e,t,n),al=r,sl=o;break;case 0:case 11:case 14:case 15:Js||Us(2,n,t),Js||Us(4,n,t),ll(e,t,n);break;case 1:Js||(Gs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&Hs(n,t,r)),ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:Js||Gs(n,t),Js=(r=Js)||null!==n.memoizedState,ll(e,t,n),Js=r;break;default:ll(e,t,n)}}function ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{mf(e)}catch(n){ru(t,t.return,n)}}function dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var r=lu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:case 5:al=l.stateNode,sl=!1;break e;case 3:case 4:al=l.stateNode.containerInfo,sl=!0;break e}l=l.return}if(null===al)throw Error(a(160));cl(i,s,o),al=null,sl=!1,null!==(i=o.alternate)&&(i.return=null),o.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}var hl=null;function pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fl(t,e),gl(e),4&r&&(Us(3,e,e.return),Bs(3,e),Us(5,e,e.return));break;case 1:fl(t,e),gl(e),512&r&&(Js||null===n||Gs(n,n.return)),64&r&&Zs&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=hl;if(fl(t,e),gl(e),512&r&&(Js||null===n||Gs(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(i=o.getElementsByTagName("title")[0])||i[Ge]||i[Fe]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=o.createElement(r),o.head.insertBefore(i,o.querySelector("head > title"))),Xu(i,r,n),i[Fe]=e,Qe(i),r=i;break e;case"link":var s=Ad("link","href",o).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((i=s[l]).getAttribute("href")===(null==n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}Xu(i=o.createElement(r),r,n),o.head.appendChild(i);break;case"meta":if(s=Ad("meta","content",o).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((i=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}Xu(i=o.createElement(r),r,n),o.head.appendChild(i);break;default:throw Error(a(468,r))}i[Fe]=e,Qe(i),r=i}e.stateNode=r}else Td(o,e.type,e.stateNode);else e.stateNode=Sd(o,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?Td(o,e.type,e.stateNode):Sd(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&qs(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){o=e.stateNode,i=e.memoizedProps;try{for(var c=o.firstChild;c;){var u=c.nextSibling,d=c.nodeName;c[Ge]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===c.rel.toLowerCase()||o.removeChild(c),c=u}for(var f=e.type,h=o.attributes;h.length;)o.removeAttributeNode(h[0]);Xu(o,f,i),o[Fe]=e,o[ze]=i}catch(g){ru(e,e.return,g)}}case 5:if(fl(t,e),gl(e),512&r&&(Js||null===n||Gs(n,n.return)),32&e.flags){o=e.stateNode;try{St(o,"")}catch(g){ru(e,e.return,g)}}4&r&&null!=e.stateNode&&qs(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(el=!0);break;case 6:if(fl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(g){ru(e,e.return,g)}}break;case 3:if(Cd=null,o=hl,hl=fd(t.containerInfo),fl(t,e),hl=o,gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{mf(t.containerInfo)}catch(g){ru(e,e.return,g)}el&&(el=!1,ml(e));break;case 4:r=hl,hl=fd(e.stateNode.containerInfo),fl(t,e),gl(e),hl=r;break;case 12:fl(t,e),gl(e);break;case 13:fl(t,e),gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(bc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 22:if(512&r&&(Js||null===n||Gs(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,Zs=(d=Zs)||c,Js=(f=Js)||u,fl(t,e),Js=f,Zs=d,gl(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Zs||Js,null===n||u||t||yl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(o=u.stateNode,c)"function"===typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{s=u.stateNode;var p=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;s.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(g){ru(u,u.return,g)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(g){ru(u,u.return,g)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,dl(e,n))));break;case 19:fl(t,e),gl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 21:break;default:fl(t,e),gl(e)}}function gl(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Ks(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 27:var o=r.stateNode;Qs(e,Ys(e),o);break;case 5:var i=r.stateNode;32&r.flags&&(St(i,""),r.flags&=-33),Qs(e,Ys(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;$s(e,Ys(e),s);break;default:throw Error(a(161))}}}catch(l){ru(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ml(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;ml(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function vl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)ol(e,t.alternate,t),t=t.sibling}function yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Us(4,t,t.return),yl(t);break;case 1:Gs(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&Hs(t,t.return,n),yl(t);break;case 26:case 27:case 5:Gs(t,t.return),yl(t);break;case 22:Gs(t,t.return),null===t.memoizedState&&yl(t);break;default:yl(t)}e=e.sibling}}function bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:bl(o,i,n),Bs(4,i);break;case 1:if(bl(o,i,n),"function"===typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(c){ru(r,r.return,c)}if(null!==(o=(r=i).updateQueue)){var s=r.stateNode;try{var l=o.shared.hiddenCallbacks;if(null!==l)for(o.shared.hiddenCallbacks=null,o=0;o<l.length;o++)Fs(l[o],s)}catch(c){ru(r,r.return,c)}}n&&64&a&&Vs(i),Ws(i,i.return);break;case 26:case 27:case 5:bl(o,i,n),n&&null===r&&4&a&&Xs(i),Ws(i,i.return);break;case 12:default:bl(o,i,n);break;case 13:bl(o,i,n),n&&4&a&&ul(o,i);break;case 22:null===i.memoizedState&&bl(o,i,n),Ws(i,i.return)}t=t.sibling}}function wl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Vo(n))}function xl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vo(e))}function Sl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)_l(e,t,n,r),t=t.sibling}function _l(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Sl(e,t,n,r),2048&o&&Bs(9,t);break;case 3:Sl(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vo(e)));break;case 12:if(2048&o){Sl(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,s=i.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ru(t,t.return,l)}}else Sl(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,null!==t.memoizedState?4&i._visibility?Sl(e,t,n,r):El(e,t):4&i._visibility?Sl(e,t,n,r):(i._visibility|=4,kl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&o&&wl(t.alternate,t);break;case 24:Sl(e,t,n,r),2048&o&&xl(t.alternate,t);break;default:Sl(e,t,n,r)}}function kl(e,t,n,r,o){for(o=o&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,a=t,s=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:kl(i,a,s,l,o),Bs(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?4&u._visibility?kl(i,a,s,l,o):El(i,a):(u._visibility|=4,kl(i,a,s,l,o)),o&&2048&c&&wl(a.alternate,a);break;case 24:kl(i,a,s,l,o),o&&2048&c&&xl(a.alternate,a);break;default:kl(i,a,s,l,o)}t=t.sibling}}function El(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:El(n,r),2048&o&&wl(r.alternate,r);break;case 24:El(n,r),2048&o&&xl(r.alternate,r);break;default:El(n,r)}t=t.sibling}}var Cl=8192;function Al(e){if(e.subtreeFlags&Cl)for(e=e.child;null!==e;)Tl(e),e=e.sibling}function Tl(e){switch(e.tag){case 26:Al(e),e.flags&Cl&&null!==e.memoizedState&&function(e,t,n){if(null===Nd)throw Error(a(475));var r=Nd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var o=vd(n.href),i=e.querySelector(yd(o));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Od.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void Qe(i);i=e.ownerDocument||e,n=bd(n),(o=ud.get(o))&&kd(n,o),Qe(i=i.createElement("link"));var s=i;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),Xu(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Od.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(hl,e.memoizedState,e.memoizedProps);break;case 5:default:Al(e);break;case 3:case 4:var t=hl;hl=fd(e.stateNode.containerInfo),Al(e),hl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Cl,Cl=16777216,Al(e),Cl=t):Al(e))}}function Pl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Nl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Rl(r,e)}Pl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ml(e),e=e.sibling}function Ml(e){switch(e.tag){case 0:case 11:case 15:Nl(e),2048&e.flags&&Us(9,e,e.return);break;case 3:case 12:default:Nl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Ol(e)):Nl(e)}}function Ol(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Rl(r,e)}Pl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Us(8,t,t.return),Ol(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Ol(t));break;default:Ol(t)}e=e.sibling}}function Rl(e,t){for(;null!==nl;){var n=nl;switch(n.tag){case 0:case 11:case 15:Us(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Vo(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,nl=r;else e:for(n=e;null!==nl;){var o=(r=nl).sibling,i=r.return;if(il(r),r===n){nl=null;break e}if(null!==o){o.return=i,nl=o;break e}nl=i}}}function Il(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ll(e,t,n,r){return new Il(e,t,n,r)}function Dl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jl(e,t){var n=e.alternate;return null===n?((n=Ll(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fl(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zl(e,t,n,r,o,i){var s=0;if(r=e,"function"===typeof e)Dl(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,Y.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case d:return Bl(n.children,o,i,t);case f:s=8,o|=24;break;case h:return(e=Ll(12,n,t,2|o)).elementType=h,e.lanes=i,e;case y:return(e=Ll(13,n,t,o)).elementType=y,e.lanes=i,e;case b:return(e=Ll(19,n,t,o)).elementType=b,e.lanes=i,e;case S:return Ul(n,o,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:case m:s=10;break e;case g:s=9;break e;case v:s=11;break e;case w:s=14;break e;case x:s=16,r=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Ll(s,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function Bl(e,t,n,r){return(e=Ll(7,e,r,t)).lanes=n,e}function Ul(e,t,n,r){(e=Ll(22,e,r,t)).elementType=S,e.lanes=n;var o={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=o._current;if(null===e)throw Error(a(456));if(0===(2&o._pendingVisibility)){var t=Pr(e,2);null!==t&&(o._pendingVisibility|=2,Oc(t,e,2))}},attach:function(){var e=o._current;if(null===e)throw Error(a(456));if(0!==(2&o._pendingVisibility)){var t=Pr(e,2);null!==t&&(o._pendingVisibility&=-3,Oc(t,e,2))}}};return e.stateNode=o,e}function Vl(e,t,n){return(e=Ll(6,e,null,t)).lanes=n,e}function Hl(e,t,n){return(t=Ll(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wl(e){e.flags|=4}function Gl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Pd(t)){if(null!==(t=Po.current)&&((4194176&rc)===rc?null!==No:(62914560&rc)!==rc&&0===(536870912&rc)||t!==No))throw ho=lo,so;e.flags|=8192}}function Xl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,gc|=t)}function ql(e,t){if(!$r)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Kl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=31457280&o.subtreeFlags,r|=31457280&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yl(e,t,n){var r=t.pendingProps;switch(qr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Kl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bs(Bo),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ro(t)?Wl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Qr&&(Ic(Qr),Qr=null))),Kl(t),null;case 26:return n=t.memoizedState,null===e?(Wl(t),null!==n?(Kl(t),Gl(t,n)):(Kl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Wl(t),Kl(t),Gl(t,n)):(Kl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Wl(t),Kl(t),t.flags&=-16777217),null;case 27:ne(t),n=Q.current;var o=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Wl(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Kl(t),null}e=Y.current,ro(t)?to(t):(e=cd(o,r,n),t.stateNode=e,Wl(t))}return Kl(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Wl(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Kl(t),null}if(e=Y.current,ro(t))to(t);else{switch(o=Yu(Q.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?o.createElement(n,{is:r.is}):o.createElement(n)}}e[Fe]=t,e[ze]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(Xu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Wl(t)}}return Kl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Wl(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=Q.current,ro(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=Kr))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Fe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Vu(e.nodeValue,n)))||eo(t)}else(e=Yu(e).createTextNode(r))[Fe]=t,t.stateNode=e}return Kl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=ro(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[Fe]=t}else oo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Kl(t),o=!1}else null!==Qr&&(Ic(Qr),Qr=null),o=!0;if(!o)return 256&t.flags?(Io(t),t):(Io(t),null)}if(Io(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==o&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Xl(t,t.updateQueue),Kl(t),null;case 4:return ee(),null===e&&Ou(t.stateNode.containerInfo),Kl(t),null;case 10:return bs(t.type),Kl(t),null;case 19:if(q(Lo),null===(o=t.memoizedState))return Kl(t),null;if(r=0!==(128&t.flags),null===(i=o.rendering))if(r)ql(o,!1);else{if(0!==uc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=Do(e))){for(t.flags|=128,ql(o,!1),e=i.updateQueue,t.updateQueue=e,Xl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fl(n,e),n=n.sibling;return K(Lo,1&Lo.current|2),t.child}e=e.sibling}null!==o.tail&&le()>wc&&(t.flags|=128,r=!0,ql(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Do(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Xl(t,e),ql(o,!0),null===o.tail&&"hidden"===o.tailMode&&!i.alternate&&!$r)return Kl(t),null}else 2*le()-o.renderingStartTime>wc&&536870912!==n&&(t.flags|=128,r=!0,ql(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=o.last)?e.sibling=i:t.child=i,o.last=i)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=le(),t.sibling=null,e=Lo.current,K(Lo,r?1&e|2:1&e),t):(Kl(t),null);case 22:case 23:return Io(t),To(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Kl(t),6&t.subtreeFlags&&(t.flags|=8192)):Kl(t),null!==(n=t.updateQueue)&&Xl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&q(Yo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bs(Bo),Kl(t),null;case 25:return null}throw Error(a(156,t.tag))}function $l(e,t){switch(qr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bs(Bo),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(Io(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));oo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return q(Lo),null;case 4:return ee(),null;case 10:return bs(t.type),null;case 22:case 23:return Io(t),To(),null!==e&&q(Yo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bs(Bo),null;default:return null}}function Ql(e,t){switch(qr(t),t.tag){case 3:bs(Bo),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:Io(t);break;case 19:q(Lo);break;case 10:bs(t.type);break;case 22:case 23:Io(t),To(),null!==e&&q(Yo);break;case 24:bs(Bo)}}var Zl={getCacheForType:function(e){var t=Es(Bo),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Jl="function"===typeof WeakMap?WeakMap:Map,ec=0,tc=null,nc=null,rc=0,oc=0,ic=null,ac=!1,sc=!1,lc=!1,cc=0,uc=0,dc=0,fc=0,hc=0,pc=0,gc=0,mc=null,vc=null,yc=!1,bc=0,wc=1/0,xc=null,Sc=null,_c=!1,kc=null,Ec=0,Cc=0,Ac=null,Tc=0,Pc=null;function Nc(){if(0!==(2&ec)&&0!==rc)return rc&-rc;if(null!==N.T){return 0!==Go?Go:xu()}return De()}function Mc(){0===pc&&(pc=0===(536870912&rc)||$r?Pe():536870912);var e=Po.current;return null!==e&&(e.flags|=32),pc}function Oc(e,t,n){(e===tc&&2===oc||null!==e.cancelPendingCommit)&&(Bc(e,0),jc(e,rc,pc,!1)),Oe(e,n),0!==(2&ec)&&e===tc||(e===tc&&(0===(2&ec)&&(fc|=n),4===uc&&jc(e,rc,pc,!1)),gu(e))}function Rc(e,t,n){if(0!==(6&ec))throw Error(a(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Ae(e,t),o=r?function(e,t){var n=ec;ec|=2;var r=Vc(),o=Hc();tc!==e||rc!==t?(xc=null,wc=le()+500,Bc(e,t)):sc=Ae(e,t);e:for(;;)try{if(0!==oc&&null!==nc){t=nc;var i=ic;t:switch(oc){case 1:oc=0,ic=null,$c(e,t,i,1);break;case 2:if(co(i)){oc=0,ic=null,Yc(t);break}t=function(){2===oc&&tc===e&&(oc=7),gu(e)},i.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:co(i)?(oc=0,ic=null,Yc(t)):(oc=0,ic=null,$c(e,t,i,7));break;case 5:var s=null;switch(nc.tag){case 26:s=nc.memoizedState;case 5:case 27:var l=nc;if(!s||Pd(s)){oc=0,ic=null;var c=l.sibling;if(null!==c)nc=c;else{var u=l.return;null!==u?(nc=u,Qc(u)):nc=null}break t}}oc=0,ic=null,$c(e,t,i,5);break;case 6:oc=0,ic=null,$c(e,t,i,6);break;case 8:zc(),uc=6;break e;default:throw Error(a(462))}}qc();break}catch(d){Uc(e,d)}return vs=ms=null,N.H=r,N.A=o,ec=n,null!==nc?0:(tc=null,rc=0,Cr(),uc)}(e,t):Gc(e,t,!0),i=r;;){if(0===o){sc&&!r&&jc(e,t,0,!1);break}if(6===o)jc(e,t,0,!ac);else{if(n=e.current.alternate,i&&!Dc(n)){o=Gc(e,t,!1),i=!1;continue}if(2===o){if(i=t,e.errorRecoveryDisabledLanes&i)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;o=mc;var c=l.current.memoizedState.isDehydrated;if(c&&(Bc(l,s).flags|=256),2!==(s=Gc(l,s,!1))){if(lc&&!c){l.errorRecoveryDisabledLanes|=i,fc|=i,o=4;break e}i=vc,vc=o,null!==i&&Ic(i)}o=s}if(i=!1,2!==o)continue}}if(1===o){Bc(e,0),jc(e,t,0,!0);break}e:{switch(r=e,o){case 0:case 1:throw Error(a(345));case 4:if((4194176&t)===t){jc(r,t,pc,!ac);break e}break;case 2:vc=null;break;case 3:case 5:break;default:throw Error(a(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(i=bc+300-le())){if(jc(r,t,pc,!ac),0!==Ce(r,0))break e;r.timeoutHandle=ed(Lc.bind(null,r,n,vc,xc,yc,t,pc,fc,gc,ac,2,-0,0),i)}else Lc(r,n,vc,xc,yc,t,pc,fc,gc,ac,0,-0,0)}}break}gu(e)}function Ic(e){null===vc?vc=e:vc.push.apply(vc,e)}function Lc(e,t,n,r,o,i,s,l,c,u,d,f,h){var p=t.subtreeFlags;if((8192&p||16785408===(16785408&p))&&(Nd={stylesheets:null,count:0,unsuspend:Md},Tl(t),null!==(t=function(){if(null===Nd)throw Error(a(475));var e=Nd;return e.stylesheets&&0===e.count&&Id(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Id(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(Jc.bind(null,e,n,r,o,s,l,c,1,f,h)),void jc(e,i,s,!u);Jc(e,n,r,o,s,l,c,d,f,h)}function Dc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Kn(i(),o))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jc(e,t,n,r){t&=~hc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-we(o),a=1<<i;r[i]=-1,o&=~a}0!==n&&Re(e,n,t)}function Fc(){return 0!==(6&ec)||(mu(0,!1),!1)}function zc(){if(null!==nc){if(0===oc)var e=nc.return;else vs=ms=null,yi(e=nc),go=null,mo=0,e=nc;for(;null!==e;)Ql(e.alternate,e),e=e.return;nc=null}}function Bc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,td(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zc(),tc=e,nc=n=jl(e.current,null),rc=t,oc=0,ic=null,ac=!1,sc=Ae(e,t),lc=!1,gc=pc=hc=fc=dc=uc=0,vc=mc=null,yc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-we(r),i=1<<o;t|=e[o],r&=~i}return cc=t,Cr(),n}function Uc(e,t){ei=null,N.H=Ea,t===ao?(t=po(),oc=3):t===so?(t=po(),oc=4):oc=t===Ha?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ic=t,null===nc&&(uc=1,Fa(e,Ir(t,e.current)))}function Vc(){var e=N.H;return N.H=Ea,null===e?Ea:e}function Hc(){var e=N.A;return N.A=Zl,e}function Wc(){uc=4,ac||(4194176&rc)!==rc&&null!==Po.current||(sc=!0),0===(134217727&dc)&&0===(134217727&fc)||null===tc||jc(tc,rc,pc,!1)}function Gc(e,t,n){var r=ec;ec|=2;var o=Vc(),i=Hc();tc===e&&rc===t||(xc=null,Bc(e,t)),t=!1;var a=uc;e:for(;;)try{if(0!==oc&&null!==nc){var s=nc,l=ic;switch(oc){case 8:zc(),a=6;break e;case 3:case 2:case 6:null===Po.current&&(t=!0);var c=oc;if(oc=0,ic=null,$c(e,s,l,c),n&&sc){a=0;break e}break;default:c=oc,oc=0,ic=null,$c(e,s,l,c)}}Xc(),a=uc;break}catch(u){Uc(e,u)}return t&&e.shellSuspendCounter++,vs=ms=null,ec=r,N.H=o,N.A=i,null===nc&&(tc=null,rc=0,Cr()),a}function Xc(){for(;null!==nc;)Kc(nc)}function qc(){for(;null!==nc&&!ae();)Kc(nc)}function Kc(e){var t=ps(e.alternate,e,cc);e.memoizedProps=e.pendingProps,null===t?Qc(e):nc=t}function Yc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ja(n,t,t.pendingProps,t.type,void 0,rc);break;case 11:t=Ja(n,t,t.pendingProps,t.type.render,t.ref,rc);break;case 5:yi(t);default:Ql(n,t),t=ps(n,t=nc=Fl(t,cc),cc)}e.memoizedProps=e.pendingProps,null===t?Qc(e):nc=t}function $c(e,t,n,r){vs=ms=null,yi(t),go=null,mo=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ss(t,n,o,!0),null!==(n=Po.current)){switch(n.tag){case 13:return null===No?Wc():null===n.alternate&&0===uc&&(uc=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===lo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ou(e,r,o)),!1;case 22:return n.flags|=65536,r===lo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ou(e,r,o)),!1}throw Error(a(435,n.tag))}return ou(e,r,o),Wc(),!1}if($r)return null!==(t=Po.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==Jr&&io(Ir(e=Error(a(422),{cause:r}),n))):(r!==Jr&&io(Ir(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Ir(r,n),Is(e,o=Ba(e.stateNode,r,o)),4!==uc&&(uc=2)),!1;var i=Error(a(520),{cause:r});if(i=Ir(i,n),null===mc?mc=[i]:mc.push(i),4!==uc&&(uc=2),null===t)return!0;r=Ir(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,Is(n,e=Ba(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Sc||!Sc.has(i))))return n.flags|=65536,o&=-o,n.lanes|=o,Va(o=Ua(o),e,n,r),Is(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,rc))return uc=1,Fa(e,Ir(n,e.current)),void(nc=null)}catch(i){if(null!==o)throw nc=o,i;return uc=1,Fa(e,Ir(n,e.current)),void(nc=null)}32768&t.flags?($r||1===r?e=!0:sc||0!==(536870912&rc)?e=!1:(ac=e=!0,(2===r||3===r||6===r)&&(null!==(r=Po.current)&&13===r.tag&&(r.flags|=16384))),Zc(t,e)):Qc(t)}function Qc(e){var t=e;do{if(0!==(32768&t.flags))return void Zc(t,ac);e=t.return;var n=Yl(t.alternate,t,cc);if(null!==n)return void(nc=n);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===uc&&(uc=5)}function Zc(e,t){do{var n=$l(e.alternate,e);if(null!==n)return n.flags&=32767,void(nc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=n}while(null!==e);uc=6,nc=null}function Jc(e,t,n,r,o,i,s,l,c,u){var d=N.T,f=V.p;try{V.p=2,N.T=null,function(e,t,n,r,o,i,s,l){do{tu()}while(null!==kc);if(0!==(6&ec))throw Error(a(327));var c=e.finishedWork;if(r=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,r,o,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-we(n),d=1<<u;s[u]=0,l[u]=-1;var f=c[u];if(null!==f)for(c[u]=null,u=0;u<f.length;u++){var h=f[u];null!==h&&(h.lane&=-536870913)}n&=~d}0!==r&&Re(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,r,u|=Er,i,s,l),e===tc&&(nc=tc=null,rc=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||_c||(_c=!0,Cc=u,Ac=n,function(e,t){oe(e,t)}(fe,(function(){return tu(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=N.T,N.T=null,i=V.p,V.p=2,s=ec,ec|=4,function(e,t){if(e=e.containerInfo,qu=Wd,er(e=Jn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(m){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==o&&3!==f.nodeType||(l=s+o),f!==i||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===o&&(l=s),h===i&&++d===r&&(c=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ku={focusedElem:e,selectionRange:n},Wd=!1,nl=t;null!==nl;)if(e=(t=nl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nl=e;else for(;null!==nl;){switch(i=(t=nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,o=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var g=Ra(n.type,o,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(g,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){ru(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))ad(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,nl=e;break}nl=t.return}g=rl,rl=!1}(e,c),pl(c,e),tr(Ku,e.containerInfo),Wd=!!qu,Ku=qu=null,e.current=c,ol(e,c.alternate,c),se(),ec=s,V.p=i,N.T=n):e.current=c,_c?(_c=!1,kc=e,Ec=r):eu(e,u),u=e.pendingLanes,0===u&&(Sc=null),function(e){if(ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),gu(e),null!==t)for(o=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],o(u.value,{componentStack:u.stack});0!==(3&Ec)&&tu(),u=e.pendingLanes,0!==(4194218&r)&&0!==(42&u)?e===Pc?Tc++:(Tc=0,Pc=e):Tc=0,mu(0,!1)}(e,t,n,r,f,o,i,s)}finally{N.T=d,V.p=f}}function eu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Vo(t)))}function tu(){if(null!==kc){var e=kc,t=Cc;Cc=0;var n=Le(Ec),r=N.T,o=V.p;try{if(V.p=32>n?32:n,N.T=null,null===kc)var i=!1;else{n=Ac,Ac=null;var s=kc,l=Ec;if(kc=null,Ec=0,0!==(6&ec))throw Error(a(331));var c=ec;if(ec|=4,Ml(s.current),_l(s,s.current,l,n),ec=c,mu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,s)}catch(u){}i=!0}return i}finally{V.p=o,N.T=r,eu(e,t)}}return!1}function nu(e,t,n){t=Ir(n,t),null!==(e=Os(e,t=Ba(e.stateNode,t,2),2))&&(Oe(e,2),gu(e))}function ru(e,t,n){if(3===e.tag)nu(e,e,n);else for(;null!==t;){if(3===t.tag){nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Sc||!Sc.has(r))){e=Ir(n,e),null!==(r=Os(t,n=Ua(2),2))&&(Va(n,r,t,e),Oe(r,2),gu(r));break}}t=t.return}}function ou(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Jl;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(lc=!0,o.add(n),e=iu.bind(null,e,t,n),t.then(e,e))}function iu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,tc===e&&(rc&n)===n&&(4===uc||3===uc&&(62914560&rc)===rc&&300>le()-bc?0===(2&ec)&&Bc(e,0):hc|=n,gc===rc&&(gc=0)),gu(e)}function au(e,t){0===t&&(t=Ne()),null!==(e=Pr(e,t))&&(Oe(e,t),gu(e))}function su(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),au(e,n)}function lu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),au(e,n)}var cu=null,uu=null,du=!1,fu=!1,hu=!1,pu=0;function gu(e){var t;e!==uu&&null===e.next&&(null===uu?cu=uu=e:uu=uu.next=e),fu=!0,du||(du=!0,t=vu,rd((function(){0!==(6&ec)?oe(ue,t):t()})))}function mu(e,t){if(!hu&&fu){hu=!0;do{for(var n=!1,r=cu;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var a=r.suspendedLanes,s=r.pingedLanes;i=(1<<31-we(42|e)+1)-1,i=201326677&(i&=o&~(a&~s))?201326677&i|1:i?2|i:0}0!==i&&(n=!0,wu(r,i))}else i=rc,0===(3&(i=Ce(r,r===tc?i:0)))||Ae(r,i)||(n=!0,wu(r,i));r=r.next}}while(n);hu=!1}}function vu(){fu=du=!1;var e=0;0!==pu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Ju&&(Ju=e,!0);return Ju=null,!1}()&&(e=pu),pu=0);for(var t=le(),n=null,r=cu;null!==r;){var o=r.next,i=yu(r,t);0===i?(r.next=null,null===n?cu=o:n.next=o,null===o&&(uu=n)):(n=r,(0!==e||0!==(3&i))&&(fu=!0)),r=o}mu(e,!1)}function yu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-we(i),s=1<<a,l=o[a];-1===l?0!==(s&n)&&0===(s&r)||(o[a]=Te(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}if(n=rc,n=Ce(e,e===(t=tc)?n:0),r=e.callbackNode,0===n||e===t&&2===oc||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ie(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ae(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ie(r),Le(n)){case 2:case 8:n=de;break;case 32:default:n=fe;break;case 268435456:n=pe}return r=bu.bind(null,e),n=oe(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ie(r),e.callbackPriority=2,e.callbackNode=null,2}function bu(e,t){var n=e.callbackNode;if(tu()&&e.callbackNode!==n)return null;var r=rc;return 0===(r=Ce(e,e===tc?r:0))?null:(Rc(e,r,t),yu(e,le()),null!=e.callbackNode&&e.callbackNode===n?bu.bind(null,e):null)}function wu(e,t){if(tu())return null;Rc(e,t,!0)}function xu(){return 0===pu&&(pu=Pe()),pu}function Su(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function _u(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var ku=0;ku<xr.length;ku++){var Eu=xr[ku];Sr(Eu.toLowerCase(),"on"+(Eu[0].toUpperCase()+Eu.slice(1)))}Sr(hr,"onAnimationEnd"),Sr(pr,"onAnimationIteration"),Sr(gr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(mr,"onTransitionRun"),Sr(vr,"onTransitionStart"),Sr(yr,"onTransitionCancel"),Sr(br,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Au=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function Tu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=c;try{i(o)}catch(u){Ia(u)}o.currentTarget=null,i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=c;try{i(o)}catch(u){Ia(u)}o.currentTarget=null,i=l}}}}function Pu(e,t){var n=t[Ue];void 0===n&&(n=t[Ue]=new Set);var r=e+"__bubble";n.has(r)||(Ru(t,e,2,!1),n.add(r))}function Nu(e,t,n){var r=0;t&&(r|=4),Ru(n,e,r,t)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function Ou(e){if(!e[Mu]){e[Mu]=!0,Ze.forEach((function(t){"selectionchange"!==t&&(Au.has(t)||Nu(t,!1,e),Nu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Mu]||(t[Mu]=!0,Nu("selectionchange",!1,t))}}function Ru(e,t,n,r){switch(Qd(t)){case 2:var o=Gd;break;case 8:o=Xd;break;default:o=qd}n=o.bind(null,t,n,e),o=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Iu(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=qe(s)))return;if(5===(l=a.tag)||6===l||26===l||27===l){r=i=a;continue e}s=s.parentNode}}r=r.return}Dt((function(){var r=i,o=Mt(n),a=[];e:{var s=wr.get(e);if(void 0!==s){var l=Zt,c=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":l=pn;break;case"focusin":c="focus",l=on;break;case"focusout":c="blur",l=on;break;case"beforeblur":case"afterblur":l=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=mn;break;case hr:case pr:case gr:l=an;break;case br:l=vn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=yn;break;case"copy":case"cut":case"paste":l=sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=gn;break;case"toggle":case"beforetoggle":l=bn}var u=0!==(4&t),d=!u&&("scroll"===e||"scrollend"===e),f=u?null!==s?s+"Capture":null:s;u=[];for(var h,p=r;null!==p;){var g=p;if(h=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===h||null===f||null!=(g=jt(p,f))&&u.push(Lu(p,g,h)),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,o),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Nt||!(c=n.relatedTarget||n.fromElement)||!qe(c)&&!c[Be])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?qe(c):null)&&(d=j(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=r),l!==c)){if(u=nn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=gn,g="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:Ye(l),h=null==c?s:Ye(c),(s=new u(g,p+"leave",l,n,o)).target=d,s.relatedTarget=h,g=null,qe(o)===r&&((u=new u(f,p+"enter",c,n,o)).target=h,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(f=c,p=0,h=u=l;h;h=ju(h))p++;for(h=0,g=f;g;g=ju(g))h++;for(;0<p-h;)u=ju(u),p--;for(;0<h-p;)f=ju(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=ju(u),f=ju(f)}u=null}else u=null;null!==l&&Fu(a,s,l,u,!1),null!==c&&null!==d&&Fu(a,d,c,u,!0)}if("select"===(l=(s=r?Ye(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=jn;else if(Mn(s))if(Fn)m=qn;else{m=Gn;var v=Wn}else!(l=s.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Ct(r.elementType)&&(m=jn):m=Xn;switch(m&&(m=m(e,r))?On(a,m,n,o):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&yt(s,"number",s.value)),v=r?Ye(r):window,e){case"focusin":(Mn(v)||"true"===v.contentEditable)&&(rr=v,or=r,ir=null);break;case"focusout":ir=or=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,sr(a,n,o);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(a,n,o)}var y;if(xn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Pn?An(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(kn&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Pn&&(y=Ht()):(Ut="value"in(Bt=o)?Bt.value:Bt.textContent,Pn=!0)),0<(v=Du(r,b)).length&&(b=new ln(b,e,null,n,o),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Tn(n))&&(b.data=y))),(y=_n?function(e,t){switch(e){case"compositionend":return Tn(t);case"keypress":return 32!==t.which?null:(Cn=!0,En);case"textInput":return(e=t.data)===En&&Cn?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!xn&&An(e,t)?(e=Ht(),Vt=Ut=Bt=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Du(r,"onBeforeInput")).length&&(v=new ln("onBeforeInput","beforeinput",null,n,o),a.push({event:v,listeners:b}),v.data=y)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=Su((o[ze]||null).action),a=r.submitter;a&&null!==(t=(t=a[ze]||null)?Su(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var s=new Zt("action","action",null,r,o);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==pu){var e=a?_u(o,a):new FormData(o);da(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"===typeof i&&(s.preventDefault(),e=a?_u(o,a):new FormData(o),da(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(a,e,r,n,o)}Tu(a,t)}))}function Lu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Du(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=jt(e,n))&&r.unshift(Lu(e,o,i)),null!=(o=jt(e,t))&&r.push(Lu(e,o,i))),e=e.return}return r}function ju(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Fu(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,o?null!=(c=jt(n,i))&&a.unshift(Lu(n,c,l)):o||null!=(c=jt(n,i))&&a.push(Lu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var zu=/\r\n?/g,Bu=/\u0000|\uFFFD/g;function Uu(e){return("string"===typeof e?e:""+e).replace(zu,"\n").replace(Bu,"")}function Vu(e,t){return t=Uu(t),Uu(e)===t}function Hu(){}function Wu(e,t,n,r,o,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":st(e,"class",r);break;case"tabIndex":st(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":st(e,n,r);break;case"style":Et(e,r,i);break;case"data":if("object"!==t){st(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Wu(e,t,"name",o.name,o,null),Wu(e,t,"formEncType",o.formEncType,o,null),Wu(e,t,"formMethod",o.formMethod,o,null),Wu(e,t,"formTarget",o.formTarget,o,null)):(Wu(e,t,"encType",o.encType,o,null),Wu(e,t,"method",o.method,o,null),Wu(e,t,"target",o.target,o,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Hu);break;case"onScroll":null!=r&&Pu("scroll",e);break;case"onScrollEnd":null!=r&&Pu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Pu("beforetoggle",e),Pu("toggle",e),at(e,"popover",r);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":at(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&at(e,n=At.get(n)||n,r)}}function Gu(e,t,n,r,o,i){switch(n){case"style":Et(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Pu("scroll",e);break;case"onScrollEnd":null!=r&&Pu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Je.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(i=null!=(i=e[ze]||null)?i[n]:null)&&e.removeEventListener(t,i,o),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):at(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function Xu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pu("error",e),Pu("load",e);var r,o=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":o=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Wu(e,t,r,s,n,null)}}return i&&Wu(e,t,"srcSet",n.srcSet,n,null),void(o&&Wu(e,t,"src",n.src,n,null));case"input":Pu("invalid",e);var l=r=s=i=null,c=null,u=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":i=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Wu(e,t,o,d,n,null)}}return vt(e,r,l,c,u,s,i,!1),void dt(e);case"select":for(i in Pu("invalid",e),o=s=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":o=l;default:Wu(e,t,i,l,n,null)}return t=r,n=s,e.multiple=!!o,void(null!=t?bt(e,!!o,t,!1):null!=n&&bt(e,!!o,n,!0));case"textarea":for(s in Pu("invalid",e),r=i=o=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":o=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Wu(e,t,s,l,n,null)}return xt(e,o,i,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))if("selected"===c)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else Wu(e,t,c,o,n,null);return;case"dialog":Pu("cancel",e),Pu("close",e);break;case"iframe":case"object":Pu("load",e);break;case"video":case"audio":for(o=0;o<Cu.length;o++)Pu(Cu[o],e);break;case"image":Pu("error",e),Pu("load",e);break;case"details":Pu("toggle",e);break;case"embed":case"source":case"link":Pu("error",e),Pu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Wu(e,t,u,o,n,null)}return;default:if(Ct(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&Gu(e,t,d,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(o=n[l])&&Wu(e,t,l,o,n,null))}var qu=null,Ku=null;function Yu(e){return 9===e.nodeType?e:e.ownerDocument}function $u(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Zu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ju=null;var ed="function"===typeof setTimeout?setTimeout:void 0,td="function"===typeof clearTimeout?clearTimeout:void 0,nd="function"===typeof Promise?Promise:void 0,rd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nd?function(e){return nd.resolve(null).then(e).catch(od)}:ed;function od(e){setTimeout((function(){throw e}))}function id(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void mf(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);mf(t)}function ad(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ad(n),Xe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function sd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ld(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function cd(e,t,n){switch(t=Yu(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}var ud=new Map,dd=new Set;function fd(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var hd=V.d;V.d={f:function(){var e=hd.f(),t=Fc();return e||t},r:function(e){var t=Ke(e);null!==t&&5===t.tag&&"form"===t.type?ha(t):hd.r(e)},D:function(e){hd.D(e),gd("dns-prefetch",e,null)},C:function(e,t){hd.C(e,t),gd("preconnect",e,t)},L:function(e,t,n){hd.L(e,t,n);var r=pd;if(r&&e&&t){var o='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+gt(n.imageSizes)+'"]')):o+='[href="'+gt(e)+'"]';var i=o;switch(t){case"style":i=vd(e);break;case"script":i=wd(e)}ud.has(i)||(e=M({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),ud.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(yd(i))||"script"===t&&r.querySelector(xd(i))||(Xu(t=r.createElement("link"),"link",e),Qe(t),r.head.appendChild(t)))}},m:function(e,t){hd.m(e,t);var n=pd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=wd(e)}if(!ud.has(i)&&(e=M({rel:"modulepreload",href:e},t),ud.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(xd(i)))return}Xu(r=n.createElement("link"),"link",e),Qe(r),n.head.appendChild(r)}}},X:function(e,t){hd.X(e,t);var n=pd;if(n&&e){var r=$e(n).hoistableScripts,o=wd(e),i=r.get(o);i||((i=n.querySelector(xd(o)))||(e=M({src:e,async:!0},t),(t=ud.get(o))&&Ed(e,t),Qe(i=n.createElement("script")),Xu(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){hd.S(e,t,n);var r=pd;if(r&&e){var o=$e(r).hoistableStyles,i=vd(e);t=t||"default";var a=o.get(i);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(yd(i)))s.loading=5;else{e=M({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ud.get(i))&&kd(e,n);var l=a=r.createElement("link");Qe(l),Xu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,_d(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},o.set(i,a)}}},M:function(e,t){hd.M(e,t);var n=pd;if(n&&e){var r=$e(n).hoistableScripts,o=wd(e),i=r.get(o);i||((i=n.querySelector(xd(o)))||(e=M({src:e,async:!0,type:"module"},t),(t=ud.get(o))&&Ed(e,t),Qe(i=n.createElement("script")),Xu(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var pd="undefined"===typeof document?null:document;function gd(e,t,n){var r=pd;if(r&&"string"===typeof t&&t){var o=gt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),dd.has(o)||(dd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(Xu(t=r.createElement("link"),"link",e),Qe(t),r.head.appendChild(t)))}}function md(e,t,n,r){var o,i,s,l,c=(c=Q.current)?fd(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=vd(n.href),(r=(n=$e(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=vd(n.href);var u=$e(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(yd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ud.set(e,n),u||(o=c,i=e,s=n,l=d.state,o.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=o.createElement("link"),l.preload=i,i.addEventListener("load",(function(){return l.loading|=1})),i.addEventListener("error",(function(){return l.loading|=2})),Xu(i,"link",s),Qe(i),o.head.appendChild(i))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=wd(n),(r=(n=$e(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function vd(e){return'href="'+gt(e)+'"'}function yd(e){return'link[rel="stylesheet"]['+e+"]"}function bd(e){return M({},e,{"data-precedence":e.precedence,precedence:null})}function wd(e){return'[src="'+gt(e)+'"]'}function xd(e){return"script[async]"+e}function Sd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,Qe(r),r;var o=M({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Qe(r=(e.ownerDocument||e).createElement("style")),Xu(r,"style",o),_d(r,n.precedence,e),t.instance=r;case"stylesheet":o=vd(n.href);var i=e.querySelector(yd(o));if(i)return t.state.loading|=4,t.instance=i,Qe(i),i;r=bd(n),(o=ud.get(o))&&kd(r,o),Qe(i=(e.ownerDocument||e).createElement("link"));var s=i;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),Xu(i,"link",r),t.state.loading|=4,_d(i,n.precedence,e),t.instance=i;case"script":return i=wd(n.src),(o=e.querySelector(xd(i)))?(t.instance=o,Qe(o),o):(r=n,(o=ud.get(i))&&Ed(r=M({},n),o),Qe(o=(e=e.ownerDocument||e).createElement("script")),Xu(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,_d(r,n.precedence,e));return t.instance}function _d(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)i=s;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function kd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Cd=null;function Ad(e,t,n){if(null===Cd){var r=new Map,o=Cd=new Map;o.set(n,r)}else(r=(o=Cd).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[Ge]||i[Fe]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(i):r.set(a,[i])}}return r}function Td(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Pd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Nd=null;function Md(){}function Od(){if(this.count--,0===this.count)if(this.stylesheets)Id(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Rd=null;function Id(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Rd=new Map,t.forEach(Ld,e),Rd=null,Od.call(e))}function Ld(e,t){if(!(4&t.state.loading)){var n=Rd.get(e);if(n)var r=n.get(null);else{n=new Map,Rd.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var a=o[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(o=t.instance).getAttribute("data-precedence"),(i=n.get(a)||r)===r&&n.set(null,o),n.set(a,o),this.count++,r=Od.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var Dd={$$typeof:m,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function jd(e,t,n,r,o,i,a,s){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Me(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Me(0),this.hiddenUpdates=Me(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Fd(e,t,n,r,o,i,a,s,l,c,u,d){return e=new jd(e,t,n,a,s,l,c,d),t=1,!0===i&&(t|=24),i=Ll(3,null,null,t),e.current=i,i.stateNode=e,(t=Uo()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},Ps(i),e}function zd(e){return e?e=Or:Or}function Bd(e,t,n,r,o,i){o=zd(o),null===r.context?r.context=o:r.pendingContext=o,(r=Ms(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=Os(e,r,t))&&(Oc(n,0,t),Rs(n,e,t))}function Ud(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vd(e,t){Ud(e,t),(e=e.alternate)&&Ud(e,t)}function Hd(e){if(13===e.tag){var t=Pr(e,67108864);null!==t&&Oc(t,0,67108864),Vd(e,67108864)}}var Wd=!0;function Gd(e,t,n,r){var o=N.T;N.T=null;var i=V.p;try{V.p=2,qd(e,t,n,r)}finally{V.p=i,N.T=o}}function Xd(e,t,n,r){var o=N.T;N.T=null;var i=V.p;try{V.p=8,qd(e,t,n,r)}finally{V.p=i,N.T=o}}function qd(e,t,n,r){if(Wd){var o=Kd(r);if(null===o)Iu(e,t,r,Yd,n),sf(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Jd=lf(Jd,e,t,n,r,o),!0;case"dragenter":return ef=lf(ef,e,t,n,r,o),!0;case"mouseover":return tf=lf(tf,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return nf.set(i,lf(nf.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,rf.set(i,lf(rf.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(sf(e,r),4&t&&-1<af.indexOf(e)){for(;null!==o;){var i=Ke(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=Ee(i.pendingLanes);if(0!==a){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-we(a);s.entanglements[1]|=l,a&=~l}gu(i),0===(6&ec)&&(wc=le()+500,mu(0,!1))}}break;case 13:null!==(s=Pr(i,2))&&Oc(s,0,2),Fc(),Vd(i,2)}if(null===(i=Kd(r))&&Iu(e,t,r,Yd,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Iu(e,t,r,null,n)}}function Kd(e){return $d(e=Mt(e))}var Yd=null;function $d(e){if(Yd=null,null!==(e=qe(e))){var t=j(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=F(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Yd=e,null}function Qd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case fe:case he:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Zd=!1,Jd=null,ef=null,tf=null,nf=new Map,rf=new Map,of=[],af="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sf(e,t){switch(e){case"focusin":case"focusout":Jd=null;break;case"dragenter":case"dragleave":ef=null;break;case"mouseover":case"mouseout":tf=null;break;case"pointerover":case"pointerout":nf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rf.delete(t.pointerId)}}function lf(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=Ke(t))&&Hd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function cf(e){var t=qe(e.target);if(null!==t){var n=j(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=F(n)))return e.blockedOn=t,void function(e,t){var n=V.p;try{return V.p=e,t()}finally{V.p=n}}(e.priority,(function(){if(13===n.tag){var e=Nc(),t=Pr(n,e);null!==t&&Oc(t,0,e),Vd(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function uf(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kd(e.nativeEvent);if(null!==n)return null!==(t=Ke(n))&&Hd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Nt=r,n.target.dispatchEvent(r),Nt=null,t.shift()}return!0}function df(e,t,n){uf(e)&&n.delete(t)}function ff(){Zd=!1,null!==Jd&&uf(Jd)&&(Jd=null),null!==ef&&uf(ef)&&(ef=null),null!==tf&&uf(tf)&&(tf=null),nf.forEach(df),rf.forEach(df)}function hf(e,t){e.blockedOn===t&&(e.blockedOn=null,Zd||(Zd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ff)))}var pf=null;function gf(e){pf!==e&&(pf=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){pf===e&&(pf=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!==typeof r){if(null===$d(r||n))continue;break}var i=Ke(n);null!==i&&(e.splice(t,3),t-=3,da(i,{pending:!0,data:o,method:n.method,action:r},r,o))}})))}function mf(e){function t(t){return hf(t,e)}null!==Jd&&hf(Jd,e),null!==ef&&hf(ef,e),null!==tf&&hf(tf,e),nf.forEach(t),rf.forEach(t);for(var n=0;n<of.length;n++){var r=of[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<of.length&&null===(n=of[0]).blockedOn;)cf(n),null===n.blockedOn&&of.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],a=o[ze]||null;if("function"===typeof i)a||gf(n);else if(a){var s=null;if(i&&i.hasAttribute("formAction")){if(o=i,a=i[ze]||null)s=a.formAction;else if(null!==$d(o))continue}else s=a.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),gf(n)}}}function vf(e){this._internalRoot=e}function yf(e){this._internalRoot=e}yf.prototype.render=vf.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Bd(t.current,Nc(),e,t,null,null)},yf.prototype.unmount=vf.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&tu(),Bd(e.current,2,null,e,null,null),Fc(),t[Be]=null}},yf.prototype.unstable_scheduleHydration=function(e){if(e){var t=De();e={blockedOn:null,target:e,priority:t};for(var n=0;n<of.length&&0!==t&&t<of[n].priority;n++);of.splice(n,0,e),0===n&&cf(e)}};var bf=o.version;if("19.0.0"!==bf)throw Error(a(527,bf,"19.0.0"));V.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=j(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return z(o),e;if(i===r)return z(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?B(e):null)?null:e.stateNode};var wf={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:N,findFiberByHostInstance:qe,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xf.isDisabled&&xf.supportsFiber)try{ve=xf.inject(wf),ye=xf}catch(_f){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,r="",o=La,i=Da,l=ja;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Fd(e,1,!1,null,0,n,r,o,i,l,0,null),e[Be]=t.current,Ou(8===e.nodeType?e.parentNode:e),new vf(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var r=!1,o="",i=La,l=Da,c=ja,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Fd(e,1,!0,t,0,r,o,i,l,c,0,u)).context=zd(null),n=t.current,(o=Ms(r=Nc())).callback=null,Os(n,o,r),t.current.lanes=r,Oe(t,r),gu(t),e[Be]=t.current,Ou(e),new yf(t)},t.version="19.0.0"},672:(e,t,n)=>{"use strict";var r=n(43);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(o(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:i}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},914:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,M();else{var t=r(u);null!==t&&O(x,t.startTime-e)}}var S,_=!1,k=-1,E=5,C=-1;function A(){return!(t.unstable_now()-C<E)}function T(){if(_){var e=t.unstable_now();C=e;var n=!0;try{e:{g=!1,m&&(m=!1,y(k),k=-1),p=!0;var i=h;try{t:{for(w(e),f=r(c);null!==f&&!(f.expirationTime>e&&A());){var a=f.callback;if("function"===typeof a){f.callback=null,h=f.priorityLevel;var s=a(f.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){f.callback=s,w(e),n=!0;break t}f===r(c)&&o(c),w(e)}else o(c);f=r(c)}if(null!==f)n=!0;else{var l=r(u);null!==l&&O(x,l.startTime-e),n=!1}}break e}finally{f=null,h=i,p=!1}n=void 0}}finally{n?S():_=!1}}}if("function"===typeof b)S=function(){b(T)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,N=P.port2;P.port1.onmessage=T,S=function(){N.postMessage(null)}}else S=function(){v(T,0)};function M(){_||(_=!0,S())}function O(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,M())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(m?(y(k),k=-1):m=!0,O(x,i-a))):(e.sortIndex=s,n(c,e),g||p||(g=!0,M())),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},67:(e,t,n)=>{"use strict";e.exports=n(914)},29:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,t,n){"use strict";n.r(t);var r=n("react"),o=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function s(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise((function(n,r){t.call(navigator,e,n,r)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var l=function(e){function t(t){var n=e.call(this,t)||this;return n.canvas=null,n.ctx=null,n.requestUserMediaId=0,n.unmounted=!1,n.state={hasUserMedia:!1},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;this.unmounted=!1,s()?(e.hasUserMedia||this.requestUserMedia(),t.children&&"function"!=typeof t.children&&console.warn("children must be a function")):t.onUserMediaError("getUserMedia not supported")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(s()){var n=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),r=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),o=e.minScreenshotWidth!==t.minScreenshotWidth,i=e.minScreenshotHeight!==t.minScreenshotHeight;(r||o||i)&&(this.canvas=null,this.ctx=null),(n||r)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError("getUserMedia not supported")},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},t.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map((function(t){e.removeTrack(t),t.stop()})),e.getAudioTracks().map((function(t){e.removeTrack(t),t.stop()}))):e.stop())},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(t.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,n=this.props;if(!t.hasUserMedia)return null;var r=this.getCanvas(e);return r&&r.toDataURL(n.screenshotFormat,n.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,n=this.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var r=this.video.videoWidth,o=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var i=r/o;o=(r=n.minScreenshotWidth||this.video.clientWidth)/i,n.minScreenshotHeight&&o<n.minScreenshotHeight&&(r=(o=n.minScreenshotHeight)*i)}this.canvas=document.createElement("canvas"),this.canvas.width=(null===e||void 0===e?void 0:e.width)||r,this.canvas.height=(null===e||void 0===e?void 0:e.height)||o,this.ctx=this.canvas.getContext("2d")}var a=this.ctx,s=this.canvas;return a&&s&&(s.width=(null===e||void 0===e?void 0:e.width)||s.width,s.height=(null===e||void 0===e?void 0:e.height)||s.height,n.mirrored&&(a.translate(s.width,0),a.scale(-1,1)),a.imageSmoothingEnabled=n.imageSmoothing,a.drawImage(this.video,0,0,(null===e||void 0===e?void 0:e.width)||s.width,(null===e||void 0===e?void 0:e.height)||s.height),n.mirrored&&(a.scale(-1,1),a.translate(-s.width,0))),s},t.prototype.requestUserMedia=function(){var e=this,n=this.props,r=function(r,o){var i={video:"undefined"===typeof o||o};n.audio&&(i.audio="undefined"===typeof r||r),e.requestUserMediaId++;var a=e.requestUserMediaId;navigator.mediaDevices.getUserMedia(i).then((function(n){e.unmounted||a!==e.requestUserMediaId?t.stopMediaStream(n):e.handleUserMedia(null,n)})).catch((function(t){e.handleUserMedia(t)}))};if("mediaDevices"in navigator)r(n.audioConstraints,n.videoConstraints);else{var o=function(e){return{optional:[{sourceId:e}]}},i=function(e){var t=e.deviceId;return"string"===typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"===typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources((function(e){var t=null,a=null;e.forEach((function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(a=e.id)}));var s=i(n.audioConstraints);s&&(t=s);var l=i(n.videoConstraints);l&&(a=l),r(o(t),o(a))}))}},t.prototype.handleUserMedia=function(e,t){var n=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void n.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(r){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}n.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,n=this.props,o=n.audio,s=(n.forceScreenshotSourceSize,n.disablePictureInPicture),l=(n.onUserMedia,n.onUserMediaError,n.screenshotFormat,n.screenshotQuality,n.minScreenshotWidth,n.minScreenshotHeight,n.audioConstraints,n.videoConstraints,n.imageSmoothing,n.mirrored),c=n.style,u=void 0===c?{}:c,d=n.children,f=a(n,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),h=l?i(i({},u),{transform:(u.transform||"")+" scaleX(-1)"}):u,p={getScreenshot:this.getScreenshot.bind(this)};return r.createElement(r.Fragment,null,r.createElement("video",i({autoPlay:!0,disablePictureInPicture:s,src:t.src,muted:!o,playsInline:!0,ref:function(t){e.video=t},style:h},f)),d&&d(p))},t.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t}(r.Component);t.default=l},react:function(t,n){t.exports=e}}).default},e.exports=r(n(43))},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=o,t.jsxs=o},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function k(e,t,r,o,i,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(){}function P(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case f:return P((u=e._init)(e._payload),t,o,i,a)}}if(u)return a=a(e),u=""===i?"."+A(e,0):i,x(a)?(o="",null!=u&&(o=u.replace(C,"$&/")+"/"),P(a,t,o,"",(function(e){return e}))):null!=a&&(E(a)&&(l=a,c=o+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+u,a=k(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,p=""===i?".":i+":";if(x(e))for(var g=0;g<e.length;g++)u+=P(i=e[g],t,o,s=p+A(i,g),a);else if("function"===typeof(g=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(e=g.call(e),g=0;!(i=e.next()).done;)u+=P(i=i.value,t,o,s=p+A(i,g++),a);else if("object"===s){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(T,T):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function N(e,t,n){if(null==e)return e;var r=[],o=0;return P(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function R(){}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),o=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(o=""+t.key),t)!_.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var a=Array(i),s=0;s<i;s++)a[s]=arguments[s+2];r.children=a}return k(e.type,o,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)_.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var a=arguments.length-2;if(1===a)o.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];o.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===o[r]&&(o[r]=a[r]);return k(e,i,void 0,0,0,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),o=S.S;null!==o&&o(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(R,O)}catch(i){O(i)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.H.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.0.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},579:(e,t,n)=>{"use strict";e.exports=n(799)},330:(e,t,n)=>{"use strict";var r=n(43);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,u=r[1];return s((function(){o.value=n,o.getSnapshot=t,c(o)&&u({inst:o})}),[e,n,t]),a((function(){return c(o)&&u({inst:o}),e((function(){c(o)&&u({inst:o})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},717:(e,t,n)=>{"use strict";var r=n(43),o=n(461);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=o.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=c((function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==o&&f.hasValue){var t=f.value;if(o(t,e))return s=t}return s=e}if(t=s,i(a,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(a=e,t):(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,o]);var h=a(e,d[0],d[1]);return l((function(){f.hasValue=!0,f.value=h}),[h]),u(h),h}},461:(e,t,n)=>{"use strict";e.exports=n(330)},443:(e,t,n)=>{"use strict";e.exports=n(717)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".5cb363bb.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="mvp:";n.l=(r,o,i,a)=>{if(e[r])e[r].push(o);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[o];var f=(t,n)=>{s.onerror=s.onload=null,clearTimeout(h);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/SignWave/",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise(((n,r)=>o=e[t]=[n,r]));r.push(o[2]=i);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,i,a=r[0],s=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)l(n)}for(t&&t(r);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkmvp=self.webpackChunkmvp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(43),t=n(391);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function i(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function c(e){if("string"===typeof e||"number"===typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,r=0;r<e.length;r++)""!==(n=c(e[r]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var u=n(443);const d=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"===typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!==typeof o||null===o)?o:Object.assign({},t,o),n.forEach((n=>n(t,e)))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,o,i);return i},f=e=>e?d(e):d;const{useDebugValue:h}=e,{useSyncExternalStoreWithSelector:p}=u,g=e=>e;function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,n=arguments.length>2?arguments[2]:void 0;const r=p(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return h(r),r}const v=(e,t)=>{const n=f(e),r=function(e){return m(n,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)};return Object.assign(r,n),r};function y(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var b={value:()=>{}};function w(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new x(r)}function x(e){this._=e}function S(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function _(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=b,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}x.prototype=w.prototype={constructor:x,on:function(e,t){var n,r,o=this._,i=(r=o,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),a=-1,s=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=i[a]).type)o[n]=_(o[n],e.name,t);else if(null==t)for(n in o)o[n]=_(o[n],e.name,null);return this}for(;++a<s;)if((n=(e=i[a]).type)&&(n=S(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new x(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};const k=w;function E(){}function C(e){return null==e?E:function(){return this.querySelector(e)}}function A(){return[]}function T(e){return null==e?A:function(){return this.querySelectorAll(e)}}function P(e){return function(){return function(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}function N(e){return function(){return this.matches(e)}}function M(e){return function(t){return t.matches(e)}}var O=Array.prototype.find;function R(){return this.firstElementChild}var I=Array.prototype.filter;function L(){return Array.from(this.children)}function D(e){return new Array(e.length)}function j(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function F(e,t,n,r,o,i){for(var a,s=0,l=t.length,c=i.length;s<c;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new j(e,i[s]);for(;s<l;++s)(a=t[s])&&(o[s]=a)}function z(e,t,n,r,o,i,a){var s,l,c,u=new Map,d=t.length,f=i.length,h=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(h[s]=c=a.call(l,l.__data__,s,t)+"",u.has(c)?o[s]=l:u.set(c,l));for(s=0;s<f;++s)c=a.call(e,i[s],s,i)+"",(l=u.get(c))?(r[s]=l,l.__data__=i[s],u.delete(c)):n[s]=new j(e,i[s]);for(s=0;s<d;++s)(l=t[s])&&u.get(h[s])===l&&(o[s]=l)}function B(e){return e.__data__}function U(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function V(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}j.prototype={constructor:j,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var H="http://www.w3.org/1999/xhtml";const W={svg:"http://www.w3.org/2000/svg",xhtml:H,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function G(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),W.hasOwnProperty(t)?{space:W[t],local:e}:e}function X(e){return function(){this.removeAttribute(e)}}function q(e){return function(){this.removeAttributeNS(e.space,e.local)}}function K(e,t){return function(){this.setAttribute(e,t)}}function Y(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function $(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Q(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Z(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function J(e){return function(){this.style.removeProperty(e)}}function ee(e,t,n){return function(){this.style.setProperty(e,t,n)}}function te(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function ne(e,t){return e.style.getPropertyValue(t)||Z(e).getComputedStyle(e,null).getPropertyValue(t)}function re(e){return function(){delete this[e]}}function oe(e,t){return function(){this[e]=t}}function ie(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function ae(e){return e.trim().split(/^|\s+/)}function se(e){return e.classList||new le(e)}function le(e){this._node=e,this._names=ae(e.getAttribute("class")||"")}function ce(e,t){for(var n=se(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function ue(e,t){for(var n=se(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function de(e){return function(){ce(this,e)}}function fe(e){return function(){ue(this,e)}}function he(e,t){return function(){(t.apply(this,arguments)?ce:ue)(this,e)}}function pe(){this.textContent=""}function ge(e){return function(){this.textContent=e}}function me(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function ve(){this.innerHTML=""}function ye(e){return function(){this.innerHTML=e}}function be(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function we(){this.nextSibling&&this.parentNode.appendChild(this)}function xe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Se(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===H&&t.documentElement.namespaceURI===H?t.createElement(e):t.createElementNS(n,e)}}function _e(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ke(e){var t=G(e);return(t.local?_e:Se)(t)}function Ee(){return null}function Ce(){var e=this.parentNode;e&&e.removeChild(this)}function Ae(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Te(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Pe(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function Ne(e,t,n){return function(){var r,o=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(o)for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=t);this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function Me(e,t,n){var r=Z(e),o=r.CustomEvent;"function"===typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Oe(e,t){return function(){return Me(this,e,t)}}function Re(e,t){return function(){return Me(this,e,t.apply(this,arguments))}}le.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Ie=[null];function Le(e,t){this._groups=e,this._parents=t}function De(){return new Le([[document.documentElement]],Ie)}Le.prototype=De.prototype={constructor:Le,select:function(e){"function"!==typeof e&&(e=C(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=t[o],l=s.length,c=r[o]=new Array(l),u=0;u<l;++u)(i=s[u])&&(a=e.call(i,i.__data__,u,s))&&("__data__"in i&&(a.__data__=i.__data__),c[u]=a);return new Le(r,this._parents)},selectAll:function(e){e="function"===typeof e?P(e):T(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a,s=t[i],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(e.call(a,a.__data__,c,s)),o.push(a));return new Le(r,o)},selectChild:function(e){return this.select(null==e?R:function(e){return function(){return O.call(this.children,e)}}("function"===typeof e?e:M(e)))},selectChildren:function(e){return this.selectAll(null==e?L:function(e){return function(){return I.call(this.children,e)}}("function"===typeof e?e:M(e)))},filter:function(e){"function"!==typeof e&&(e=N(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,l=r[o]=[],c=0;c<s;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&l.push(i);return new Le(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,B);var n=t?z:F,r=this._parents,o=this._groups;"function"!==typeof e&&(e=function(e){return function(){return e}}(e));for(var i=o.length,a=new Array(i),s=new Array(i),l=new Array(i),c=0;c<i;++c){var u=r[c],d=o[c],f=d.length,h=U(e.call(u,u&&u.__data__,c,r)),p=h.length,g=s[c]=new Array(p),m=a[c]=new Array(p);n(u,d,g,m,l[c]=new Array(f),h,t);for(var v,y,b=0,w=0;b<p;++b)if(v=g[b]){for(b>=w&&(w=b+1);!(y=m[w])&&++w<p;);v._next=y||null}}return(a=new Le(a,r))._enter=s,a._exit=l,a},enter:function(){return new Le(this._enter||this._groups.map(D),this._parents)},exit:function(){return new Le(this._exit||this._groups.map(D),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),l=0;l<a;++l)for(var c,u=n[l],d=r[l],f=u.length,h=s[l]=new Array(f),p=0;p<f;++p)(c=u[p]||d[p])&&(h[p]=c);for(;l<o;++l)s[l]=n[l];return new Le(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=V);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],l=s.length,c=o[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new Le(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,s=i.length;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=G(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?q:X:"function"===typeof t?n.local?Q:$:n.local?Y:K)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?J:"function"===typeof t?te:ee)(e,t,null==n?"":n)):ne(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?re:"function"===typeof t?ie:oe)(e,t)):this.node()[e]},classed:function(e,t){var n=ae(e+"");if(arguments.length<2){for(var r=se(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"===typeof t?he:t?de:fe)(n,t))},text:function(e){return arguments.length?this.each(null==e?pe:("function"===typeof e?me:ge)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?ve:("function"===typeof e?be:ye)(e)):this.node().innerHTML},raise:function(){return this.each(we)},lower:function(){return this.each(xe)},append:function(e){var t="function"===typeof e?e:ke(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:ke(e),r=null==t?Ee:"function"===typeof t?t:C(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ce)},clone:function(e){return this.select(e?Te:Ae)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),a=i.length;if(!(arguments.length<2)){for(s=t?Ne:Pe,r=0;r<a;++r)this.each(s(i[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((o=i[r]).type===l.type&&o.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?Re:Oe)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};const je=De;function Fe(e){return"string"===typeof e?new Le([[document.querySelector(e)]],[document.documentElement]):new Le([[e]],Ie)}const ze={passive:!1},Be={capture:!0,passive:!1};function Ue(e){e.stopImmediatePropagation()}function Ve(e){e.preventDefault(),e.stopImmediatePropagation()}function He(e){var t=e.document.documentElement,n=Fe(e).on("dragstart.drag",Ve,Be);"onselectstart"in t?n.on("selectstart.drag",Ve,Be):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function We(e,t){var n=e.document.documentElement,r=Fe(e).on("dragstart.drag",null);t&&(r.on("click.drag",Ve,Be),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ge(e){return((e=Math.exp(e))+1/e)/2}const Xe=function e(t,n,r){function o(e,o){var i,a,s=e[0],l=e[1],c=e[2],u=o[0],d=o[1],f=o[2],h=u-s,p=d-l,g=h*h+p*p;if(g<1e-12)a=Math.log(f/c)/t,i=function(e){return[s+e*h,l+e*p,c*Math.exp(t*e*a)]};else{var m=Math.sqrt(g),v=(f*f-c*c+r*g)/(2*c*n*m),y=(f*f-c*c-r*g)/(2*f*n*m),b=Math.log(Math.sqrt(v*v+1)-v),w=Math.log(Math.sqrt(y*y+1)-y);a=(w-b)/t,i=function(e){var r=e*a,o=Ge(b),i=c/(n*m)*(o*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*r+b)-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[s+i*h,l+i*p,c*o/Ge(t*r+b)]}}return i.duration=1e3*a*t/Math.SQRT2,i}return o.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},o}(Math.SQRT2,2,4);function qe(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}var Ke,Ye,$e=0,Qe=0,Ze=0,Je=0,et=0,tt=0,nt="object"===typeof performance&&performance.now?performance:Date,rt="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ot(){return et||(rt(it),et=nt.now()+tt)}function it(){et=0}function at(){this._call=this._time=this._next=null}function st(e,t,n){var r=new at;return r.restart(e,t,n),r}function lt(){et=(Je=nt.now())+tt,$e=Qe=0;try{!function(){ot(),++$e;for(var e,t=Ke;t;)(e=et-t._time)>=0&&t._call.call(void 0,e),t=t._next;--$e}()}finally{$e=0,function(){var e,t,n=Ke,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Ke=t);Ye=e,ut(r)}(),et=0}}function ct(){var e=nt.now(),t=e-Je;t>1e3&&(tt-=t,Je=e)}function ut(e){$e||(Qe&&(Qe=clearTimeout(Qe)),e-et>24?(e<1/0&&(Qe=setTimeout(lt,e-nt.now()-tt)),Ze&&(Ze=clearInterval(Ze))):(Ze||(Je=nt.now(),Ze=setInterval(ct,1e3)),$e=1,rt(lt)))}function dt(e,t,n){var r=new at;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}at.prototype=st.prototype={constructor:at,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?ot():+n)+(null==t?0:+t),this._next||Ye===this||(Ye?Ye._next=this:Ke=this,Ye=this),this._call=e,this._time=n,ut()},stop:function(){this._call&&(this._call=null,this._time=1/0,ut())}};var ft=k("start","end","cancel","interrupt"),ht=[];function pt(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function i(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(i){var c,u,d,f;if(1!==n.state)return l();for(c in o)if((f=o[c]).name===n.name){if(3===f.state)return dt(a);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete o[c]):+c<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete o[c])}if(dt((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(i))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(f=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=f);r.length=u+1}}function s(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=st(i,0,n.time)}(e,n,{name:t,index:r,group:o,on:ft,tween:ht,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function gt(e,t){var n=vt(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function mt(e,t){var n=vt(e,t);if(n.state>3)throw new Error("too late; already running");return n}function vt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function yt(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i)(n=i[o]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete e.__transition}}function bt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var wt,xt=180/Math.PI,St={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _t(e,t,n,r,o,i){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*xt,skewX:Math.atan(l)*xt,scaleX:a,scaleY:s}}function kt(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var s=[],l=[];return i=e(i),a=e(a),function(e,r,o,i,a,s){if(e!==o||r!==i){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:bt(e,o)},{i:l-2,x:bt(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,l),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:bt(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(i.rotate,a.rotate,s,l),function(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:bt(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(i.skewX,a.skewX,s,l),function(e,t,n,r,i,a){if(e!==n||t!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:bt(e,n)},{i:s-2,x:bt(t,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,l),i=a=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var Et=kt((function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?St:_t(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),Ct=kt((function(e){return null==e?St:(wt||(wt=document.createElementNS("http://www.w3.org/2000/svg","g")),wt.setAttribute("transform",e),(e=wt.transform.baseVal.consolidate())?_t((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):St)}),", ",")",")");function At(e,t){var n,r;return function(){var o=mt(this,e),i=o.tween;if(i!==n)for(var a=0,s=(r=n=i).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}o.tween=r}}function Tt(e,t,n){var r,o;if("function"!==typeof n)throw new Error;return function(){var i=mt(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=s;break}l===c&&o.push(s)}i.tween=o}}function Pt(e,t,n){var r=e._id;return e.each((function(){var e=mt(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return vt(e,r).value[t]}}function Nt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Mt(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ot(){}var Rt=.7,It=1/Rt,Lt="\\s*([+-]?\\d+)\\s*",Dt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ft=/^#([0-9a-f]{3,8})$/,zt=new RegExp("^rgb\\(".concat(Lt,",").concat(Lt,",").concat(Lt,"\\)$")),Bt=new RegExp("^rgb\\(".concat(jt,",").concat(jt,",").concat(jt,"\\)$")),Ut=new RegExp("^rgba\\(".concat(Lt,",").concat(Lt,",").concat(Lt,",").concat(Dt,"\\)$")),Vt=new RegExp("^rgba\\(".concat(jt,",").concat(jt,",").concat(jt,",").concat(Dt,"\\)$")),Ht=new RegExp("^hsl\\(".concat(Dt,",").concat(jt,",").concat(jt,"\\)$")),Wt=new RegExp("^hsla\\(".concat(Dt,",").concat(jt,",").concat(jt,",").concat(Dt,"\\)$")),Gt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Xt(){return this.rgb().formatHex()}function qt(){return this.rgb().formatRgb()}function Kt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ft.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Yt(t):3===n?new Zt(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?$t(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?$t(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=zt.exec(e))?new Zt(t[1],t[2],t[3],1):(t=Bt.exec(e))?new Zt(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Ut.exec(e))?$t(t[1],t[2],t[3],t[4]):(t=Vt.exec(e))?$t(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ht.exec(e))?on(t[1],t[2]/100,t[3]/100,1):(t=Wt.exec(e))?on(t[1],t[2]/100,t[3]/100,t[4]):Gt.hasOwnProperty(e)?Yt(Gt[e]):"transparent"===e?new Zt(NaN,NaN,NaN,0):null}function Yt(e){return new Zt(e>>16&255,e>>8&255,255&e,1)}function $t(e,t,n,r){return r<=0&&(e=t=n=NaN),new Zt(e,t,n,r)}function Qt(e,t,n,r){return 1===arguments.length?function(e){return e instanceof Ot||(e=Kt(e)),e?new Zt((e=e.rgb()).r,e.g,e.b,e.opacity):new Zt}(e):new Zt(e,t,n,null==r?1:r)}function Zt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Jt(){return"#".concat(rn(this.r)).concat(rn(this.g)).concat(rn(this.b))}function en(){const e=tn(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(nn(this.r),", ").concat(nn(this.g),", ").concat(nn(this.b)).concat(1===e?")":", ".concat(e,")"))}function tn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function nn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function rn(e){return((e=nn(e))<16?"0":"")+e.toString(16)}function on(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new sn(e,t,n,r)}function an(e){if(e instanceof sn)return new sn(e.h,e.s,e.l,e.opacity);if(e instanceof Ot||(e=Kt(e)),!e)return new sn;if(e instanceof sn)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,l=(i+o)/2;return s?(a=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new sn(a,s,l,e.opacity)}function sn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ln(e){return(e=(e||0)%360)<0?e+360:e}function cn(e){return Math.max(0,Math.min(1,e||0))}function un(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function dn(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}Nt(Ot,Kt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Xt,formatHex:Xt,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return an(this).formatHsl()},formatRgb:qt,toString:qt}),Nt(Zt,Qt,Mt(Ot,{brighter(e){return e=null==e?It:Math.pow(It,e),new Zt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Rt:Math.pow(Rt,e),new Zt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Zt(nn(this.r),nn(this.g),nn(this.b),tn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jt,formatHex:Jt,formatHex8:function(){return"#".concat(rn(this.r)).concat(rn(this.g)).concat(rn(this.b)).concat(rn(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:en,toString:en})),Nt(sn,(function(e,t,n,r){return 1===arguments.length?an(e):new sn(e,t,n,null==r?1:r)}),Mt(Ot,{brighter(e){return e=null==e?It:Math.pow(It,e),new sn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Rt:Math.pow(Rt,e),new sn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Zt(un(e>=240?e-240:e+120,o,r),un(e,o,r),un(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new sn(ln(this.h),cn(this.s),cn(this.l),tn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=tn(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(ln(this.h),", ").concat(100*cn(this.s),"%, ").concat(100*cn(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const fn=e=>()=>e;function hn(e,t){return function(n){return e+n*t}}function pn(e){return 1===(e=+e)?gn:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):fn(isNaN(t)?n:t)}}function gn(e,t){var n=t-e;return n?hn(e,n):fn(isNaN(e)?t:e)}const mn=function e(t){var n=pn(t);function r(e,t){var r=n((e=Qt(e)).r,(t=Qt(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=gn(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function vn(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=Qt(t[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=e(i),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=s(e),r+""}}}vn((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,s=r<t-1?e[r+2]:2*i-o;return dn((n-r/t)*t,a,o,i,s)}})),vn((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return dn((n-r/t)*t,o,i,a,s)}}));var yn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bn=new RegExp(yn.source,"g");function wn(e,t){var n,r,o,i=yn.lastIndex=bn.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=yn.exec(e))&&(r=bn.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:bt(n,r)})),i=bn.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function xn(e,t){var n;return("number"===typeof t?bt:t instanceof Kt?mn:(n=Kt(t))?(t=n,mn):wn)(e,t)}function Sn(e){return function(){this.removeAttribute(e)}}function _n(e){return function(){this.removeAttributeNS(e.space,e.local)}}function kn(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function En(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function Cn(e,t,n){var r,o,i;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(e))===(s=l+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,l));this.removeAttribute(e)}}function An(e,t,n){var r,o,i;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,l));this.removeAttributeNS(e.space,e.local)}}function Tn(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,o)),n}return o._value=t,o}function Pn(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,o)),n}return o._value=t,o}function Nn(e,t){return function(){gt(this,e).delay=+t.apply(this,arguments)}}function Mn(e,t){return t=+t,function(){gt(this,e).delay=t}}function On(e,t){return function(){mt(this,e).duration=+t.apply(this,arguments)}}function Rn(e,t){return t=+t,function(){mt(this,e).duration=t}}var In=je.prototype.constructor;function Ln(e){return function(){this.style.removeProperty(e)}}var Dn=0;function jn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Fn(){return++Dn}var zn=je.prototype;jn.prototype=function(e){return je().transition(e)}.prototype={constructor:jn,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=C(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s,l,c=r[a],u=c.length,d=i[a]=new Array(u),f=0;f<u;++f)(s=c[f])&&(l=e.call(s,s.__data__,f,c))&&("__data__"in s&&(l.__data__=s.__data__),d[f]=l,pt(d[f],t,n,f,d,vt(s,n)));return new jn(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=T(e));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var l,c=r[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var f,h=e.call(l,l.__data__,d,c),p=vt(l,n),g=0,m=h.length;g<m;++g)(f=h[g])&&pt(f,t,n,g,h,p);i.push(h),a.push(l)}return new jn(i,a,t,n)},selectChild:zn.selectChild,selectChildren:zn.selectChildren,filter:function(e){"function"!==typeof e&&(e=N(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,l=r[o]=[],c=0;c<s;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&l.push(i);return new jn(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var l,c=t[s],u=n[s],d=c.length,f=a[s]=new Array(d),h=0;h<d;++h)(l=c[h]||u[h])&&(f[h]=l);for(;s<r;++s)a[s]=t[s];return new jn(a,this._parents,this._name,this._id)},selection:function(){return new In(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Fn(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=vt(a,t);pt(a,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new jn(r,this._parents,e,n)},call:zn.call,nodes:zn.nodes,node:zn.node,size:zn.size,empty:zn.empty,each:zn.each,on:function(e,t){var n=this._id;return arguments.length<2?vt(this.node(),n).on.on(e):this.each(function(e,t,n){var r,o,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?gt:mt;return function(){var a=i(this,e),s=a.on;s!==r&&(o=(r=s).copy()).on(t,n),a.on=o}}(n,e,t))},attr:function(e,t){var n=G(e),r="transform"===n?Ct:xn;return this.attrTween(e,"function"===typeof t?(n.local?An:Cn)(n,r,Pt(this,"attr."+e,t)):null==t?(n.local?_n:Sn)(n):(n.local?En:kn)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=G(e);return this.tween(n,(r.local?Tn:Pn)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?Et:xn;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var i=ne(this,e),a=(this.style.removeProperty(e),ne(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}(e,r)).on("end.style."+e,Ln(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,o,i;return function(){var a=ne(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=ne(this,e)),a===l?null:a===r&&l===o?i:(o=l,i=t(r=a,s))}}(e,r,Pt(this,"style."+e,t))).each(function(e,t){var n,r,o,i,a="style."+t,s="end."+a;return function(){var l=mt(this,e),c=l.on,u=null==l.value[a]?i||(i=Ln(t)):void 0;c===n&&o===u||(r=(n=c).copy()).on(s,o=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,i=n+"";return function(){var a=ne(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,i,n)),r}return i._value=t,i}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Pt(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=vt(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?At:Tt)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Nn:Mn)(t,e)):vt(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?On:Rn)(t,e)):vt(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){mt(this,e).ease=t}}(t,e)):vt(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;mt(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var s={value:a},l={value:function(){0===--o&&i()}};n.each((function(){var n=mt(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t})),0===o&&i()}))},[Symbol.iterator]:zn[Symbol.iterator]};var Bn={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Un(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}je.prototype.interrupt=function(e){return this.each((function(){yt(this,e)}))},je.prototype.transition=function(e){var t,n;e instanceof jn?(t=e._id,e=e._name):(t=Fn(),(n=Bn).time=ot(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,c=0;c<l;++c)(a=s[c])&&pt(a,e,t,c,s,n||Un(a,t));return new jn(r,this._parents,e,t)};const Vn=e=>()=>e;function Hn(e,t){let{sourceEvent:n,target:r,transform:o,dispatch:i}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function Wn(e,t,n){this.k=e,this.x=t,this.y=n}Wn.prototype={constructor:Wn,scale:function(e){return 1===e?this:new Wn(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Wn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Gn=new Wn(1,0,0);function Xn(e){e.stopImmediatePropagation()}function qn(e){e.preventDefault(),e.stopImmediatePropagation()}function Kn(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function Yn(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function $n(){return this.__zoom||Gn}function Qn(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Zn(){return navigator.maxTouchPoints||"ontouchstart"in this}function Jn(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}Wn.prototype;const er=e=>()=>e;function tr(e,t){let{sourceEvent:n,subject:r,target:o,identifier:i,active:a,x:s,y:l,dx:c,dy:u,dispatch:d}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}function nr(e){return!e.ctrlKey&&!e.button}function rr(){return this.parentNode}function or(e,t){return null==t?{x:e.x,y:e.y}:t}function ir(){return navigator.maxTouchPoints||"ontouchstart"in this}tr.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};n(950);const ar=["position","children","className","style"],sr=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"],lr=["type","position","isValidConnection","isConnectable","isConnectableStart","isConnectableEnd","id","onConnect","children","className","onMouseDown","onTouchStart"],cr=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","onSelectionStart","onSelectionEnd","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","selectionOnDrag","selectionMode","panActivationKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","nodesFocusable","nodeOrigin","edgesFocusable","edgesUpdatable","elementsSelectable","defaultViewport","minZoom","maxZoom","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","onPaneScroll","onPaneContextMenu","children","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdate","onEdgeUpdateStart","onEdgeUpdateEnd","onReconnect","onReconnectStart","onReconnectEnd","reconnectRadius","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","disableKeyboardA11y","autoPanOnConnect","autoPanOnNodeDrag","connectionRadius","isValidConnection","onError","style","id","nodeDragThreshold"],ur=(0,e.createContext)(null),dr=ur.Provider,fr=e=>'Node type "'.concat(e,'" not found. Using fallback type "default".'),hr=()=>"The React Flow parent container needs a width and a height to render the graph.",pr=()=>"Only child nodes can use a parent extent.",gr=()=>"Can't create edge. An edge needs a source and a target.",mr=e=>'Marker type "'.concat(e,"\" doesn't exist."),vr=(e,t)=>"Couldn't create edge for ".concat(e?"target":"source",' handle id: "').concat(e?t.targetHandle:t.sourceHandle,'", edge id: ').concat(t.id,"."),yr=()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",br=e=>'Edge type "'.concat(e,'" not found. Using fallback type "default".'),wr=e=>'Node with id "'.concat(e,'" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.'),xr=(()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001")();function Sr(t,n){const r=(0,e.useContext)(ur);if(null===r)throw new Error(xr);return m(r,t,n)}const _r=()=>{const t=(0,e.useContext)(ur);if(null===t)throw new Error(xr);return(0,e.useMemo)((()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy})),[t])},kr=e=>e.userSelectionActive?"none":"all";function Er(t){let{position:n,children:r,className:o,style:i}=t,a=l(t,ar);const u=Sr(kr),d="".concat(n).split("-");return e.createElement("div",s({className:c(["react-flow__panel",o,...d]),style:s(s({},i),{},{pointerEvents:u})},a),r)}function Cr(t){let{proOptions:n,position:r="bottom-right"}=t;return null!==n&&void 0!==n&&n.hideAttribution?null:e.createElement(Er,{position:r,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},e.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var Ar=(0,e.memo)((t=>{let{x:n,y:r,label:o,labelStyle:i={},labelShowBg:a=!0,labelBgStyle:u={},labelBgPadding:d=[2,4],labelBgBorderRadius:f=2,children:h,className:p}=t,g=l(t,sr);const m=(0,e.useRef)(null),[v,y]=(0,e.useState)({x:0,y:0,width:0,height:0}),b=c(["react-flow__edge-textwrapper",p]);return(0,e.useEffect)((()=>{if(m.current){const e=m.current.getBBox();y({x:e.x,y:e.y,width:e.width,height:e.height})}}),[o]),"undefined"!==typeof o&&o?e.createElement("g",s({transform:"translate(".concat(n-v.width/2," ").concat(r-v.height/2,")"),className:b,visibility:v.width?"visible":"hidden"},g),a&&e.createElement("rect",{width:v.width+2*d[0],x:-d[0],y:-d[1],height:v.height+2*d[1],className:"react-flow__edge-textbg",style:u,rx:f,ry:f}),e.createElement("text",{className:"react-flow__edge-text",y:v.height/2,dy:"0.3em",ref:m,style:i},o),h):null}));const Tr=e=>({width:e.offsetWidth,height:e.offsetHeight}),Pr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},Nr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=arguments.length>1?arguments[1]:void 0;return{x:Pr(e.x,t[0][0],t[1][0]),y:Pr(e.y,t[0][1],t[1][1])}},Mr=(e,t,n)=>e<t?Pr(Math.abs(e-t),1,50)/50:e>n?-Pr(Math.abs(e-n),1,50)/50:0,Or=(e,t)=>[20*Mr(e.x,35,t.width-35),20*Mr(e.y,35,t.height-35)],Rr=e=>{var t,n;return(null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||(null===(n=window)||void 0===n?void 0:n.document)},Ir=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Lr=e=>{let{x:t,y:n,width:r,height:o}=e;return{x:t,y:n,x2:t+r,y2:n+o}},Dr=e=>{let{x:t,y:n,x2:r,y2:o}=e;return{x:t,y:n,width:r-t,height:o-n}},jr=e=>s(s({},e.positionAbsolute||{x:0,y:0}),{},{width:e.width||0,height:e.height||0}),Fr=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},zr=e=>!isNaN(e)&&isFinite(e),Br=Symbol.for("internals"),Ur=["Enter"," ","Escape"],Vr=(e,t)=>{0};function Hr(e){var t;const n=(e=>"nativeEvent"in e)(e)?e.nativeEvent:e,r=(null===(t=n.composedPath)||void 0===t||null===(t=t.call(n))||void 0===t?void 0:t[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(null===r||void 0===r?void 0:r.nodeName)||(null===r||void 0===r?void 0:r.hasAttribute("contenteditable"))||!(null===r||void 0===r||!r.closest(".nokey"))}const Wr=e=>"clientX"in e,Gr=(e,t)=>{var n,r,o,i;const a=Wr(e),s=a?e.clientX:null===(n=e.touches)||void 0===n?void 0:n[0].clientX,l=a?e.clientY:null===(r=e.touches)||void 0===r?void 0:r[0].clientY;return{x:s-(null!==(o=null===t||void 0===t?void 0:t.left)&&void 0!==o?o:0),y:l-(null!==(i=null===t||void 0===t?void 0:t.top)&&void 0!==i?i:0)}},Xr=()=>{var e;return"undefined"!==typeof navigator&&(null===(e=navigator)||void 0===e||null===(e=e.userAgent)||void 0===e?void 0:e.indexOf("Mac"))>=0},qr=t=>{let{id:n,path:r,labelX:o,labelY:i,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,interactionWidth:g=20}=t;return e.createElement(e.Fragment,null,e.createElement("path",{id:n,style:f,d:r,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:p}),g&&e.createElement("path",{d:r,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),a&&zr(o)&&zr(i)?e.createElement(Ar,{x:o,y:i,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d}):null)};qr.displayName="BaseEdge";function Kr(e,t,n){return void 0===n?n:r=>{const o=t().edges.find((t=>t.id===e));o&&n(r,s({},o))}}function Yr(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o}=e;const i=Math.abs(r-t)/2,a=r<t?r+i:r-i,s=Math.abs(o-n)/2;return[a,o<n?o+s:o-s,i,s]}function $r(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o,sourceControlX:i,sourceControlY:a,targetControlX:s,targetControlY:l}=e;const c=.125*t+.375*i+.375*s+.125*r,u=.125*n+.375*a+.375*l+.125*o;return[c,u,Math.abs(c-t),Math.abs(u-n)]}var Qr,Zr,Jr,eo,to,no;function ro(e){let{pos:t,x1:n,y1:r,x2:o,y2:i}=e;return t===no.Left||t===no.Right?[.5*(n+o),r]:[n,.5*(r+i)]}function oo(e){let{sourceX:t,sourceY:n,sourcePosition:r=no.Bottom,targetX:o,targetY:i,targetPosition:a=no.Top}=e;const[s,l]=ro({pos:r,x1:t,y1:n,x2:o,y2:i}),[c,u]=ro({pos:a,x1:o,y1:i,x2:t,y2:n}),[d,f,h,p]=$r({sourceX:t,sourceY:n,targetX:o,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return["M".concat(t,",").concat(n," C").concat(s,",").concat(l," ").concat(c,",").concat(u," ").concat(o,",").concat(i),d,f,h,p]}!function(e){e.Strict="strict",e.Loose="loose"}(Qr||(Qr={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(Zr||(Zr={})),function(e){e.Partial="partial",e.Full="full"}(Jr||(Jr={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(eo||(eo={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(to||(to={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(no||(no={}));const io=(0,e.memo)((t=>{let{sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:a=no.Bottom,targetPosition:s=no.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:m,interactionWidth:v}=t;const[y,b,w]=oo({sourceX:n,sourceY:r,sourcePosition:a,targetX:o,targetY:i,targetPosition:s});return e.createElement(qr,{path:y,labelX:b,labelY:w,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:m,interactionWidth:v})}));io.displayName="SimpleBezierEdge";const ao={[no.Left]:{x:-1,y:0},[no.Right]:{x:1,y:0},[no.Top]:{x:0,y:-1},[no.Bottom]:{x:0,y:1}},so=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function lo(e){let{source:t,sourcePosition:n=no.Bottom,target:r,targetPosition:o=no.Top,center:i,offset:a}=e;const s=ao[n],l=ao[o],c={x:t.x+s.x*a,y:t.y+s.y*a},u={x:r.x+l.x*a,y:r.y+l.y*a},d=(e=>{let{source:t,sourcePosition:n=no.Bottom,target:r}=e;return n===no.Left||n===no.Right?t.x<r.x?{x:1,y:0}:{x:-1,y:0}:t.y<r.y?{x:0,y:1}:{x:0,y:-1}})({source:c,sourcePosition:n,target:u}),f=0!==d.x?"x":"y",h=d[f];let p,g,m=[];const v={x:0,y:0},y={x:0,y:0},[b,w,x,S]=Yr({sourceX:t.x,sourceY:t.y,targetX:r.x,targetY:r.y});if(s[f]*l[f]===-1){var _,k;p=null!==(_=i.x)&&void 0!==_?_:b,g=null!==(k=i.y)&&void 0!==k?k:w;const e=[{x:p,y:c.y},{x:p,y:u.y}],t=[{x:c.x,y:g},{x:u.x,y:g}];m=s[f]===h?"x"===f?e:t:"x"===f?t:e}else{const e=[{x:c.x,y:u.y}],i=[{x:u.x,y:c.y}];if(m="x"===f?s.x===h?i:e:s.y===h?e:i,n===o){const e=Math.abs(t[f]-r[f]);if(e<=a){const n=Math.min(a-1,a-e);s[f]===h?v[f]=(c[f]>t[f]?-1:1)*n:y[f]=(u[f]>r[f]?-1:1)*n}}if(n!==o){const t="x"===f?"y":"x",n=s[f]===l[t],r=c[t]>u[t],o=c[t]<u[t];(1===s[f]&&(!n&&r||n&&o)||1!==s[f]&&(!n&&o||n&&r))&&(m="x"===f?e:i)}const d={x:c.x+v.x,y:c.y+v.y},b={x:u.x+y.x,y:u.y+y.y};Math.max(Math.abs(d.x-m[0].x),Math.abs(b.x-m[0].x))>=Math.max(Math.abs(d.y-m[0].y),Math.abs(b.y-m[0].y))?(p=(d.x+b.x)/2,g=m[0].y):(p=m[0].x,g=(d.y+b.y)/2)}return[[t,{x:c.x+v.x,y:c.y+v.y},...m,{x:u.x+y.x,y:u.y+y.y},r],p,g,x,S]}function co(e){let{sourceX:t,sourceY:n,sourcePosition:r=no.Bottom,targetX:o,targetY:i,targetPosition:a=no.Top,borderRadius:s=5,centerX:l,centerY:c,offset:u=20}=e;const[d,f,h,p,g]=lo({source:{x:t,y:n},sourcePosition:r,target:{x:o,y:i},targetPosition:a,center:{x:l,y:c},offset:u}),m=d.reduce(((e,t,n)=>{let r="";return r=n>0&&n<d.length-1?function(e,t,n,r){const o=Math.min(so(e,t)/2,so(t,n)/2,r),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return"L".concat(i," ").concat(a);if(e.y===a){const t=e.x<n.x?-1:1,r=e.y<n.y?1:-1;return"L ".concat(i+o*t,",").concat(a,"Q ").concat(i,",").concat(a," ").concat(i,",").concat(a+o*r)}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return"L ".concat(i,",").concat(a+o*l,"Q ").concat(i,",").concat(a," ").concat(i+o*s,",").concat(a)}(d[n-1],t,d[n+1],s):"".concat(0===n?"M":"L").concat(t.x," ").concat(t.y),e+=r}),"");return[m,f,h,p,g]}const uo=(0,e.memo)((t=>{let{sourceX:n,sourceY:r,targetX:o,targetY:i,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,sourcePosition:h=no.Bottom,targetPosition:p=no.Top,markerEnd:g,markerStart:m,pathOptions:v,interactionWidth:y}=t;const[b,w,x]=co({sourceX:n,sourceY:r,sourcePosition:h,targetX:o,targetY:i,targetPosition:p,borderRadius:null===v||void 0===v?void 0:v.borderRadius,offset:null===v||void 0===v?void 0:v.offset});return e.createElement(qr,{path:b,labelX:w,labelY:x,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:g,markerStart:m,interactionWidth:y})}));uo.displayName="SmoothStepEdge";const fo=(0,e.memo)((t=>{var n;return e.createElement(uo,s(s({},t),{},{pathOptions:(0,e.useMemo)((()=>{var e;return{borderRadius:0,offset:null===(e=t.pathOptions)||void 0===e?void 0:e.offset}}),[null===(n=t.pathOptions)||void 0===n?void 0:n.offset])}))}));fo.displayName="StepEdge";const ho=(0,e.memo)((t=>{let{sourceX:n,sourceY:r,targetX:o,targetY:i,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,interactionWidth:g}=t;const[m,v,y]=function(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o}=e;const[i,a,s,l]=Yr({sourceX:t,sourceY:n,targetX:r,targetY:o});return["M ".concat(t,",").concat(n,"L ").concat(r,",").concat(o),i,a,s,l]}({sourceX:n,sourceY:r,targetX:o,targetY:i});return e.createElement(qr,{path:m,labelX:v,labelY:y,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,interactionWidth:g})}));function po(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function go(e){let{pos:t,x1:n,y1:r,x2:o,y2:i,c:a}=e;switch(t){case no.Left:return[n-po(n-o,a),r];case no.Right:return[n+po(o-n,a),r];case no.Top:return[n,r-po(r-i,a)];case no.Bottom:return[n,r+po(i-r,a)]}}function mo(e){let{sourceX:t,sourceY:n,sourcePosition:r=no.Bottom,targetX:o,targetY:i,targetPosition:a=no.Top,curvature:s=.25}=e;const[l,c]=go({pos:r,x1:t,y1:n,x2:o,y2:i,c:s}),[u,d]=go({pos:a,x1:o,y1:i,x2:t,y2:n,c:s}),[f,h,p,g]=$r({sourceX:t,sourceY:n,targetX:o,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return["M".concat(t,",").concat(n," C").concat(l,",").concat(c," ").concat(u,",").concat(d," ").concat(o,",").concat(i),f,h,p,g]}ho.displayName="StraightEdge";const vo=(0,e.memo)((t=>{let{sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:a=no.Bottom,targetPosition:s=no.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:m,pathOptions:v,interactionWidth:y}=t;const[b,w,x]=mo({sourceX:n,sourceY:r,sourcePosition:a,targetX:o,targetY:i,targetPosition:s,curvature:null===v||void 0===v?void 0:v.curvature});return e.createElement(qr,{path:b,labelX:w,labelY:x,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:m,interactionWidth:y})}));vo.displayName="BezierEdge";const yo=(0,e.createContext)(null),bo=yo.Provider;yo.Consumer;const wo=e=>{let{source:t,sourceHandle:n,target:r,targetHandle:o}=e;return"reactflow__edge-".concat(t).concat(n||"","-").concat(r).concat(o||"")},xo=(e,t)=>{if("undefined"===typeof e)return"";if("string"===typeof e)return e;const n=t?"".concat(t,"__"):"";return"".concat(n).concat(Object.keys(e).sort().map((t=>"".concat(t,"=").concat(e[t]))).join("&"))},So=(e,t)=>{if(!e.source||!e.target)return Vr(0,gr()),t;let n;var r;return n="id"in(r=e)&&"source"in r&&"target"in r?s({},e):s(s({},e),{},{id:wo(e)}),((e,t)=>t.some((t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle))))(n,t)?t:t.concat(n)},_o=(e,t,n,r)=>{let{x:o,y:i}=e,[a,s,l]=t,[c,u]=r;const d={x:(o-a)/l,y:(i-s)/l};return n?{x:c*Math.round(d.x/c),y:u*Math.round(d.y/u)}:d},ko=(e,t)=>{let{x:n,y:r}=e,[o,i,a]=t;return{x:n*a+o,y:r*a+i}},Eo=function(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const o=(null!==(t=e.width)&&void 0!==t?t:0)*r[0],i=(null!==(n=e.height)&&void 0!==n?n:0)*r[1],a={x:e.position.x-o,y:e.position.y-i};return s(s({},a),{},{positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-o,y:e.positionAbsolute.y-i}:a})},Co=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce(((e,n)=>{const{x:r,y:o}=Eo(n,t).positionAbsolute;return Ir(e,Lr({x:r,y:o,width:n.width||0,height:n.height||0}))}),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Dr(n)},Ao=function(e,t){let[n,r,o]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0];const l={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},c=[];return e.forEach((e=>{const{width:t,height:n,selectable:r=!0,hidden:o=!1}=e;if(a&&!r||o)return!1;const{positionAbsolute:u}=Eo(e,s),d={x:u.x,y:u.y,width:t||0,height:n||0},f=Fr(l,d);("undefined"===typeof t||"undefined"===typeof n||null===t||null===n||i&&f>0||f>=(t||0)*(n||0)||e.dragging)&&c.push(e)})),c},To=(e,t)=>{const n=e.map((e=>e.id));return t.filter((e=>n.includes(e.source)||n.includes(e.target)))},Po=function(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1;const a=t/(e.width*(1+i)),s=n/(e.height*(1+i)),l=Math.min(a,s),c=Pr(l,r,o);return{x:t/2-(e.x+e.width/2)*c,y:n/2-(e.y+e.height/2)*c,zoom:c}},No=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.transition().duration(t)};function Mo(e,t,n,r){return(t[n]||[]).reduce(((t,o)=>{var i,a,s,l;"".concat(e.id,"-").concat(o.id,"-").concat(n)!==r&&t.push({id:o.id||null,type:n,nodeId:e.id,x:(null!==(i=null===(a=e.positionAbsolute)||void 0===a?void 0:a.x)&&void 0!==i?i:0)+o.x+o.width/2,y:(null!==(s=null===(l=e.positionAbsolute)||void 0===l?void 0:l.y)&&void 0!==s?s:0)+o.y+o.height/2});return t}),[])}const Oo={source:null,target:null,sourceHandle:null,targetHandle:null},Ro=()=>({handleDomNode:null,isValid:!1,connection:Oo,endHandle:null});function Io(e,t,n,r,o,i,a){const l="target"===o,c=a.querySelector('.react-flow__handle[data-id="'.concat(null===e||void 0===e?void 0:e.nodeId,"-").concat(null===e||void 0===e?void 0:e.id,"-").concat(null===e||void 0===e?void 0:e.type,'"]')),u=s(s({},Ro()),{},{handleDomNode:c});if(c){const e=Lo(void 0,c),o=c.getAttribute("data-nodeid"),a=c.getAttribute("data-handleid"),s=c.classList.contains("connectable"),d=c.classList.contains("connectableend"),f={source:l?o:n,sourceHandle:l?a:r,target:l?n:o,targetHandle:l?r:a};u.connection=f;s&&d&&(t===Qr.Strict?l&&"source"===e||!l&&"target"===e:o!==n||a!==r)&&(u.endHandle={nodeId:o,handleId:a,type:e},u.isValid=i(f))}return u}function Lo(e,t){return e||(null!==t&&void 0!==t&&t.classList.contains("target")?"target":null!==t&&void 0!==t&&t.classList.contains("source")?"source":null)}function Do(e){null===e||void 0===e||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function jo(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Fo(e){let{event:t,handleId:n,nodeId:r,onConnect:o,isTarget:i,getState:a,setState:s,isValidConnection:l,edgeUpdaterType:c,onReconnectEnd:u}=e;const d=Rr(t.target),{connectionMode:f,domNode:h,autoPanOnConnect:p,connectionRadius:g,onConnectStart:m,panBy:v,getNodes:y,cancelConnection:b}=a();let w,x=0;const{x:S,y:_}=Gr(t),k=null===d||void 0===d?void 0:d.elementFromPoint(S,_),E=Lo(c,k),C=null===h||void 0===h?void 0:h.getBoundingClientRect();if(!C||!E)return;let A,T=Gr(t,C),P=!1,N=null,M=!1,O=null;const R=function(e){let{nodes:t,nodeId:n,handleId:r,handleType:o}=e;return t.reduce(((e,t)=>{if(t[Br]){const{handleBounds:i}=t[Br];let a=[],s=[];i&&(a=Mo(t,i,"source","".concat(n,"-").concat(r,"-").concat(o)),s=Mo(t,i,"target","".concat(n,"-").concat(r,"-").concat(o))),e.push(...a,...s)}return e}),[])}({nodes:y(),nodeId:r,handleId:n,handleType:E}),I=()=>{if(!p)return;const[e,t]=Or(T,C);v({x:e,y:t}),x=requestAnimationFrame(I)};function L(e){const{transform:t}=a();T=Gr(e,C);const{handle:o,validHandleResult:c}=function(e,t,n,r,o,i){const{x:a,y:s}=Gr(e),l=t.elementsFromPoint(a,s).find((e=>e.classList.contains("react-flow__handle")));if(l){const e=l.getAttribute("data-nodeid");if(e){const t=Lo(void 0,l),r=l.getAttribute("data-handleid"),a=i({nodeId:e,id:r,type:t});if(a){const i=o.find((n=>n.nodeId===e&&n.type===t&&n.id===r));return{handle:{id:r,type:t,nodeId:e,x:(null===i||void 0===i?void 0:i.x)||n.x,y:(null===i||void 0===i?void 0:i.y)||n.y},validHandleResult:a}}}}let c=[],u=1/0;if(o.forEach((e=>{const t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=r){const n=i(e);t<=u&&(t<u?c=[{handle:e,validHandleResult:n}]:t===u&&c.push({handle:e,validHandleResult:n}),u=t)}})),!c.length)return{handle:null,validHandleResult:Ro()};if(1===c.length)return c[0];const d=c.some((e=>{let{validHandleResult:t}=e;return t.isValid})),f=c.some((e=>{let{handle:t}=e;return"target"===t.type}));return c.find((e=>{let{handle:t,validHandleResult:n}=e;return f?"target"===t.type:!d||n.isValid}))||c[0]}(e,d,_o(T,t,!1,[1,1]),g,R,(e=>Io(e,f,r,n,i?"target":"source",l,d)));if(w=o,P||(I(),P=!0),O=c.handleDomNode,N=c.connection,M=c.isValid,s({connectionPosition:w&&M?ko({x:w.x,y:w.y},t):T,connectionStatus:jo(!!w,M),connectionEndHandle:c.endHandle}),!w&&!M&&!O)return Do(A);N.source!==N.target&&O&&(Do(A),A=O,O.classList.add("connecting","react-flow__handle-connecting"),O.classList.toggle("valid",M),O.classList.toggle("react-flow__handle-valid",M))}function D(e){var t,n;(w||O)&&N&&M&&(null===o||void 0===o||o(N)),null===(t=(n=a()).onConnectEnd)||void 0===t||t.call(n,e),c&&(null===u||void 0===u||u(e)),Do(A),b(),cancelAnimationFrame(x),P=!1,M=!1,N=null,O=null,d.removeEventListener("mousemove",L),d.removeEventListener("mouseup",D),d.removeEventListener("touchmove",L),d.removeEventListener("touchend",D)}s({connectionPosition:T,connectionStatus:null,connectionNodeId:r,connectionHandleId:n,connectionHandleType:E,connectionStartHandle:{nodeId:r,handleId:n,type:E},connectionEndHandle:null}),null===m||void 0===m||m(t,{nodeId:r,handleId:n,handleType:E}),d.addEventListener("mousemove",L),d.addEventListener("mouseup",D),d.addEventListener("touchmove",L),d.addEventListener("touchend",D)}const zo=()=>!0,Bo=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),Uo=(0,e.forwardRef)(((t,n)=>{let{type:r="source",position:o=no.Top,isValidConnection:i,isConnectable:a=!0,isConnectableStart:u=!0,isConnectableEnd:d=!0,id:f,onConnect:h,children:p,className:g,onMouseDown:m,onTouchStart:v}=t,b=l(t,lr);const w=f||null,x="target"===r,S=_r(),_=(0,e.useContext)(yo),{connectOnClick:k,noPanClassName:E}=Sr(Bo,y),{connecting:C,clickConnecting:A}=Sr(((e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:i,connectionClickStartHandle:a}=r;return{connecting:(null===o||void 0===o?void 0:o.nodeId)===e&&(null===o||void 0===o?void 0:o.handleId)===t&&(null===o||void 0===o?void 0:o.type)===n||(null===i||void 0===i?void 0:i.nodeId)===e&&(null===i||void 0===i?void 0:i.handleId)===t&&(null===i||void 0===i?void 0:i.type)===n,clickConnecting:(null===a||void 0===a?void 0:a.nodeId)===e&&(null===a||void 0===a?void 0:a.handleId)===t&&(null===a||void 0===a?void 0:a.type)===n}})(_,w,r),y);var T,P;_||(null===(T=(P=S.getState()).onError)||void 0===T||T.call(P,"010",yr()));const N=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=S.getState(),o=s(s({},t),e);if(r){const{edges:e,setEdges:t}=S.getState();t(So(o,e))}null===n||void 0===n||n(o),null===h||void 0===h||h(o)},M=e=>{if(!_)return;const t=Wr(e);u&&(t&&0===e.button||!t)&&Fo({event:e,handleId:w,nodeId:_,onConnect:N,isTarget:x,getState:S.getState,setState:S.setState,isValidConnection:i||S.getState().isValidConnection||zo}),t?null===m||void 0===m||m(e):null===v||void 0===v||v(e)};return e.createElement("div",s({"data-handleid":w,"data-nodeid":_,"data-handlepos":o,"data-id":"".concat(_,"-").concat(w,"-").concat(r),className:c(["react-flow__handle","react-flow__handle-".concat(o),"nodrag",E,g,{source:!x,target:x,connectable:a,connectablestart:u,connectableend:d,connecting:A,connectionindicator:a&&(u&&!C||d&&C)}]),onMouseDown:M,onTouchStart:M,onClick:k?e=>{const{onClickConnectStart:t,onClickConnectEnd:n,connectionClickStartHandle:o,connectionMode:a,isValidConnection:s}=S.getState();if(!_||!o&&!u)return;if(!o)return null===t||void 0===t||t(e,{nodeId:_,handleId:w,handleType:r}),void S.setState({connectionClickStartHandle:{nodeId:_,type:r,handleId:w}});const l=Rr(e.target),c=i||s||zo,{connection:d,isValid:f}=Io({nodeId:_,id:w,type:r},a,o.nodeId,o.handleId||null,o.type,c,l);f&&N(d),null===n||void 0===n||n(e),S.setState({connectionClickStartHandle:null})}:void 0,ref:n},b),p)}));Uo.displayName="Handle";var Vo=(0,e.memo)(Uo);const Ho=t=>{let{data:n,isConnectable:r,targetPosition:o=no.Top,sourcePosition:i=no.Bottom}=t;return e.createElement(e.Fragment,null,e.createElement(Vo,{type:"target",position:o,isConnectable:r}),null===n||void 0===n?void 0:n.label,e.createElement(Vo,{type:"source",position:i,isConnectable:r}))};Ho.displayName="DefaultNode";var Wo=(0,e.memo)(Ho);const Go=t=>{let{data:n,isConnectable:r,sourcePosition:o=no.Bottom}=t;return e.createElement(e.Fragment,null,null===n||void 0===n?void 0:n.label,e.createElement(Vo,{type:"source",position:o,isConnectable:r}))};Go.displayName="InputNode";var Xo=(0,e.memo)(Go);const qo=t=>{let{data:n,isConnectable:r,targetPosition:o=no.Top}=t;return e.createElement(e.Fragment,null,e.createElement(Vo,{type:"target",position:o,isConnectable:r}),null===n||void 0===n?void 0:n.label)};qo.displayName="OutputNode";var Ko=(0,e.memo)(qo);const Yo=()=>null;Yo.displayName="GroupNode";const $o=e=>({selectedNodes:e.getNodes().filter((e=>e.selected)),selectedEdges:e.edges.filter((e=>e.selected)).map((e=>s({},e)))}),Qo=e=>e.id;function Zo(e,t){return y(e.selectedNodes.map(Qo),t.selectedNodes.map(Qo))&&y(e.selectedEdges.map(Qo),t.selectedEdges.map(Qo))}const Jo=(0,e.memo)((t=>{let{onSelectionChange:n}=t;const r=_r(),{selectedNodes:o,selectedEdges:i}=Sr($o,Zo);return(0,e.useEffect)((()=>{const e={nodes:o,edges:i};null===n||void 0===n||n(e),r.getState().onSelectionChange.forEach((t=>t(e)))}),[o,i,n]),null}));Jo.displayName="SelectionListener";const ei=e=>!!e.onSelectionChange;function ti(t){let{onSelectionChange:n}=t;const r=Sr(ei);return n||r?e.createElement(Jo,{onSelectionChange:n}):null}const ni=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function ri(t,n){(0,e.useEffect)((()=>{"undefined"!==typeof t&&n(t)}),[t])}function oi(t,n,r){(0,e.useEffect)((()=>{"undefined"!==typeof n&&r({[t]:n})}),[n])}const ii=t=>{let{nodes:n,edges:r,defaultNodes:o,defaultEdges:i,onConnect:a,onConnectStart:l,onConnectEnd:c,onClickConnectStart:u,onClickConnectEnd:d,nodesDraggable:f,nodesConnectable:h,nodesFocusable:p,edgesFocusable:g,edgesUpdatable:m,elevateNodesOnSelect:v,minZoom:b,maxZoom:w,nodeExtent:x,onNodesChange:S,onEdgesChange:_,elementsSelectable:k,connectionMode:E,snapGrid:C,snapToGrid:A,translateExtent:T,connectOnClick:P,defaultEdgeOptions:N,fitView:M,fitViewOptions:O,onNodesDelete:R,onEdgesDelete:I,onNodeDrag:L,onNodeDragStart:D,onNodeDragStop:j,onSelectionDrag:F,onSelectionDragStart:z,onSelectionDragStop:B,noPanClassName:U,nodeOrigin:V,rfId:H,autoPanOnConnect:W,autoPanOnNodeDrag:G,onError:X,connectionRadius:q,isValidConnection:K,nodeDragThreshold:Y}=t;const{setNodes:$,setEdges:Q,setDefaultNodesAndEdges:Z,setMinZoom:J,setMaxZoom:ee,setTranslateExtent:te,setNodeExtent:ne,reset:re}=Sr(ni,y),oe=_r();return(0,e.useEffect)((()=>{const e=null===i||void 0===i?void 0:i.map((e=>s(s({},e),N)));return Z(o,e),()=>{re()}}),[]),oi("defaultEdgeOptions",N,oe.setState),oi("connectionMode",E,oe.setState),oi("onConnect",a,oe.setState),oi("onConnectStart",l,oe.setState),oi("onConnectEnd",c,oe.setState),oi("onClickConnectStart",u,oe.setState),oi("onClickConnectEnd",d,oe.setState),oi("nodesDraggable",f,oe.setState),oi("nodesConnectable",h,oe.setState),oi("nodesFocusable",p,oe.setState),oi("edgesFocusable",g,oe.setState),oi("edgesUpdatable",m,oe.setState),oi("elementsSelectable",k,oe.setState),oi("elevateNodesOnSelect",v,oe.setState),oi("snapToGrid",A,oe.setState),oi("snapGrid",C,oe.setState),oi("onNodesChange",S,oe.setState),oi("onEdgesChange",_,oe.setState),oi("connectOnClick",P,oe.setState),oi("fitViewOnInit",M,oe.setState),oi("fitViewOnInitOptions",O,oe.setState),oi("onNodesDelete",R,oe.setState),oi("onEdgesDelete",I,oe.setState),oi("onNodeDrag",L,oe.setState),oi("onNodeDragStart",D,oe.setState),oi("onNodeDragStop",j,oe.setState),oi("onSelectionDrag",F,oe.setState),oi("onSelectionDragStart",z,oe.setState),oi("onSelectionDragStop",B,oe.setState),oi("noPanClassName",U,oe.setState),oi("nodeOrigin",V,oe.setState),oi("rfId",H,oe.setState),oi("autoPanOnConnect",W,oe.setState),oi("autoPanOnNodeDrag",G,oe.setState),oi("onError",X,oe.setState),oi("connectionRadius",q,oe.setState),oi("isValidConnection",K,oe.setState),oi("nodeDragThreshold",Y,oe.setState),ri(n,$),ri(r,Q),ri(b,J),ri(w,ee),ri(T,te),ri(x,ne),null},ai={display:"none"},si={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},li="react-flow__node-desc",ci="react-flow__edge-desc",ui=e=>e.ariaLiveMessage;function di(t){let{rfId:n}=t;const r=Sr(ui);return e.createElement("div",{id:"".concat("react-flow__aria-live","-").concat(n),"aria-live":"assertive","aria-atomic":"true",style:si},r)}function fi(t){let{rfId:n,disableKeyboardA11y:r}=t;return e.createElement(e.Fragment,null,e.createElement("div",{id:"".concat(li,"-").concat(n),style:ai},"Press enter or space to select a node.",!r&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),e.createElement("div",{id:"".concat(ci,"-").concat(n),style:ai},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!r&&e.createElement(di,{rfId:n}))}var hi=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{actInsideInputWithModifier:!0};const[r,o]=(0,e.useState)(!1),i=(0,e.useRef)(!1),a=(0,e.useRef)(new Set([])),[s,l]=(0,e.useMemo)((()=>{if(null!==t){const e=(Array.isArray(t)?t:[t]).filter((e=>"string"===typeof e)).map((e=>e.split("+"))),n=e.reduce(((e,t)=>e.concat(...t)),[]);return[e,n]}return[[],[]]}),[t]);return(0,e.useEffect)((()=>{const e="undefined"!==typeof document?document:null,r=(null===n||void 0===n?void 0:n.target)||e;if(null!==t){const e=e=>{i.current=e.ctrlKey||e.metaKey||e.shiftKey;if((!i.current||i.current&&!n.actInsideInputWithModifier)&&Hr(e))return!1;const t=gi(e.code,l);a.current.add(e[t]),pi(s,a.current,!1)&&(e.preventDefault(),o(!0))},t=e=>{if((!i.current||i.current&&!n.actInsideInputWithModifier)&&Hr(e))return!1;const t=gi(e.code,l);pi(s,a.current,!0)?(o(!1),a.current.clear()):a.current.delete(e[t]),"Meta"===e.key&&a.current.clear(),i.current=!1},c=()=>{a.current.clear(),o(!1)};return null===r||void 0===r||r.addEventListener("keydown",e),null===r||void 0===r||r.addEventListener("keyup",t),window.addEventListener("blur",c),()=>{null===r||void 0===r||r.removeEventListener("keydown",e),null===r||void 0===r||r.removeEventListener("keyup",t),window.removeEventListener("blur",c)}}}),[t,o]),r};function pi(e,t,n){return e.filter((e=>n||e.length===t.size)).some((e=>e.every((e=>t.has(e)))))}function gi(e,t){return t.includes(e)?"code":"key"}function mi(e,t,n,r){var o,i,a,s,l,c,u,d;const f=e.parentNode||e.parentId;if(!f)return n;const h=t.get(f),p=Eo(h,r);return mi(h,t,{x:(null!==(o=n.x)&&void 0!==o?o:0)+p.x,y:(null!==(i=n.y)&&void 0!==i?i:0)+p.y,z:(null!==(a=null===(s=h[Br])||void 0===s?void 0:s.z)&&void 0!==a?a:0)>(null!==(l=n.z)&&void 0!==l?l:0)?null!==(c=null===(u=h[Br])||void 0===u?void 0:u.z)&&void 0!==c?c:0:null!==(d=n.z)&&void 0!==d?d:0},r)}function vi(e,t,n){e.forEach((r=>{const o=r.parentNode||r.parentId;if(o&&!e.has(o))throw new Error("Parent node ".concat(o," not found"));if(o||null!==n&&void 0!==n&&n[r.id]){var i,a;const{x:o,y:l,z:c}=mi(r,e,s(s({},r.position),{},{z:null!==(i=null===(a=r[Br])||void 0===a?void 0:a.z)&&void 0!==i?i:0}),t);r.positionAbsolute={x:o,y:l},r[Br].z=c,null!==n&&void 0!==n&&n[r.id]&&(r[Br].isParent=!0)}}))}function yi(e,t,n,r){const o=new Map,i={},a=r?1e3:0;return e.forEach((e=>{var n;const r=(zr(e.zIndex)?e.zIndex:0)+(e.selected?a:0),l=t.get(e.id),c=s(s({},e),{},{positionAbsolute:{x:e.position.x,y:e.position.y}}),u=e.parentNode||e.parentId;u&&(i[u]=!0);const d=(null===l||void 0===l?void 0:l.type)&&(null===l||void 0===l?void 0:l.type)!==e.type;Object.defineProperty(c,Br,{enumerable:!1,value:{handleBounds:d||null===l||void 0===l||null===(n=l[Br])||void 0===n?void 0:n.handleBounds,z:r}}),o.set(e.id,c)})),vi(o,n,i),o}function bi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getNodes:n,width:r,height:o,minZoom:i,maxZoom:a,d3Zoom:s,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:d}=e(),f=t.initial&&!c&&u;if(s&&l&&(f||!t.initial)){const e=n().filter((e=>{var n;const r=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return null!==(n=t.nodes)&&void 0!==n&&n.length?r&&t.nodes.some((t=>t.id===e.id)):r})),c=e.every((e=>e.width&&e.height));if(e.length>0&&c){var h,p,g;const n=Co(e,d),{x:c,y:u,zoom:f}=Po(n,r,o,null!==(h=t.minZoom)&&void 0!==h?h:i,null!==(p=t.maxZoom)&&void 0!==p?p:a,null!==(g=t.padding)&&void 0!==g?g:.1),m=Gn.translate(c,u).scale(f);return"number"===typeof t.duration&&t.duration>0?s.transform(No(l,t.duration),m):s.transform(l,m),!0}}return!1}function wi(e,t){return e.forEach((e=>{const n=t.get(e.id);n&&t.set(n.id,s(s({},n),{},{[Br]:n[Br],selected:e.selected}))})),new Map(t)}function xi(e,t){return t.map((t=>{const n=e.find((e=>e.id===t.id));return n&&(t.selected=n.selected),t}))}function Si(e){let{changedNodes:t,changedEdges:n,get:r,set:o}=e;const{nodeInternals:i,edges:a,onNodesChange:s,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:u}=r();null!==t&&void 0!==t&&t.length&&(c&&o({nodeInternals:wi(t,i)}),null===s||void 0===s||s(t)),null!==n&&void 0!==n&&n.length&&(u&&o({edges:xi(n,a)}),null===l||void 0===l||l(n))}const _i=()=>{},ki={zoomIn:_i,zoomOut:_i,zoomTo:_i,getZoom:()=>1,setViewport:_i,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:_i,fitBounds:_i,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Ei=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection});function Ci(){const t=(()=>{const t=_r(),{d3Zoom:n,d3Selection:r}=Sr(Ei,y),o=(0,e.useMemo)((()=>r&&n?{zoomIn:e=>n.scaleBy(No(r,null===e||void 0===e?void 0:e.duration),1.2),zoomOut:e=>n.scaleBy(No(r,null===e||void 0===e?void 0:e.duration),1/1.2),zoomTo:(e,t)=>n.scaleTo(No(r,null===t||void 0===t?void 0:t.duration),e),getZoom:()=>t.getState().transform[2],setViewport:(e,o)=>{var i,a,s;const[l,c,u]=t.getState().transform,d=Gn.translate(null!==(i=e.x)&&void 0!==i?i:l,null!==(a=e.y)&&void 0!==a?a:c).scale(null!==(s=e.zoom)&&void 0!==s?s:u);n.transform(No(r,null===o||void 0===o?void 0:o.duration),d)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},fitView:e=>bi(t.getState,e),setCenter:(e,o,i)=>{const{width:a,height:s,maxZoom:l}=t.getState(),c="undefined"!==typeof(null===i||void 0===i?void 0:i.zoom)?i.zoom:l,u=a/2-e*c,d=s/2-o*c,f=Gn.translate(u,d).scale(c);n.transform(No(r,null===i||void 0===i?void 0:i.duration),f)},fitBounds:(e,o)=>{var i;const{width:a,height:s,minZoom:l,maxZoom:c}=t.getState(),{x:u,y:d,zoom:f}=Po(e,a,s,l,c,null!==(i=null===o||void 0===o?void 0:o.padding)&&void 0!==i?i:.1),h=Gn.translate(u,d).scale(f);n.transform(No(r,null===o||void 0===o?void 0:o.duration),h)},project:e=>{const{transform:n,snapToGrid:r,snapGrid:o}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),_o(e,n,r,o)},screenToFlowPosition:e=>{const{transform:n,snapToGrid:r,snapGrid:o,domNode:i}=t.getState();if(!i)return e;const{x:a,y:s}=i.getBoundingClientRect(),l={x:e.x-a,y:e.y-s};return _o(l,n,r,o)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:o,y:i}=r.getBoundingClientRect(),a=ko(e,n);return{x:a.x+o,y:a.y+i}},viewportInitialized:!0}:ki),[n,r]);return o})(),n=_r(),r=(0,e.useCallback)((()=>n.getState().getNodes().map((e=>s({},e)))),[]),o=(0,e.useCallback)((e=>n.getState().nodeInternals.get(e)),[]),i=(0,e.useCallback)((()=>{const{edges:e=[]}=n.getState();return e.map((e=>s({},e)))}),[]),a=(0,e.useCallback)((e=>{const{edges:t=[]}=n.getState();return t.find((t=>t.id===e))}),[]),l=(0,e.useCallback)((e=>{const{getNodes:t,setNodes:r,hasDefaultNodes:o,onNodesChange:i}=n.getState(),a=t(),s="function"===typeof e?e(a):e;if(o)r(s);else if(i){const e=0===s.length?a.map((e=>({type:"remove",id:e.id}))):s.map((e=>({item:e,type:"reset"})));i(e)}}),[]),c=(0,e.useCallback)((e=>{const{edges:t=[],setEdges:r,hasDefaultEdges:o,onEdgesChange:i}=n.getState(),a="function"===typeof e?e(t):e;if(o)r(a);else if(i){i(0===a.length?t.map((e=>({type:"remove",id:e.id}))):a.map((e=>({item:e,type:"reset"}))))}}),[]),u=(0,e.useCallback)((e=>{const t=Array.isArray(e)?e:[e],{getNodes:r,setNodes:o,hasDefaultNodes:i,onNodesChange:a}=n.getState();if(i){o([...r(),...t])}else if(a){const e=t.map((e=>({item:e,type:"add"})));a(e)}}),[]),d=(0,e.useCallback)((e=>{const t=Array.isArray(e)?e:[e],{edges:r=[],setEdges:o,hasDefaultEdges:i,onEdgesChange:a}=n.getState();if(i)o([...r,...t]);else if(a){a(t.map((e=>({item:e,type:"add"}))))}}),[]),f=(0,e.useCallback)((()=>{const{getNodes:e,edges:t=[],transform:r}=n.getState(),[o,i,a]=r;return{nodes:e().map((e=>s({},e))),edges:t.map((e=>s({},e))),viewport:{x:o,y:i,zoom:a}}}),[]),h=(0,e.useCallback)((e=>{let{nodes:t,edges:r}=e;const{nodeInternals:o,getNodes:i,edges:a,hasDefaultNodes:s,hasDefaultEdges:l,onNodesDelete:c,onEdgesDelete:u,onNodesChange:d,onEdgesChange:f}=n.getState(),h=(t||[]).map((e=>e.id)),p=(r||[]).map((e=>e.id)),g=i().reduce(((e,t)=>{const n=t.parentNode||t.parentId,r=!h.includes(t.id)&&n&&e.find((e=>e.id===n));return("boolean"!==typeof t.deletable||t.deletable)&&(h.includes(t.id)||r)&&e.push(t),e}),[]),m=a.filter((e=>"boolean"!==typeof e.deletable||e.deletable)),v=m.filter((e=>p.includes(e.id)));if(g||v){const e=To(g,m),t=[...v,...e],r=t.reduce(((e,t)=>(e.includes(t.id)||e.push(t.id),e)),[]);if((l||s)&&(l&&n.setState({edges:a.filter((e=>!r.includes(e.id)))}),s&&(g.forEach((e=>{o.delete(e.id)})),n.setState({nodeInternals:new Map(o)}))),r.length>0&&(null===u||void 0===u||u(t),f&&f(r.map((e=>({id:e,type:"remove"}))))),g.length>0&&(null===c||void 0===c||c(g),d)){const e=g.map((e=>({id:e.id,type:"remove"})));d(e)}}}),[]),p=(0,e.useCallback)((e=>{const t=zr((r=e).width)&&zr(r.height)&&zr(r.x)&&zr(r.y);var r;const o=t?null:n.getState().nodeInternals.get(e.id);if(!t&&!o)return[null,null,t];return[t?e:jr(o),o,t]}),[]),g=(0,e.useCallback)((function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;const[o,i,a]=p(e);return o?(r||n.getState().getNodes()).filter((e=>{if(!a&&(e.id===i.id||!e.positionAbsolute))return!1;const n=jr(e),r=Fr(n,o);return t&&r>0||r>=o.width*o.height})):[]}),[]),m=(0,e.useCallback)((function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[r]=p(e);if(!r)return!1;const o=Fr(r,t);return n&&o>0||o>=r.width*r.height}),[]);return(0,e.useMemo)((()=>s(s({},t),{},{getNodes:r,getNode:o,getEdges:i,getEdge:a,setNodes:l,setEdges:c,addNodes:u,addEdges:d,toObject:f,deleteElements:h,getIntersectingNodes:g,isNodeIntersecting:m})),[t,r,o,i,a,l,c,u,d,f,h,g,m])}const Ai={actInsideInputWithModifier:!1};const Ti={position:"absolute",width:"100%",height:"100%",top:0,left:0},Pi=e=>({x:e.x,y:e.y,zoom:e.k}),Ni=(e,t)=>e.target.closest(".".concat(t)),Mi=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),Oi=e=>{const t=e.ctrlKey&&Xr()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},Ri=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Ii=t=>{let{onMove:n,onMoveStart:r,onMoveEnd:o,onPaneContextMenu:i,zoomOnScroll:a=!0,zoomOnPinch:s=!0,panOnScroll:l=!1,panOnScrollSpeed:c=.5,panOnScrollMode:u=Zr.Free,zoomOnDoubleClick:d=!0,elementsSelectable:f,panOnDrag:h=!0,defaultViewport:p,translateExtent:g,minZoom:m,maxZoom:v,zoomActivationKeyCode:b,preventScrolling:w=!0,children:x,noWheelClassName:S,noPanClassName:_}=t;const E=(0,e.useRef)(),C=_r(),A=(0,e.useRef)(!1),T=(0,e.useRef)(!1),P=(0,e.useRef)(null),N=(0,e.useRef)({x:0,y:0,zoom:0}),{d3Zoom:M,d3Selection:O,d3ZoomHandler:R,userSelectionActive:I}=Sr(Ri,y),L=hi(b),D=(0,e.useRef)(0),j=(0,e.useRef)(!1),F=(0,e.useRef)();return function(t){const n=_r();(0,e.useEffect)((()=>{let e;const r=()=>{if(!t.current)return;const e=Tr(t.current);var r,o;0!==e.height&&0!==e.width||null===(r=(o=n.getState()).onError)||void 0===r||r.call(o,"004",hr()),n.setState({width:e.width||500,height:e.height||500})};return r(),window.addEventListener("resize",r),t.current&&(e=new ResizeObserver((()=>r())),e.observe(t.current)),()=>{window.removeEventListener("resize",r),e&&t.current&&e.unobserve(t.current)}}),[])}(P),(0,e.useEffect)((()=>{if(P.current){const e=P.current.getBoundingClientRect(),t=function(){var e,t,n,r=Kn,o=Yn,i=Jn,a=Qn,s=Zn,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=Xe,f=k("start","zoom","end"),h=0,p=10;function g(e){e.property("__zoom",$n).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",_).on("dblclick.zoom",E).filter(s).on("touchstart.zoom",C).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new Wn(t,e.x,e.y)}function v(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new Wn(e.k,r,o)}function y(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function b(e,t,n,r){e.on("start.zoom",(function(){w(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){w(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,i=arguments,a=w(e,i).event(r),s=o.apply(e,i),l=null==n?y(s):"function"===typeof n?n.apply(e,i):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=e.__zoom,f="function"===typeof t?t.apply(e,i):t,h=d(u.invert(l).concat(c/u.k),f.invert(l).concat(c/f.k));return function(e){if(1===e)e=f;else{var t=h(e),n=c/t[2];e=new Wn(n,l[0]-t[0]*n,l[1]-t[1]*n)}a.zoom(null,e)}}))}function w(e,t,n){return!n&&e.__zooming||new x(e,t)}function x(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=o.apply(e,t),this.taps=0}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(r.apply(this,arguments)){var s=w(this,n).event(e),u=this.__zoom,d=Math.max(l[0],Math.min(l[1],u.k*Math.pow(2,a.apply(this,arguments)))),f=qe(e);if(s.wheel)s.mouse[0][0]===f[0]&&s.mouse[0][1]===f[1]||(s.mouse[1]=u.invert(s.mouse[0]=f)),clearTimeout(s.wheel);else{if(u.k===d)return;s.mouse=[f,u.invert(f)],yt(this),s.start()}qn(e),s.wheel=setTimeout((function(){s.wheel=null,s.end()}),150),s.zoom("mouse",i(v(m(u,d),s.mouse[0],s.mouse[1]),s.extent,c))}}function _(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];if(!n&&r.apply(this,arguments)){var s=e.currentTarget,l=w(this,o,!0).event(e),u=Fe(e.view).on("mousemove.zoom",(function(e){if(qn(e),!l.moved){var t=e.clientX-f,n=e.clientY-p;l.moved=t*t+n*n>h}l.event(e).zoom("mouse",i(v(l.that.__zoom,l.mouse[0]=qe(e,s),l.mouse[1]),l.extent,c))}),!0).on("mouseup.zoom",(function(e){u.on("mousemove.zoom mouseup.zoom",null),We(e.view,l.moved),qn(e),l.event(e).end()}),!0),d=qe(e,s),f=e.clientX,p=e.clientY;He(e.view),Xn(e),l.mouse=[d,this.__zoom.invert(d)],yt(this),l.start()}}function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(r.apply(this,arguments)){var s=this.__zoom,l=qe(e.changedTouches?e.changedTouches[0]:e,this),d=s.invert(l),f=s.k*(e.shiftKey?.5:2),h=i(v(m(s,f),l,d),o.apply(this,n),c);qn(e),u>0?Fe(this).transition().duration(u).call(b,h,l,e):Fe(this).call(g.transform,h,l,e)}}function C(n){for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(r.apply(this,arguments)){var s,l,c,u,d=n.touches,f=d.length,h=w(this,i,n.changedTouches.length===f).event(n);for(Xn(n),l=0;l<f;++l)u=[u=qe(c=d[l],this),this.__zoom.invert(u),c.identifier],h.touch0?h.touch1||h.touch0[2]===u[2]||(h.touch1=u,h.taps=0):(h.touch0=u,s=!0,h.taps=1+!!e);e&&(e=clearTimeout(e)),s&&(h.taps<2&&(t=u[0],e=setTimeout((function(){e=null}),500)),yt(this),h.start())}}function A(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o,a,s,l,u=w(this,n).event(e),d=e.changedTouches,f=d.length;for(qn(e),o=0;o<f;++o)s=qe(a=d[o],this),u.touch0&&u.touch0[2]===a.identifier?u.touch0[0]=s:u.touch1&&u.touch1[2]===a.identifier&&(u.touch1[0]=s);if(a=u.that.__zoom,u.touch1){var h=u.touch0[0],p=u.touch0[1],g=u.touch1[0],y=u.touch1[1],b=(b=g[0]-h[0])*b+(b=g[1]-h[1])*b,x=(x=y[0]-p[0])*x+(x=y[1]-p[1])*x;a=m(a,Math.sqrt(b/x)),s=[(h[0]+g[0])/2,(h[1]+g[1])/2],l=[(p[0]+y[0])/2,(p[1]+y[1])/2]}else{if(!u.touch0)return;s=u.touch0[0],l=u.touch0[1]}u.zoom("touch",i(v(a,s,l),u.extent,c))}}function T(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];if(this.__zooming){var a,s,l=w(this,o).event(e),c=e.changedTouches,u=c.length;for(Xn(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),a=0;a<u;++a)s=c[a],l.touch0&&l.touch0[2]===s.identifier?delete l.touch0:l.touch1&&l.touch1[2]===s.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(s=qe(s,this),Math.hypot(t[0]-s[0],t[1]-s[1])<p)){var d=Fe(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return g.transform=function(e,t,n,r){var o=e.selection?e.selection():e;o.property("__zoom",$n),e!==o?b(e,t,n,r):o.interrupt().each((function(){w(this,arguments).event(r).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},g.scaleBy=function(e,t,n,r){g.scaleTo(e,(function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)}),n,r)},g.scaleTo=function(e,t,n,r){g.transform(e,(function(){var e=o.apply(this,arguments),r=this.__zoom,a=null==n?y(e):"function"===typeof n?n.apply(this,arguments):n,s=r.invert(a),l="function"===typeof t?t.apply(this,arguments):t;return i(v(m(r,l),a,s),e,c)}),n,r)},g.translateBy=function(e,t,n,r){g.transform(e,(function(){return i(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),o.apply(this,arguments),c)}),null,r)},g.translateTo=function(e,t,n,r,a){g.transform(e,(function(){var e=o.apply(this,arguments),a=this.__zoom,s=null==r?y(e):"function"===typeof r?r.apply(this,arguments):r;return i(Gn.translate(s[0],s[1]).scale(a.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,c)}),r,a)},x.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Fe(this.that).datum();f.call(e,this.that,new Hn(e,{sourceEvent:this.sourceEvent,target:g,type:e,transform:this.that.__zoom,dispatch:f}),t)}},g.wheelDelta=function(e){return arguments.length?(a="function"===typeof e?e:Vn(+e),g):a},g.filter=function(e){return arguments.length?(r="function"===typeof e?e:Vn(!!e),g):r},g.touchable=function(e){return arguments.length?(s="function"===typeof e?e:Vn(!!e),g):s},g.extent=function(e){return arguments.length?(o="function"===typeof e?e:Vn([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),g):o},g.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],g):[l[0],l[1]]},g.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],g):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},g.constrain=function(e){return arguments.length?(i=e,g):i},g.duration=function(e){return arguments.length?(u=+e,g):u},g.interpolate=function(e){return arguments.length?(d=e,g):d},g.on=function(){var e=f.on.apply(f,arguments);return e===f?g:e},g.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,g):Math.sqrt(h)},g.tapDistance=function(e){return arguments.length?(p=+e,g):p},g}().scaleExtent([m,v]).translateExtent(g),n=Fe(P.current).call(t),r=Gn.translate(p.x,p.y).scale(Pr(p.zoom,m,v)),o=[[0,0],[e.width,e.height]],i=t.constrain()(r,o,g);t.transform(n,i),t.wheelDelta(Oi),C.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[i.x,i.y,i.k],domNode:P.current.closest(".react-flow")})}}),[]),(0,e.useEffect)((()=>{O&&M&&(!l||L||I?"undefined"!==typeof R&&O.on("wheel.zoom",(function(e,t){if(!w&&"wheel"===e.type&&!e.ctrlKey||Ni(e,S))return null;e.preventDefault(),R.call(this,e,t)}),{passive:!1}):O.on("wheel.zoom",(e=>{if(Ni(e,S))return!1;e.preventDefault(),e.stopImmediatePropagation();const t=O.property("__zoom").k||1;if(e.ctrlKey&&s){const n=qe(e),r=Oi(e),o=t*Math.pow(2,r);return void M.scaleTo(O,o,n,e)}const i=1===e.deltaMode?20:1;let a=u===Zr.Vertical?0:e.deltaX*i,l=u===Zr.Horizontal?0:e.deltaY*i;!Xr()&&e.shiftKey&&u!==Zr.Vertical&&(a=e.deltaY*i,l=0),M.translateBy(O,-a/t*c,-l/t*c,{internal:!0});const d=Pi(O.property("__zoom")),{onViewportChangeStart:f,onViewportChange:h,onViewportChangeEnd:p}=C.getState();clearTimeout(F.current),j.current||(j.current=!0,null===r||void 0===r||r(e,d),null===f||void 0===f||f(d)),j.current&&(null===n||void 0===n||n(e,d),null===h||void 0===h||h(d),F.current=setTimeout((()=>{null===o||void 0===o||o(e,d),null===p||void 0===p||p(d),j.current=!1}),150))}),{passive:!1}))}),[I,l,u,O,M,R,L,s,w,S,r,n,o]),(0,e.useEffect)((()=>{M&&M.on("start",(e=>{var t,n;if(!e.sourceEvent||e.sourceEvent.internal)return null;D.current=null===(t=e.sourceEvent)||void 0===t?void 0:t.button;const{onViewportChangeStart:o}=C.getState(),i=Pi(e.transform);A.current=!0,N.current=i,"mousedown"===(null===(n=e.sourceEvent)||void 0===n?void 0:n.type)&&C.setState({paneDragging:!0}),null===o||void 0===o||o(i),null===r||void 0===r||r(e.sourceEvent,i)}))}),[M,r]),(0,e.useEffect)((()=>{M&&(I&&!A.current?M.on("zoom",null):I||M.on("zoom",(e=>{var t,r;const{onViewportChange:o}=C.getState();if(C.setState({transform:[e.transform.x,e.transform.y,e.transform.k]}),T.current=!(!i||!Mi(h,null!==(t=D.current)&&void 0!==t?t:0)),(n||o)&&(null===(r=e.sourceEvent)||void 0===r||!r.internal)){const t=Pi(e.transform);null===o||void 0===o||o(t),null===n||void 0===n||n(e.sourceEvent,t)}})))}),[I,M,n,h,i]),(0,e.useEffect)((()=>{M&&M.on("end",(e=>{var t;if(!e.sourceEvent||e.sourceEvent.internal)return null;const{onViewportChangeEnd:n}=C.getState();if(A.current=!1,C.setState({paneDragging:!1}),i&&Mi(h,null!==(t=D.current)&&void 0!==t?t:0)&&!T.current&&i(e.sourceEvent),T.current=!1,(o||n)&&(r=N.current,a=e.transform,r.x!==a.x||r.y!==a.y||r.zoom!==a.k)){const t=Pi(e.transform);N.current=t,clearTimeout(E.current),E.current=setTimeout((()=>{null===n||void 0===n||n(t),null===o||void 0===o||o(e.sourceEvent,t)}),l?150:0)}var r,a}))}),[M,l,h,o,i]),(0,e.useEffect)((()=>{M&&M.filter((e=>{const t=L||a,n=s&&e.ctrlKey;if((!0===h||Array.isArray(h)&&h.includes(1))&&1===e.button&&"mousedown"===e.type&&(Ni(e,"react-flow__node")||Ni(e,"react-flow__edge")))return!0;if(!h&&!t&&!l&&!d&&!s)return!1;if(I)return!1;if(!d&&"dblclick"===e.type)return!1;if(Ni(e,S)&&"wheel"===e.type)return!1;if(Ni(e,_)&&("wheel"!==e.type||l&&"wheel"===e.type&&!L))return!1;if(!s&&e.ctrlKey&&"wheel"===e.type)return!1;if(!t&&!l&&!n&&"wheel"===e.type)return!1;if(!h&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(Array.isArray(h)&&!h.includes(e.button)&&"mousedown"===e.type)return!1;const r=Array.isArray(h)&&h.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&r}))}),[I,M,a,s,l,d,h,f,L]),e.createElement("div",{className:"react-flow__renderer",ref:P,style:Ti},x)},Li=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Di(){const{userSelectionActive:t,userSelectionRect:n}=Sr(Li,y);return t&&n?e.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:"translate(".concat(n.x,"px, ").concat(n.y,"px)")}}):null}function ji(e,t){const n=t.parentNode||t.parentId,r=e.find((e=>e.id===n));if(r){const e=t.position.x+t.width-r.width,n=t.position.y+t.height-r.height;if(e>0||n>0||t.position.x<0||t.position.y<0){var o,i;if(r.style=s({},r.style)||{},r.style.width=null!==(o=r.style.width)&&void 0!==o?o:r.width,r.style.height=null!==(i=r.style.height)&&void 0!==i?i:r.height,e>0&&(r.style.width+=e),n>0&&(r.style.height+=n),t.position.x<0){const e=Math.abs(t.position.x);r.position.x=r.position.x-e,r.style.width+=e,t.position.x=0}if(t.position.y<0){const e=Math.abs(t.position.y);r.position.y=r.position.y-e,r.style.height+=e,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function Fi(e,t){if(e.some((e=>"reset"===e.type)))return e.filter((e=>"reset"===e.type)).map((e=>e.item));const n=e.filter((e=>"add"===e.type)).map((e=>e.item));return t.reduce(((t,n)=>{const r=e.filter((e=>e.id===n.id));if(0===r.length)return t.push(n),t;const o=s({},n);for(const e of r)if(e)switch(e.type){case"select":o.selected=e.selected;break;case"position":"undefined"!==typeof e.position&&(o.position=e.position),"undefined"!==typeof e.positionAbsolute&&(o.positionAbsolute=e.positionAbsolute),"undefined"!==typeof e.dragging&&(o.dragging=e.dragging),o.expandParent&&ji(t,o);break;case"dimensions":"undefined"!==typeof e.dimensions&&(o.width=e.dimensions.width,o.height=e.dimensions.height),"undefined"!==typeof e.updateStyle&&(o.style=s(s({},o.style||{}),e.dimensions)),"boolean"===typeof e.resizing&&(o.resizing=e.resizing),o.expandParent&&ji(t,o);break;case"remove":return t}return t.push(o),t}),n)}function zi(e,t){return Fi(e,t)}const Bi=(e,t)=>({id:e,type:"select",selected:t});function Ui(e,t){return e.reduce(((e,n)=>{const r=t.includes(n.id);return!n.selected&&r?(n.selected=!0,e.push(Bi(n.id,!0))):n.selected&&!r&&(n.selected=!1,e.push(Bi(n.id,!1))),e}),[])}const Vi=(e,t)=>n=>{n.target===t.current&&(null===e||void 0===e||e(n))},Hi=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Wi=(0,e.memo)((t=>{let{isSelecting:n,selectionMode:r=Jr.Full,panOnDrag:o,onSelectionStart:i,onSelectionEnd:a,onPaneClick:l,onPaneContextMenu:u,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:h,onPaneMouseLeave:p,children:g}=t;const m=(0,e.useRef)(null),v=_r(),b=(0,e.useRef)(0),w=(0,e.useRef)(0),x=(0,e.useRef)(),{userSelectionActive:S,elementsSelectable:_,dragging:k}=Sr(Hi,y),E=()=>{v.setState({userSelectionActive:!1,userSelectionRect:null}),b.current=0,w.current=0},C=e=>{null===l||void 0===l||l(e),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},A=d?e=>d(e):void 0,T=_&&(n||S);return e.createElement("div",{className:c(["react-flow__pane",{dragging:k,selection:n}]),onClick:T?void 0:Vi(C,m),onContextMenu:Vi((e=>{Array.isArray(o)&&null!==o&&void 0!==o&&o.includes(2)?e.preventDefault():null===u||void 0===u||u(e)}),m),onWheel:Vi(A,m),onMouseEnter:T?void 0:f,onMouseDown:T?e=>{const{resetSelectedElements:t,domNode:r}=v.getState();if(x.current=null===r||void 0===r?void 0:r.getBoundingClientRect(),!_||!n||0!==e.button||e.target!==m.current||!x.current)return;const{x:o,y:a}=Gr(e,x.current);t(),v.setState({userSelectionRect:{width:0,height:0,startX:o,startY:a,x:o,y:a}}),null===i||void 0===i||i(e)}:void 0,onMouseMove:T?e=>{var t,o;const{userSelectionRect:i,nodeInternals:a,edges:l,transform:c,onNodesChange:u,onEdgesChange:d,nodeOrigin:f,getNodes:h}=v.getState();if(!n||!x.current||!i)return;v.setState({userSelectionActive:!0,nodesSelectionActive:!1});const p=Gr(e,x.current),g=null!==(t=i.startX)&&void 0!==t?t:0,m=null!==(o=i.startY)&&void 0!==o?o:0,y=s(s({},i),{},{x:p.x<g?p.x:g,y:p.y<m?p.y:m,width:Math.abs(p.x-g),height:Math.abs(p.y-m)}),S=h(),_=Ao(a,y,c,r===Jr.Partial,!0,f),k=To(_,l).map((e=>e.id)),E=_.map((e=>e.id));if(b.current!==E.length){b.current=E.length;const e=Ui(S,E);e.length&&(null===u||void 0===u||u(e))}if(w.current!==k.length){w.current=k.length;const e=Ui(l,k);e.length&&(null===d||void 0===d||d(e))}v.setState({userSelectionRect:y})}:h,onMouseUp:T?e=>{if(0!==e.button)return;const{userSelectionRect:t}=v.getState();!S&&t&&e.target===m.current&&(null===C||void 0===C||C(e)),v.setState({nodesSelectionActive:b.current>0}),E(),null===a||void 0===a||a(e)}:void 0,onMouseLeave:T?e=>{S&&(v.setState({nodesSelectionActive:b.current>0}),null===a||void 0===a||a(e)),E()}:p,ref:m,style:Ti},g,e.createElement(Di,null))}));function Gi(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return!!r&&(!!r.selected||Gi(r,t))}function Xi(e,t,n){let r=e;do{var o;if(null!==(o=r)&&void 0!==o&&o.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function qi(e,t,n,r){return Array.from(e.values()).filter((n=>(n.selected||n.id===r)&&(!n.parentNode||n.parentId||!Gi(n,e))&&(n.draggable||t&&"undefined"===typeof n.draggable))).map((e=>{var t,r,o,i;return{id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:n.x-(null!==(t=null===(r=e.positionAbsolute)||void 0===r?void 0:r.x)&&void 0!==t?t:0),y:n.y-(null!==(o=null===(i=e.positionAbsolute)||void 0===i?void 0:i.y)&&void 0!==o?o:0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent}}))}function Ki(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,0],i=arguments.length>5?arguments[5]:void 0;const a=function(e,t){return t&&"parent"!==t?[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]:t}(e,e.extent||r);let s=a;const l=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&l&&"parent"!==e.extent){const t=n.get(l),{x:r,y:i}=Eo(t,o).positionAbsolute;s=[[e.extent[0][0]+r,e.extent[0][1]+i],[e.extent[1][0]+r,e.extent[1][1]+i]]}}else if(l&&e.width&&e.height){const t=n.get(l),{x:r,y:i}=Eo(t,o).positionAbsolute;s=t&&zr(r)&&zr(i)&&zr(t.width)&&zr(t.height)?[[r+e.width*o[0],i+e.height*o[1]],[r+t.width-e.width+e.width*o[0],i+t.height-e.height+e.height*o[1]]]:s}else null===i||void 0===i||i("005",pr()),s=a;let c={x:0,y:0};if(l){const e=n.get(l);c=Eo(e,o).positionAbsolute}const u=s&&"parent"!==s?Nr(t,s):t;return{position:{x:u.x-c.x,y:u.y-c.y},positionAbsolute:u}}function Yi(e){let{nodeId:t,dragItems:n,nodeInternals:r}=e;const o=n.map((e=>s(s({},r.get(e.id)),{},{position:e.position,positionAbsolute:e.positionAbsolute})));return[t?o.find((e=>e.id===t)):o[0],o]}Wi.displayName="Pane";const $i=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const i=Array.from(o),a=t.getBoundingClientRect(),l=a.width*r[0],c=a.height*r[1];return i.map((e=>{const t=e.getBoundingClientRect();return s({id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-a.left-l)/n,y:(t.top-a.top-c)/n},Tr(e))}))};function Qi(e,t,n){return void 0===n?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,s({},o))}}function Zi(e){let{id:t,store:n,unselect:r=!1,nodeRef:o}=e;const{addSelectedNodes:i,unselectNodesAndEdges:a,multiSelectionActive:s,nodeInternals:l,onError:c}=n.getState(),u=l.get(t);u?(n.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&s)&&(a({nodes:[u],edges:[]}),requestAnimationFrame((()=>{var e;return null===o||void 0===o||null===(e=o.current)||void 0===e?void 0:e.blur()}))):i([t])):null===c||void 0===c||c("012",wr(t))}function Ji(e){return(t,n,r)=>null===e||void 0===e?void 0:e(t,r)}function ea(t){let{nodeRef:n,disabled:r=!1,noDragClassName:o,handleSelector:i,nodeId:a,isSelectable:l,selectNodesOnDrag:c}=t;const u=_r(),[d,f]=(0,e.useState)(!1),h=(0,e.useRef)([]),p=(0,e.useRef)({x:null,y:null}),g=(0,e.useRef)(0),m=(0,e.useRef)(null),v=(0,e.useRef)({x:0,y:0}),y=(0,e.useRef)(null),b=(0,e.useRef)(!1),w=(0,e.useRef)(!1),x=(0,e.useRef)(!1),S=function(){const t=_r(),n=(0,e.useCallback)((e=>{let{sourceEvent:n}=e;const{transform:r,snapGrid:o,snapToGrid:i}=t.getState(),a=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,c={x:(a-r[0])/r[2],y:(l-r[1])/r[2]};return s({xSnapped:i?o[0]*Math.round(c.x/o[0]):c.x,ySnapped:i?o[1]*Math.round(c.y/o[1]):c.y},c)}),[]);return n}();return(0,e.useEffect)((()=>{if(null!==n&&void 0!==n&&n.current){const e=Fe(n.current),t=e=>{let{x:t,y:n}=e;const{nodeInternals:r,onNodeDrag:o,onSelectionDrag:i,updateNodePositions:s,nodeExtent:l,snapGrid:c,snapToGrid:d,nodeOrigin:g,onError:m}=u.getState();p.current={x:t,y:n};let v=!1,b={x:0,y:0,x2:0,y2:0};if(h.current.length>1&&l){const e=Co(h.current,g);b=Lr(e)}if(h.current=h.current.map((e=>{const o={x:t-e.distance.x,y:n-e.distance.y};d&&(o.x=c[0]*Math.round(o.x/c[0]),o.y=c[1]*Math.round(o.y/c[1]));const i=[[l[0][0],l[0][1]],[l[1][0],l[1][1]]];var a,s;h.current.length>1&&l&&!e.extent&&(i[0][0]=e.positionAbsolute.x-b.x+l[0][0],i[1][0]=e.positionAbsolute.x+(null!==(a=e.width)&&void 0!==a?a:0)-b.x2+l[1][0],i[0][1]=e.positionAbsolute.y-b.y+l[0][1],i[1][1]=e.positionAbsolute.y+(null!==(s=e.height)&&void 0!==s?s:0)-b.y2+l[1][1]);const u=Ki(e,o,r,i,g,m);return v=v||e.position.x!==u.position.x||e.position.y!==u.position.y,e.position=u.position,e.positionAbsolute=u.positionAbsolute,e})),!v)return;s(h.current,!0,!0),f(!0);const w=a?o:Ji(i);if(w&&y.current){const[e,t]=Yi({nodeId:a,dragItems:h.current,nodeInternals:r});w(y.current,e,t)}},s=()=>{if(!m.current)return;const[e,n]=Or(v.current,m.current);if(0!==e||0!==n){var r,o;const{transform:i,panBy:a}=u.getState();p.current.x=(null!==(r=p.current.x)&&void 0!==r?r:0)-e/i[2],p.current.y=(null!==(o=p.current.y)&&void 0!==o?o:0)-n/i[2],a({x:e,y:n})&&t(p.current)}g.current=requestAnimationFrame(s)},d=e=>{const{nodeInternals:t,multiSelectionActive:r,nodesDraggable:o,unselectNodesAndEdges:i,onNodeDragStart:s,onSelectionDragStart:d}=u.getState();w.current=!0;const f=a?s:Ji(d);var g;c&&l||r||!a||(null!==(g=t.get(a))&&void 0!==g&&g.selected||i());a&&l&&c&&Zi({id:a,store:u,nodeRef:n});const m=S(e);if(p.current=m,h.current=qi(t,o,m,a),f&&h.current){const[n,r]=Yi({nodeId:a,dragItems:h.current,nodeInternals:t});f(e.sourceEvent,n,r)}};if(!r){const r=function(){var e,t,n,r,o=nr,i=rr,a=or,s=ir,l={},c=k("start","drag","end"),u=0,d=0;function f(e){e.on("mousedown.drag",h).filter(s).on("touchstart.drag",m).on("touchmove.drag",v,ze).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(a,s){if(!r&&o.call(this,a,s)){var l=b(this,i.call(this,a,s),a,s,"mouse");l&&(Fe(a.view).on("mousemove.drag",p,Be).on("mouseup.drag",g,Be),He(a.view),Ue(a),n=!1,e=a.clientX,t=a.clientY,l("start",a))}}function p(r){if(Ve(r),!n){var o=r.clientX-e,i=r.clientY-t;n=o*o+i*i>d}l.mouse("drag",r)}function g(e){Fe(e.view).on("mousemove.drag mouseup.drag",null),We(e.view,n),Ve(e),l.mouse("end",e)}function m(e,t){if(o.call(this,e,t)){var n,r,a=e.changedTouches,s=i.call(this,e,t),l=a.length;for(n=0;n<l;++n)(r=b(this,s,e,t,a[n].identifier,a[n]))&&(Ue(e),r("start",e,a[n]))}}function v(e){var t,n,r=e.changedTouches,o=r.length;for(t=0;t<o;++t)(n=l[r[t].identifier])&&(Ve(e),n("drag",e,r[t]))}function y(e){var t,n,o=e.changedTouches,i=o.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(n=l[o[t].identifier])&&(Ue(e),n("end",e,o[t]))}function b(e,t,n,r,o,i){var s,d,h,p=c.copy(),g=qe(i||n,t);if(null!=(h=a.call(e,new tr("beforestart",{sourceEvent:n,target:f,identifier:o,active:u,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),r)))return s=h.x-g[0]||0,d=h.y-g[1]||0,function n(i,a,c){var m,v=g;switch(i){case"start":l[o]=n,m=u++;break;case"end":delete l[o],--u;case"drag":g=qe(c||a,t),m=u}p.call(i,e,new tr(i,{sourceEvent:a,subject:h,target:f,identifier:o,active:m,x:g[0]+s,y:g[1]+d,dx:g[0]-v[0],dy:g[1]-v[1],dispatch:p}),r)}}return f.filter=function(e){return arguments.length?(o="function"===typeof e?e:er(!!e),f):o},f.container=function(e){return arguments.length?(i="function"===typeof e?e:er(e),f):i},f.subject=function(e){return arguments.length?(a="function"===typeof e?e:er(e),f):a},f.touchable=function(e){return arguments.length?(s="function"===typeof e?e:er(!!e),f):s},f.on=function(){var e=c.on.apply(c,arguments);return e===c?f:e},f.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,f):Math.sqrt(d)},f}().on("start",(e=>{const{domNode:t,nodeDragThreshold:n}=u.getState();0===n&&d(e),x.current=!1;const r=S(e);p.current=r,m.current=(null===t||void 0===t?void 0:t.getBoundingClientRect())||null,v.current=Gr(e.sourceEvent,m.current)})).on("drag",(e=>{const n=S(e),{autoPanOnNodeDrag:r,nodeDragThreshold:o}=u.getState();if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(x.current=!0),!x.current){if(!b.current&&w.current&&r&&(b.current=!0,s()),!w.current){var i,a,l,c;const t=n.xSnapped-(null!==(i=null===p||void 0===p||null===(a=p.current)||void 0===a?void 0:a.x)&&void 0!==i?i:0),r=n.ySnapped-(null!==(l=null===p||void 0===p||null===(c=p.current)||void 0===c?void 0:c.y)&&void 0!==l?l:0);Math.sqrt(t*t+r*r)>o&&d(e)}(p.current.x!==n.xSnapped||p.current.y!==n.ySnapped)&&h.current&&w.current&&(y.current=e.sourceEvent,v.current=Gr(e.sourceEvent,m.current),t(n))}})).on("end",(e=>{if(w.current&&!x.current&&(f(!1),b.current=!1,w.current=!1,cancelAnimationFrame(g.current),h.current)){const{updateNodePositions:t,nodeInternals:n,onNodeDragStop:r,onSelectionDragStop:o}=u.getState(),i=a?r:Ji(o);if(t(h.current,!1,!1),i){const[t,r]=Yi({nodeId:a,dragItems:h.current,nodeInternals:n});i(e.sourceEvent,t,r)}}})).filter((e=>{const t=e.target;return!e.button&&(!o||!Xi(t,".".concat(o),n))&&(!i||Xi(t,i,n))}));return e.call(r),()=>{e.on(".drag",null)}}e.on(".drag",null)}}),[n,r,o,i,l,u,a,c,S]),d}function ta(){const t=_r(),n=(0,e.useCallback)((e=>{const{nodeInternals:n,nodeExtent:r,updateNodePositions:o,getNodes:i,snapToGrid:a,snapGrid:s,onError:l,nodesDraggable:c}=t.getState(),u=i().filter((e=>e.selected&&(e.draggable||c&&"undefined"===typeof e.draggable))),d=a?s[0]:5,f=a?s[1]:5,h=e.isShiftPressed?4:1,p=e.x*d*h,g=e.y*f*h,m=u.map((e=>{if(e.positionAbsolute){const t={x:e.positionAbsolute.x+p,y:e.positionAbsolute.y+g};a&&(t.x=s[0]*Math.round(t.x/s[0]),t.y=s[1]*Math.round(t.y/s[1]));const{positionAbsolute:o,position:i}=Ki(e,t,n,r,void 0,l);e.position=i,e.positionAbsolute=o}return e}));o(m,!0,!1)}),[]);return n}const na={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var ra=t=>{const n=n=>{let{id:r,type:o,data:i,xPos:a,yPos:l,xPosOrigin:u,yPosOrigin:d,selected:f,onClick:h,onMouseEnter:p,onMouseMove:g,onMouseLeave:m,onContextMenu:v,onDoubleClick:y,style:b,className:w,isDraggable:x,isSelectable:S,isConnectable:_,isFocusable:k,selectNodesOnDrag:E,sourcePosition:C,targetPosition:A,hidden:T,resizeObserver:P,dragHandle:N,zIndex:M,isParent:O,noDragClassName:R,noPanClassName:I,initialized:L,disableKeyboardA11y:D,ariaLabel:j,rfId:F,hasHandleBounds:z}=n;const B=_r(),U=(0,e.useRef)(null),V=(0,e.useRef)(null),H=(0,e.useRef)(C),W=(0,e.useRef)(A),G=(0,e.useRef)(o),X=S||x||h||p||g||m,q=ta(),K=Qi(r,B.getState,p),Y=Qi(r,B.getState,g),$=Qi(r,B.getState,m),Q=Qi(r,B.getState,v),Z=Qi(r,B.getState,y);(0,e.useEffect)((()=>()=>{V.current&&(null===P||void 0===P||P.unobserve(V.current),V.current=null)}),[]),(0,e.useEffect)((()=>{if(U.current&&!T){const e=U.current;L&&z&&V.current===e||(V.current&&(null===P||void 0===P||P.unobserve(V.current)),null===P||void 0===P||P.observe(e),V.current=e)}}),[T,L,z]),(0,e.useEffect)((()=>{const e=G.current!==o,t=H.current!==C,n=W.current!==A;U.current&&(e||t||n)&&(e&&(G.current=o),t&&(H.current=C),n&&(W.current=A),B.getState().updateNodeDimensions([{id:r,nodeElement:U.current,forceUpdate:!0}]))}),[r,o,C,A]);const J=ea({nodeRef:U,disabled:T||!x,noDragClassName:R,handleSelector:N,nodeId:r,isSelectable:S,selectNodesOnDrag:E});return T?null:e.createElement("div",{className:c(["react-flow__node","react-flow__node-".concat(o),{[I]:x},w,{selected:f,selectable:S,parent:O,dragging:J}]),ref:U,style:s({zIndex:M,transform:"translate(".concat(u,"px,").concat(d,"px)"),pointerEvents:X?"all":"none",visibility:L?"visible":"hidden"},b),"data-id":r,"data-testid":"rf__node-".concat(r),onMouseEnter:K,onMouseMove:Y,onMouseLeave:$,onContextMenu:Q,onClick:e=>{const{nodeDragThreshold:t}=B.getState();if(S&&(!E||!x||t>0)&&Zi({id:r,store:B,nodeRef:U}),h){const t=B.getState().nodeInternals.get(r);t&&h(e,s({},t))}},onDoubleClick:Z,onKeyDown:k?e=>{if(!Hr(e)&&!D)if(Ur.includes(e.key)&&S){const t="Escape"===e.key;Zi({id:r,store:B,unselect:t,nodeRef:U})}else x&&f&&Object.prototype.hasOwnProperty.call(na,e.key)&&(B.setState({ariaLiveMessage:"Moved selected node ".concat(e.key.replace("Arrow","").toLowerCase(),". New position, x: ").concat(~~a,", y: ").concat(~~l)}),q({x:na[e.key].x,y:na[e.key].y,isShiftPressed:e.shiftKey}))}:void 0,tabIndex:k?0:void 0,role:k?"button":void 0,"aria-describedby":D?void 0:"".concat(li,"-").concat(F),"aria-label":j},e.createElement(bo,{value:r},e.createElement(t,{id:r,data:i,type:o,xPos:a,yPos:l,selected:f,isConnectable:_,sourcePosition:C,targetPosition:A,dragging:J,dragHandle:N,zIndex:M})))};return n.displayName="NodeWrapper",(0,e.memo)(n)};const oa=e=>{const t=e.getNodes().filter((e=>e.selected));return s(s({},Co(t,e.nodeOrigin)),{},{transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")"),userSelectionActive:e.userSelectionActive})};var ia=(0,e.memo)((function(t){let{onSelectionContextMenu:n,noPanClassName:r,disableKeyboardA11y:o}=t;const i=_r(),{width:a,height:s,x:l,y:u,transformString:d,userSelectionActive:f}=Sr(oa,y),h=ta(),p=(0,e.useRef)(null);if((0,e.useEffect)((()=>{var e;o||(null===(e=p.current)||void 0===e||e.focus({preventScroll:!0}))}),[o]),ea({nodeRef:p}),f||!a||!s)return null;const g=n?e=>{const t=i.getState().getNodes().filter((e=>e.selected));n(e,t)}:void 0;return e.createElement("div",{className:c(["react-flow__nodesselection","react-flow__container",r]),style:{transform:d}},e.createElement("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:g,tabIndex:o?void 0:-1,onKeyDown:o?void 0:e=>{Object.prototype.hasOwnProperty.call(na,e.key)&&h({x:na[e.key].x,y:na[e.key].y,isShiftPressed:e.shiftKey})},style:{width:a,height:s,top:u,left:l}}))}));const aa=e=>e.nodesSelectionActive,sa=t=>{let{children:n,onPaneClick:r,onPaneMouseEnter:o,onPaneMouseMove:i,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:l,deleteKeyCode:c,onMove:u,onMoveStart:d,onMoveEnd:f,selectionKeyCode:h,selectionOnDrag:p,selectionMode:g,onSelectionStart:m,onSelectionEnd:v,multiSelectionKeyCode:y,panActivationKeyCode:b,zoomActivationKeyCode:w,elementsSelectable:x,zoomOnScroll:S,zoomOnPinch:_,panOnScroll:k,panOnScrollSpeed:E,panOnScrollMode:C,zoomOnDoubleClick:A,panOnDrag:T,defaultViewport:P,translateExtent:N,minZoom:M,maxZoom:O,preventScrolling:R,onSelectionContextMenu:I,noWheelClassName:L,noPanClassName:D,disableKeyboardA11y:j}=t;const F=Sr(aa),z=hi(h),B=hi(b),U=B||T,V=B||k,H=z||p&&!0!==U;return(t=>{let{deleteKeyCode:n,multiSelectionKeyCode:r}=t;const o=_r(),{deleteElements:i}=Ci(),a=hi(n,Ai),s=hi(r);(0,e.useEffect)((()=>{if(a){const{edges:e,getNodes:t}=o.getState(),n=t().filter((e=>e.selected)),r=e.filter((e=>e.selected));i({nodes:n,edges:r}),o.setState({nodesSelectionActive:!1})}}),[a]),(0,e.useEffect)((()=>{o.setState({multiSelectionActive:s})}),[s])})({deleteKeyCode:c,multiSelectionKeyCode:y}),e.createElement(Ii,{onMove:u,onMoveStart:d,onMoveEnd:f,onPaneContextMenu:s,elementsSelectable:x,zoomOnScroll:S,zoomOnPinch:_,panOnScroll:V,panOnScrollSpeed:E,panOnScrollMode:C,zoomOnDoubleClick:A,panOnDrag:!z&&U,defaultViewport:P,translateExtent:N,minZoom:M,maxZoom:O,zoomActivationKeyCode:w,preventScrolling:R,noWheelClassName:L,noPanClassName:D},e.createElement(Wi,{onSelectionStart:m,onSelectionEnd:v,onPaneClick:r,onPaneMouseEnter:o,onPaneMouseMove:i,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:l,panOnDrag:U,isSelecting:!!H,selectionMode:g},n,F&&e.createElement(ia,{onSelectionContextMenu:I,noPanClassName:D,disableKeyboardA11y:j})))};sa.displayName="FlowRenderer";var la=(0,e.memo)(sa);function ca(e){const t={input:ra(e.input||Xo),default:ra(e.default||Wo),output:ra(e.output||Ko),group:ra(e.group||Yo)},n=Object.keys(e).filter((e=>!["input","default","output","group"].includes(e))).reduce(((t,n)=>(t[n]=ra(e[n]||Wo),t)),{});return s(s({},t),n)}const ua=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),da=t=>{const{nodesDraggable:n,nodesConnectable:r,nodesFocusable:o,elementsSelectable:i,updateNodeDimensions:a,onError:s}=Sr(ua,y),l=function(t){const n=Sr((0,e.useCallback)((e=>t?Ao(e.nodeInternals,{x:0,y:0,width:e.width,height:e.height},e.transform,!0):e.getNodes()),[t]));return n}(t.onlyRenderVisibleElements),c=(0,e.useRef)(),u=(0,e.useMemo)((()=>{if("undefined"===typeof ResizeObserver)return null;const e=new ResizeObserver((e=>{const t=e.map((e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0})));a(t)}));return c.current=e,e}),[]);return(0,e.useEffect)((()=>()=>{var e;null===c||void 0===c||null===(e=c.current)||void 0===e||e.disconnect()}),[]),e.createElement("div",{className:"react-flow__nodes",style:Ti},l.map((a=>{var l,c,d,f,h,p,g,m;let v=a.type||"default";t.nodeTypes[v]||(null===s||void 0===s||s("003",fr(v)),v="default");const y=t.nodeTypes[v]||t.nodeTypes.default,b=!!(a.draggable||n&&"undefined"===typeof a.draggable),w=!!(a.selectable||i&&"undefined"===typeof a.selectable),x=!!(a.connectable||r&&"undefined"===typeof a.connectable),S=!!(a.focusable||o&&"undefined"===typeof a.focusable),_=t.nodeExtent?Nr(a.positionAbsolute,t.nodeExtent):a.positionAbsolute,k=null!==(l=null===_||void 0===_?void 0:_.x)&&void 0!==l?l:0,E=null!==(c=null===_||void 0===_?void 0:_.y)&&void 0!==c?c:0,C=(e=>{let{x:t,y:n,width:r,height:o,origin:i}=e;return r&&o?i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:t,y:n}:{x:t-r*i[0],y:n-o*i[1]}:{x:t,y:n}})({x:k,y:E,width:null!==(d=a.width)&&void 0!==d?d:0,height:null!==(f=a.height)&&void 0!==f?f:0,origin:t.nodeOrigin});return e.createElement(y,{key:a.id,id:a.id,className:a.className,style:a.style,type:v,data:a.data,sourcePosition:a.sourcePosition||no.Bottom,targetPosition:a.targetPosition||no.Top,hidden:a.hidden,xPos:k,yPos:E,xPosOrigin:C.x,yPosOrigin:C.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!a.selected,isDraggable:b,isSelectable:w,isConnectable:x,isFocusable:S,resizeObserver:u,dragHandle:a.dragHandle,zIndex:null!==(h=null===(p=a[Br])||void 0===p?void 0:p.z)&&void 0!==h?h:0,isParent:!(null===(g=a[Br])||void 0===g||!g.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!a.width&&!!a.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:a.ariaLabel,hasHandleBounds:!(null===(m=a[Br])||void 0===m||!m.handleBounds)})})))};da.displayName="NodeRenderer";var fa=(0,e.memo)(da);const ha=(e,t,n)=>n===no.Left?e-t:n===no.Right?e+t:e,pa=(e,t,n)=>n===no.Top?e-t:n===no.Bottom?e+t:e,ga="react-flow__edgeupdater",ma=t=>{let{position:n,centerX:r,centerY:o,radius:i=10,onMouseDown:a,onMouseEnter:s,onMouseOut:l,type:u}=t;return e.createElement("circle",{onMouseDown:a,onMouseEnter:s,onMouseOut:l,className:c([ga,"".concat(ga,"-").concat(u)]),cx:ha(r,i,n),cy:pa(o,i,n),r:i,stroke:"transparent",fill:"transparent"})},va=()=>!0;var ya=t=>{const n=n=>{let{id:r,className:o,type:i,data:a,onClick:s,onEdgeDoubleClick:l,selected:u,animated:d,label:f,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:v,style:y,source:b,target:w,sourceX:x,sourceY:S,targetX:_,targetY:k,sourcePosition:E,targetPosition:C,elementsSelectable:A,hidden:T,sourceHandleId:P,targetHandleId:N,onContextMenu:M,onMouseEnter:O,onMouseMove:R,onMouseLeave:I,reconnectRadius:L,onReconnect:D,onReconnectStart:j,onReconnectEnd:F,markerEnd:z,markerStart:B,rfId:U,ariaLabel:V,isFocusable:H,isReconnectable:W,pathOptions:G,interactionWidth:X,disableKeyboardA11y:q}=n;const K=(0,e.useRef)(null),[Y,$]=(0,e.useState)(!1),[Q,Z]=(0,e.useState)(!1),J=_r(),ee=(0,e.useMemo)((()=>"url('#".concat(xo(B,U),"')")),[B,U]),te=(0,e.useMemo)((()=>"url('#".concat(xo(z,U),"')")),[z,U]);if(T)return null;const ne=Kr(r,J.getState,l),re=Kr(r,J.getState,M),oe=Kr(r,J.getState,O),ie=Kr(r,J.getState,R),ae=Kr(r,J.getState,I),se=(e,t)=>{if(0!==e.button)return;const{edges:n,isValidConnection:o}=J.getState(),i=t?w:b,a=(t?N:P)||null,s=t?"target":"source",l=o||va,c=t,u=n.find((e=>e.id===r));Z(!0),null===j||void 0===j||j(e,u,s);Fo({event:e,handleId:a,nodeId:i,onConnect:e=>null===D||void 0===D?void 0:D(u,e),isTarget:c,getState:J.getState,setState:J.setState,isValidConnection:l,edgeUpdaterType:s,onReconnectEnd:e=>{Z(!1),null===F||void 0===F||F(e,u,s)}})},le=()=>$(!0),ce=()=>$(!1),ue=!A&&!s;return e.createElement("g",{className:c(["react-flow__edge","react-flow__edge-".concat(i),o,{selected:u,animated:d,inactive:ue,updating:Y}]),onClick:e=>{const{edges:t,addSelectedEdges:n,unselectNodesAndEdges:o,multiSelectionActive:i}=J.getState(),a=t.find((e=>e.id===r));if(a){var l;if(A)if(J.setState({nodesSelectionActive:!1}),a.selected&&i)o({nodes:[],edges:[a]}),null===(l=K.current)||void 0===l||l.blur();else n([r]);s&&s(e,a)}},onDoubleClick:ne,onContextMenu:re,onMouseEnter:oe,onMouseMove:ie,onMouseLeave:ae,onKeyDown:H?e=>{if(!q&&Ur.includes(e.key)&&A){const{unselectNodesAndEdges:n,addSelectedEdges:o,edges:i}=J.getState();var t;if("Escape"===e.key)null===(t=K.current)||void 0===t||t.blur(),n({edges:[i.find((e=>e.id===r))]});else o([r])}}:void 0,tabIndex:H?0:void 0,role:H?"button":"img","data-testid":"rf__edge-".concat(r),"aria-label":null===V?void 0:V||"Edge from ".concat(b," to ").concat(w),"aria-describedby":H?"".concat(ci,"-").concat(U):void 0,ref:K},!Q&&e.createElement(t,{id:r,source:b,target:w,selected:u,animated:d,label:f,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:v,data:a,style:y,sourceX:x,sourceY:S,targetX:_,targetY:k,sourcePosition:E,targetPosition:C,sourceHandleId:P,targetHandleId:N,markerStart:ee,markerEnd:te,pathOptions:G,interactionWidth:X}),W&&e.createElement(e.Fragment,null,("source"===W||!0===W)&&e.createElement(ma,{position:E,centerX:x,centerY:S,radius:L,onMouseDown:e=>se(e,!0),onMouseEnter:le,onMouseOut:ce,type:"source"}),("target"===W||!0===W)&&e.createElement(ma,{position:C,centerX:_,centerY:k,radius:L,onMouseDown:e=>se(e,!1),onMouseEnter:le,onMouseOut:ce,type:"target"})))};return n.displayName="EdgeWrapper",(0,e.memo)(n)};function ba(e){const t={default:ya(e.default||vo),straight:ya(e.bezier||ho),step:ya(e.step||fo),smoothstep:ya(e.step||uo),simplebezier:ya(e.simplebezier||io)},n=Object.keys(e).filter((e=>!["default","bezier"].includes(e))).reduce(((t,n)=>(t[n]=ya(e[n]||vo),t)),{});return s(s({},t),n)}function wa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=((null===n||void 0===n?void 0:n.x)||0)+t.x,o=((null===n||void 0===n?void 0:n.y)||0)+t.y,i=(null===n||void 0===n?void 0:n.width)||t.width,a=(null===n||void 0===n?void 0:n.height)||t.height;switch(e){case no.Top:return{x:r+i/2,y:o};case no.Right:return{x:r+i,y:o+a/2};case no.Bottom:return{x:r+i/2,y:o+a};case no.Left:return{x:r,y:o+a/2}}}function xa(e,t){return e?1!==e.length&&t?t&&e.find((e=>e.id===t))||null:e[0]:null}function Sa(e){var t,n,r,o,i;const a=(null===e||void 0===e||null===(t=e[Br])||void 0===t?void 0:t.handleBounds)||null,s=a&&(null===e||void 0===e?void 0:e.width)&&(null===e||void 0===e?void 0:e.height)&&"undefined"!==typeof(null===e||void 0===e||null===(n=e.positionAbsolute)||void 0===n?void 0:n.x)&&"undefined"!==typeof(null===e||void 0===e||null===(r=e.positionAbsolute)||void 0===r?void 0:r.y);return[{x:(null===e||void 0===e||null===(o=e.positionAbsolute)||void 0===o?void 0:o.x)||0,y:(null===e||void 0===e||null===(i=e.positionAbsolute)||void 0===i?void 0:i.y)||0,width:(null===e||void 0===e?void 0:e.width)||0,height:(null===e||void 0===e?void 0:e.height)||0},a,!!s]}const _a=[{level:0,isMaxLevel:!0,edges:[]}];function ka(t,n,r){const o=Sr((0,e.useCallback)((e=>t?e.edges.filter((t=>{const r=n.get(t.source),o=n.get(t.target);return(null===r||void 0===r?void 0:r.width)&&(null===r||void 0===r?void 0:r.height)&&(null===o||void 0===o?void 0:o.width)&&(null===o||void 0===o?void 0:o.height)&&function(e){let{sourcePos:t,targetPos:n,sourceWidth:r,sourceHeight:o,targetWidth:i,targetHeight:a,width:s,height:l,transform:c}=e;const u={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+r,n.x+i),y2:Math.max(t.y+o,n.y+a)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=Lr({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:s/c[2],height:l/c[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),h=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*h)>0}({sourcePos:r.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:r.width,sourceHeight:r.height,targetWidth:o.width,targetHeight:o.height,width:e.width,height:e.height,transform:e.transform})})):e.edges),[t,n]));return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1;const o=e.reduce(((e,o)=>{const i=zr(o.zIndex);let a=i?o.zIndex:0;if(n){var s,l;const e=t.get(o.target),n=t.get(o.source),r=o.selected||(null===e||void 0===e?void 0:e.selected)||(null===n||void 0===n?void 0:n.selected),c=Math.max((null===n||void 0===n||null===(s=n[Br])||void 0===s?void 0:s.z)||0,(null===e||void 0===e||null===(l=e[Br])||void 0===l?void 0:l.z)||0,1e3);a=(i?o.zIndex:0)+(r?c:0)}return e[a]?e[a].push(o):e[a]=[o],r=a>r?a:r,e}),{}),i=Object.entries(o).map((e=>{let[t,n]=e;const o=+t;return{edges:n,level:o,isMaxLevel:o===r}}));return 0===i.length?_a:i}(o,n,r)}const Ea={[to.Arrow]:t=>{let{color:n="none",strokeWidth:r=1}=t;return e.createElement("polyline",{style:{stroke:n,strokeWidth:r},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},[to.ArrowClosed]:t=>{let{color:n="none",strokeWidth:r=1}=t;return e.createElement("polyline",{style:{stroke:n,fill:n,strokeWidth:r},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}};const Ca=t=>{let{id:n,type:r,color:o,width:i=12.5,height:a=12.5,markerUnits:s="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"}=t;const u=function(t){const n=_r();return(0,e.useMemo)((()=>{var e,r;return Object.prototype.hasOwnProperty.call(Ea,t)?Ea[t]:(null===(e=(r=n.getState()).onError)||void 0===e||e.call(r,"009",mr(t)),null)}),[t])}(r);return u?e.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:"".concat(i),markerHeight:"".concat(a),viewBox:"-10 -10 20 20",markerUnits:s,orient:c,refX:"0",refY:"0"},e.createElement(u,{color:o,strokeWidth:l})):null},Aa=t=>{let{defaultColor:n,rfId:r}=t;const o=Sr((0,e.useCallback)((e=>{let{defaultColor:t,rfId:n}=e;return e=>{const r=[];return e.edges.reduce(((e,o)=>([o.markerStart,o.markerEnd].forEach((o=>{if(o&&"object"===typeof o){const i=xo(o,n);r.includes(i)||(e.push(s({id:i,color:o.color||t},o)),r.push(i))}})),e)),[]).sort(((e,t)=>e.id.localeCompare(t.id)))}})({defaultColor:n,rfId:r}),[n,r]),((e,t)=>!(e.length!==t.length||e.some(((e,n)=>e.id!==t[n].id)))));return e.createElement("defs",null,o.map((t=>e.createElement(Ca,{id:t.id,key:t.id,type:t.type,color:t.color,width:t.width,height:t.height,markerUnits:t.markerUnits,strokeWidth:t.strokeWidth,orient:t.orient}))))};Aa.displayName="MarkerDefinitions";var Ta=(0,e.memo)(Aa);const Pa=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Na=t=>{let{defaultMarkerColor:n,onlyRenderVisibleElements:r,elevateEdgesOnSelect:o,rfId:i,edgeTypes:a,noPanClassName:s,onEdgeContextMenu:l,onEdgeMouseEnter:u,onEdgeMouseMove:d,onEdgeMouseLeave:f,onEdgeClick:h,onEdgeDoubleClick:p,onReconnect:g,onReconnectStart:m,onReconnectEnd:v,reconnectRadius:b,children:w,disableKeyboardA11y:x}=t;const{edgesFocusable:S,edgesUpdatable:_,elementsSelectable:k,width:E,height:C,connectionMode:A,nodeInternals:T,onError:P}=Sr(Pa,y),N=ka(r,T,o);return E?e.createElement(e.Fragment,null,N.map((t=>{let{level:r,edges:o,isMaxLevel:y}=t;return e.createElement("svg",{key:r,style:{zIndex:r},width:E,height:C,className:"react-flow__edges react-flow__container"},y&&e.createElement(Ta,{defaultColor:n,rfId:i}),e.createElement("g",null,o.map((t=>{var n,r;const[o,y,w]=Sa(T.get(t.source)),[E,C,N]=Sa(T.get(t.target));if(!w||!N)return null;let M=t.type||"default";a[M]||(null===P||void 0===P||P("011",br(M)),M="default");const O=a[M]||a.default,R=A===Qr.Strict?C.target:(null!==(n=C.target)&&void 0!==n?n:[]).concat(null!==(r=C.source)&&void 0!==r?r:[]),I=xa(y.source,t.sourceHandle),L=xa(R,t.targetHandle),D=(null===I||void 0===I?void 0:I.position)||no.Bottom,j=(null===L||void 0===L?void 0:L.position)||no.Top,F=!!(t.focusable||S&&"undefined"===typeof t.focusable),z=t.reconnectable||t.updatable,B="undefined"!==typeof g&&(z||_&&"undefined"===typeof z);if(!I||!L)return null===P||void 0===P||P("008",vr(I,t)),null;const{sourceX:U,sourceY:V,targetX:H,targetY:W}=((e,t,n,r,o,i)=>{const a=wa(n,e,t),s=wa(i,r,o);return{sourceX:a.x,sourceY:a.y,targetX:s.x,targetY:s.y}})(o,I,D,E,L,j);return e.createElement(O,{key:t.id,id:t.id,className:c([t.className,s]),type:M,data:t.data,selected:!!t.selected,animated:!!t.animated,hidden:!!t.hidden,label:t.label,labelStyle:t.labelStyle,labelShowBg:t.labelShowBg,labelBgStyle:t.labelBgStyle,labelBgPadding:t.labelBgPadding,labelBgBorderRadius:t.labelBgBorderRadius,style:t.style,source:t.source,target:t.target,sourceHandleId:t.sourceHandle,targetHandleId:t.targetHandle,markerEnd:t.markerEnd,markerStart:t.markerStart,sourceX:U,sourceY:V,targetX:H,targetY:W,sourcePosition:D,targetPosition:j,elementsSelectable:k,onContextMenu:l,onMouseEnter:u,onMouseMove:d,onMouseLeave:f,onClick:h,onEdgeDoubleClick:p,onReconnect:g,onReconnectStart:m,onReconnectEnd:v,reconnectRadius:b,rfId:i,ariaLabel:t.ariaLabel,isFocusable:F,isReconnectable:B,pathOptions:"pathOptions"in t?t.pathOptions:void 0,interactionWidth:t.interactionWidth,disableKeyboardA11y:x})}))))})),w):null};Na.displayName="EdgeRenderer";var Ma=(0,e.memo)(Na);const Oa=e=>"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")");function Ra(t){let{children:n}=t;const r=Sr(Oa);return e.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:r}},n)}const Ia={[no.Left]:no.Right,[no.Right]:no.Left,[no.Top]:no.Bottom,[no.Bottom]:no.Top},La=t=>{var n,r,o,i,a,l,c;let{nodeId:u,handleType:d,style:f,type:h=eo.Bezier,CustomComponent:p,connectionStatus:g}=t;const{fromNode:m,handleId:v,toX:b,toY:w,connectionMode:x}=Sr((0,e.useCallback)((e=>({fromNode:e.nodeInternals.get(u),handleId:e.connectionHandleId,toX:(e.connectionPosition.x-e.transform[0])/e.transform[2],toY:(e.connectionPosition.y-e.transform[1])/e.transform[2],connectionMode:e.connectionMode})),[u]),y),S=null===m||void 0===m||null===(n=m[Br])||void 0===n?void 0:n.handleBounds;let _=null===S||void 0===S?void 0:S[d];if(x===Qr.Loose&&(_=_||(null===S||void 0===S?void 0:S["source"===d?"target":"source"])),!m||!_)return null;const k=v?_.find((e=>e.id===v)):_[0],E=k?k.x+k.width/2:(null!==(r=m.width)&&void 0!==r?r:0)/2,C=k?k.y+k.height/2:null!==(o=m.height)&&void 0!==o?o:0,A=(null!==(i=null===(a=m.positionAbsolute)||void 0===a?void 0:a.x)&&void 0!==i?i:0)+E,T=(null!==(l=null===(c=m.positionAbsolute)||void 0===c?void 0:c.y)&&void 0!==l?l:0)+C,P=null===k||void 0===k?void 0:k.position,N=P?Ia[P]:null;if(!P||!N)return null;if(p)return e.createElement(p,{connectionLineType:h,connectionLineStyle:f,fromNode:m,fromHandle:k,fromX:A,fromY:T,toX:b,toY:w,fromPosition:P,toPosition:N,connectionStatus:g});let M="";const O={sourceX:A,sourceY:T,sourcePosition:P,targetX:b,targetY:w,targetPosition:N};return h===eo.Bezier?[M]=mo(O):h===eo.Step?[M]=co(s(s({},O),{},{borderRadius:0})):h===eo.SmoothStep?[M]=co(O):h===eo.SimpleBezier?[M]=oo(O):M="M".concat(A,",").concat(T," ").concat(b,",").concat(w),e.createElement("path",{d:M,fill:"none",className:"react-flow__connection-path",style:f})};La.displayName="ConnectionLine";const Da=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function ja(t){let{containerStyle:n,style:r,type:o,component:i}=t;const{nodeId:a,handleType:s,nodesConnectable:l,width:u,height:d,connectionStatus:f}=Sr(Da,y);return!!(a&&s&&u&&l)?e.createElement("svg",{style:n,width:u,height:d,className:"react-flow__edges react-flow__connectionline react-flow__container"},e.createElement("g",{className:c(["react-flow__connection",f])},e.createElement(La,{nodeId:a,handleType:s,style:r,type:o,CustomComponent:i,connectionStatus:f}))):null}function Fa(t,n){(0,e.useRef)(null),_r();return(0,e.useMemo)((()=>n(t)),[t])}const za=t=>{let{nodeTypes:n,edgeTypes:r,onMove:o,onMoveStart:i,onMoveEnd:a,onInit:s,onNodeClick:l,onEdgeClick:c,onNodeDoubleClick:u,onEdgeDoubleClick:d,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:g,onSelectionContextMenu:m,onSelectionStart:v,onSelectionEnd:y,connectionLineType:b,connectionLineStyle:w,connectionLineComponent:x,connectionLineContainerStyle:S,selectionKeyCode:_,selectionOnDrag:k,selectionMode:E,multiSelectionKeyCode:C,panActivationKeyCode:A,zoomActivationKeyCode:T,deleteKeyCode:P,onlyRenderVisibleElements:N,elementsSelectable:M,selectNodesOnDrag:O,defaultViewport:R,translateExtent:I,minZoom:L,maxZoom:D,preventScrolling:j,defaultMarkerColor:F,zoomOnScroll:z,zoomOnPinch:B,panOnScroll:U,panOnScrollSpeed:V,panOnScrollMode:H,zoomOnDoubleClick:W,panOnDrag:G,onPaneClick:X,onPaneMouseEnter:q,onPaneMouseMove:K,onPaneMouseLeave:Y,onPaneScroll:$,onPaneContextMenu:Q,onEdgeContextMenu:Z,onEdgeMouseEnter:J,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:re,onReconnectEnd:oe,reconnectRadius:ie,noDragClassName:ae,noWheelClassName:se,noPanClassName:le,elevateEdgesOnSelect:ce,disableKeyboardA11y:ue,nodeOrigin:de,nodeExtent:fe,rfId:he}=t;const pe=Fa(n,ca),ge=Fa(r,ba);return function(t){const n=Ci(),r=(0,e.useRef)(!1);(0,e.useEffect)((()=>{!r.current&&n.viewportInitialized&&t&&(setTimeout((()=>t(n)),1),r.current=!0)}),[t,n.viewportInitialized])}(s),e.createElement(la,{onPaneClick:X,onPaneMouseEnter:q,onPaneMouseMove:K,onPaneMouseLeave:Y,onPaneContextMenu:Q,onPaneScroll:$,deleteKeyCode:P,selectionKeyCode:_,selectionOnDrag:k,selectionMode:E,onSelectionStart:v,onSelectionEnd:y,multiSelectionKeyCode:C,panActivationKeyCode:A,zoomActivationKeyCode:T,elementsSelectable:M,onMove:o,onMoveStart:i,onMoveEnd:a,zoomOnScroll:z,zoomOnPinch:B,zoomOnDoubleClick:W,panOnScroll:U,panOnScrollSpeed:V,panOnScrollMode:H,panOnDrag:G,defaultViewport:R,translateExtent:I,minZoom:L,maxZoom:D,onSelectionContextMenu:m,preventScrolling:j,noDragClassName:ae,noWheelClassName:se,noPanClassName:le,disableKeyboardA11y:ue},e.createElement(Ra,null,e.createElement(Ma,{edgeTypes:ge,onEdgeClick:c,onEdgeDoubleClick:d,onlyRenderVisibleElements:N,onEdgeContextMenu:Z,onEdgeMouseEnter:J,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:re,onReconnectEnd:oe,reconnectRadius:ie,defaultMarkerColor:F,noPanClassName:le,elevateEdgesOnSelect:!!ce,disableKeyboardA11y:ue,rfId:he},e.createElement(ja,{style:w,type:b,component:x,containerStyle:S})),e.createElement("div",{className:"react-flow__edgelabel-renderer"}),e.createElement(fa,{nodeTypes:pe,onNodeClick:l,onNodeDoubleClick:u,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:g,selectNodesOnDrag:O,onlyRenderVisibleElements:N,noPanClassName:le,noDragClassName:ae,disableKeyboardA11y:ue,nodeOrigin:de,nodeExtent:fe,rfId:he})))};za.displayName="GraphView";var Ba=(0,e.memo)(za);const Ua=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Va={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Ua,nodeExtent:Ua,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Qr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Vr,isValidConnection:void 0},Ha=()=>{return e=(e,t)=>s(s({},Va),{},{setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:i}=t();e({nodeInternals:yi(n,r,o,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map((e=>s(s({},r),e)))})},setDefaultNodesAndEdges:(n,r)=>{const o="undefined"!==typeof n,i="undefined"!==typeof r,a=o?yi(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:a,edges:i?r:[],hasDefaultNodes:o,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:i,fitViewOnInitDone:a,fitViewOnInitOptions:l,domNode:c,nodeOrigin:u}=t(),d=null===c||void 0===c?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:h}=new window.DOMMatrixReadOnly(f.transform),p=n.reduce(((e,t)=>{const n=o.get(t.id);if(null!==n&&void 0!==n&&n.hidden)o.set(n.id,s(s({},n),{},{[Br]:s(s({},n[Br]),{},{handleBounds:void 0})}));else if(n){const r=Tr(t.nodeElement);r.width&&r.height&&(n.width!==r.width||n.height!==r.height||t.forceUpdate)&&(o.set(n.id,s(s({},n),{},{[Br]:s(s({},n[Br]),{},{handleBounds:{source:$i(".source",t.nodeElement,h,u),target:$i(".target",t.nodeElement,h,u)}})},r)),e.push({id:n.id,type:"dimensions",dimensions:r}))}return e}),[]);vi(o,u);const g=a||i&&!a&&bi(t,s({initial:!0},l));e({nodeInternals:new Map(o),fitViewOnInitDone:g}),(null===p||void 0===p?void 0:p.length)>0&&(null===r||void 0===r||r(p))},updateNodePositions:function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{triggerNodeChanges:o}=t(),i=e.map((e=>{const t={id:e.id,type:"position",dragging:r};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t}));o(i)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:i,nodeOrigin:a,getNodes:s,elevateNodesOnSelect:l}=t();if(null!==n&&void 0!==n&&n.length){if(i){const t=yi(zi(n,s()),o,a,l);e({nodeInternals:t})}null===r||void 0===r||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let a,s=null;r?a=n.map((e=>Bi(e,!0))):(a=Ui(i(),n),s=Ui(o,[])),Si({changedNodes:a,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let a,s=null;r?a=n.map((e=>Bi(e,!0))):(a=Ui(o,n),s=Ui(i(),[])),Si({changedNodes:s,changedEdges:a,get:t,set:e})},unselectNodesAndEdges:function(){let{nodes:n,edges:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{edges:o,getNodes:i}=t(),a=r||o,s=(n||i()).map((e=>(e.selected=!1,Bi(e.id,!1))));Si({changedNodes:s,changedEdges:a.map((e=>Bi(e.id,!1))),get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();null===r||void 0===r||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();null===r||void 0===r||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;null===(r=t().d3Zoom)||void 0===r||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter((e=>e.selected)).map((e=>Bi(e.id,!1))),i=n.filter((e=>e.selected)).map((e=>Bi(e.id,!1)));Si({changedNodes:o,changedEdges:i,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach((e=>{e.positionAbsolute=Nr(e.position,n)})),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:e=>{const{transform:n,width:r,height:o,d3Zoom:i,d3Selection:a,translateExtent:s}=t();if(!i||!a||!e.x&&!e.y)return!1;const l=Gn.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),c=[[0,0],[r,o]],u=null===i||void 0===i?void 0:i.constrain()(l,c,s);return i.transform(a,u),n[0]!==u.x||n[1]!==u.y||n[2]!==u.k},cancelConnection:()=>e({connectionNodeId:Va.connectionNodeId,connectionHandleId:Va.connectionHandleId,connectionHandleType:Va.connectionHandleType,connectionStatus:Va.connectionStatus,connectionStartHandle:Va.connectionStartHandle,connectionEndHandle:Va.connectionEndHandle}),reset:()=>e(s({},Va))}),t=Object.is,e?v(e,t):v;var e,t},Wa=t=>{let{children:n}=t;const r=(0,e.useRef)(null);return r.current||(r.current=Ha()),e.createElement(dr,{value:r.current},n)};Wa.displayName="ReactFlowProvider";const Ga=t=>{let{children:n}=t;return(0,e.useContext)(ur)?e.createElement(e.Fragment,null,n):e.createElement(Wa,null,n)};Ga.displayName="ReactFlowWrapper";const Xa={input:Xo,default:Wo,output:Ko,group:Yo},qa={default:vo,straight:ho,step:fo,smoothstep:uo,simplebezier:io},Ka=[0,0],Ya=[15,15],$a={x:0,y:0,zoom:1},Qa={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Za=(0,e.forwardRef)(((t,n)=>{let{nodes:r,edges:o,defaultNodes:i,defaultEdges:a,className:u,nodeTypes:d=Xa,edgeTypes:f=qa,onNodeClick:h,onEdgeClick:p,onInit:g,onMove:m,onMoveStart:v,onMoveEnd:y,onConnect:b,onConnectStart:w,onConnectEnd:x,onClickConnectStart:S,onClickConnectEnd:_,onNodeMouseEnter:k,onNodeMouseMove:E,onNodeMouseLeave:C,onNodeContextMenu:A,onNodeDoubleClick:T,onNodeDragStart:P,onNodeDrag:N,onNodeDragStop:M,onNodesDelete:O,onEdgesDelete:R,onSelectionChange:I,onSelectionDragStart:L,onSelectionDrag:D,onSelectionDragStop:j,onSelectionContextMenu:F,onSelectionStart:z,onSelectionEnd:B,connectionMode:U=Qr.Strict,connectionLineType:V=eo.Bezier,connectionLineStyle:H,connectionLineComponent:W,connectionLineContainerStyle:G,deleteKeyCode:X="Backspace",selectionKeyCode:q="Shift",selectionOnDrag:K=!1,selectionMode:Y=Jr.Full,panActivationKeyCode:$="Space",multiSelectionKeyCode:Q=(Xr()?"Meta":"Control"),zoomActivationKeyCode:Z=(Xr()?"Meta":"Control"),snapToGrid:J=!1,snapGrid:ee=Ya,onlyRenderVisibleElements:te=!1,selectNodesOnDrag:ne=!0,nodesDraggable:re,nodesConnectable:oe,nodesFocusable:ie,nodeOrigin:ae=Ka,edgesFocusable:se,edgesUpdatable:le,elementsSelectable:ce,defaultViewport:ue=$a,minZoom:de=.5,maxZoom:fe=2,translateExtent:he=Ua,preventScrolling:pe=!0,nodeExtent:ge,defaultMarkerColor:me="#b1b1b7",zoomOnScroll:ve=!0,zoomOnPinch:ye=!0,panOnScroll:be=!1,panOnScrollSpeed:we=.5,panOnScrollMode:xe=Zr.Free,zoomOnDoubleClick:Se=!0,panOnDrag:_e=!0,onPaneClick:ke,onPaneMouseEnter:Ee,onPaneMouseMove:Ce,onPaneMouseLeave:Ae,onPaneScroll:Te,onPaneContextMenu:Pe,children:Ne,onEdgeContextMenu:Me,onEdgeDoubleClick:Oe,onEdgeMouseEnter:Re,onEdgeMouseMove:Ie,onEdgeMouseLeave:Le,onEdgeUpdate:De,onEdgeUpdateStart:je,onEdgeUpdateEnd:Fe,onReconnect:ze,onReconnectStart:Be,onReconnectEnd:Ue,reconnectRadius:Ve=10,edgeUpdaterRadius:He=10,onNodesChange:We,onEdgesChange:Ge,noDragClassName:Xe="nodrag",noWheelClassName:qe="nowheel",noPanClassName:Ke="nopan",fitView:Ye=!1,fitViewOptions:$e,connectOnClick:Qe=!0,attributionPosition:Ze,proOptions:Je,defaultEdgeOptions:et,elevateNodesOnSelect:tt=!0,elevateEdgesOnSelect:nt=!1,disableKeyboardA11y:rt=!1,autoPanOnConnect:ot=!0,autoPanOnNodeDrag:it=!0,connectionRadius:at=20,isValidConnection:st,onError:lt,style:ct,id:ut,nodeDragThreshold:dt}=t,ft=l(t,cr);const ht=ut||"1";return e.createElement("div",s(s({},ft),{},{style:s(s({},ct),Qa),ref:n,className:c(["react-flow",u]),"data-testid":"rf__wrapper",id:ut}),e.createElement(Ga,null,e.createElement(Ba,{onInit:g,onMove:m,onMoveStart:v,onMoveEnd:y,onNodeClick:h,onEdgeClick:p,onNodeMouseEnter:k,onNodeMouseMove:E,onNodeMouseLeave:C,onNodeContextMenu:A,onNodeDoubleClick:T,nodeTypes:d,edgeTypes:f,connectionLineType:V,connectionLineStyle:H,connectionLineComponent:W,connectionLineContainerStyle:G,selectionKeyCode:q,selectionOnDrag:K,selectionMode:Y,deleteKeyCode:X,multiSelectionKeyCode:Q,panActivationKeyCode:$,zoomActivationKeyCode:Z,onlyRenderVisibleElements:te,selectNodesOnDrag:ne,defaultViewport:ue,translateExtent:he,minZoom:de,maxZoom:fe,preventScrolling:pe,zoomOnScroll:ve,zoomOnPinch:ye,zoomOnDoubleClick:Se,panOnScroll:be,panOnScrollSpeed:we,panOnScrollMode:xe,panOnDrag:_e,onPaneClick:ke,onPaneMouseEnter:Ee,onPaneMouseMove:Ce,onPaneMouseLeave:Ae,onPaneScroll:Te,onPaneContextMenu:Pe,onSelectionContextMenu:F,onSelectionStart:z,onSelectionEnd:B,onEdgeContextMenu:Me,onEdgeDoubleClick:Oe,onEdgeMouseEnter:Re,onEdgeMouseMove:Ie,onEdgeMouseLeave:Le,onReconnect:null!==ze&&void 0!==ze?ze:De,onReconnectStart:null!==Be&&void 0!==Be?Be:je,onReconnectEnd:null!==Ue&&void 0!==Ue?Ue:Fe,reconnectRadius:null!==Ve&&void 0!==Ve?Ve:He,defaultMarkerColor:me,noDragClassName:Xe,noWheelClassName:qe,noPanClassName:Ke,elevateEdgesOnSelect:nt,rfId:ht,disableKeyboardA11y:rt,nodeOrigin:ae,nodeExtent:ge}),e.createElement(ii,{nodes:r,edges:o,defaultNodes:i,defaultEdges:a,onConnect:b,onConnectStart:w,onConnectEnd:x,onClickConnectStart:S,onClickConnectEnd:_,nodesDraggable:re,nodesConnectable:oe,nodesFocusable:ie,edgesFocusable:se,edgesUpdatable:le,elementsSelectable:ce,elevateNodesOnSelect:tt,minZoom:de,maxZoom:fe,nodeExtent:ge,onNodesChange:We,onEdgesChange:Ge,snapToGrid:J,snapGrid:ee,connectionMode:U,translateExtent:he,connectOnClick:Qe,defaultEdgeOptions:et,fitView:Ye,fitViewOptions:$e,onNodesDelete:O,onEdgesDelete:R,onNodeDragStart:P,onNodeDrag:N,onNodeDragStop:M,onSelectionDrag:D,onSelectionDragStart:L,onSelectionDragStop:j,noPanClassName:Ke,nodeOrigin:ae,rfId:ht,autoPanOnConnect:ot,autoPanOnNodeDrag:it,onError:lt,connectionRadius:at,isValidConnection:st,nodeDragThreshold:dt}),e.createElement(ti,{onSelectionChange:I}),Ne,e.createElement(Cr,{proOptions:Je,position:Ze}),e.createElement(fi,{rfId:ht,disableKeyboardA11y:rt})))}));Za.displayName="ReactFlow";function Ja(t){return n=>{const[r,o]=(0,e.useState)(n),i=(0,e.useCallback)((e=>o((n=>t(e,n)))),[]);return[r,o,i]}}const es=Ja(zi),ts=Ja((function(e,t){return Fi(e,t)}));const ns=["children","className"];function rs(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},e.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function os(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},e.createElement("path",{d:"M0 0h32v4.2H0z"}))}function is(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},e.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function as(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},e.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function ss(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},e.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const ls=t=>{let{children:n,className:r}=t,o=l(t,ns);return e.createElement("button",s({type:"button",className:c(["react-flow__controls-button",r])},o),n)};ls.displayName="ControlButton";const cs=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),us=t=>{let{style:n,showZoom:r=!0,showFitView:o=!0,showInteractive:i=!0,fitViewOptions:a,onZoomIn:s,onZoomOut:l,onFitView:u,onInteractiveChange:d,className:f,children:h,position:p="bottom-left"}=t;const g=_r(),[m,v]=(0,e.useState)(!1),{isInteractive:b,minZoomReached:w,maxZoomReached:x}=Sr(cs,y),{zoomIn:S,zoomOut:_,fitView:k}=Ci();if((0,e.useEffect)((()=>{v(!0)}),[]),!m)return null;return e.createElement(Er,{className:c(["react-flow__controls",f]),position:p,style:n,"data-testid":"rf__controls"},r&&e.createElement(e.Fragment,null,e.createElement(ls,{onClick:()=>{S(),null===s||void 0===s||s()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x},e.createElement(rs,null)),e.createElement(ls,{onClick:()=>{_(),null===l||void 0===l||l()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:w},e.createElement(os,null))),o&&e.createElement(ls,{className:"react-flow__controls-fitview",onClick:()=>{k(a),null===u||void 0===u||u()},title:"fit view","aria-label":"fit view"},e.createElement(is,null)),i&&e.createElement(ls,{className:"react-flow__controls-interactive",onClick:()=>{g.setState({nodesDraggable:!b,nodesConnectable:!b,elementsSelectable:!b}),null===d||void 0===d||d(!b)},title:"toggle interactivity","aria-label":"toggle interactivity"},b?e.createElement(ss,null):e.createElement(as,null)),h)};us.displayName="Controls";var ds,fs=(0,e.memo)(us);function hs(t){let{color:n,dimensions:r,lineWidth:o}=t;return e.createElement("path",{stroke:n,strokeWidth:o,d:"M".concat(r[0]/2," 0 V").concat(r[1]," M0 ").concat(r[1]/2," H").concat(r[0])})}function ps(t){let{color:n,radius:r}=t;return e.createElement("circle",{cx:r,cy:r,r:r,fill:n})}!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(ds||(ds={}));const gs={[ds.Dots]:"#91919a",[ds.Lines]:"#eee",[ds.Cross]:"#e2e2e2"},ms={[ds.Dots]:1,[ds.Lines]:1,[ds.Cross]:6},vs=e=>({transform:e.transform,patternId:"pattern-".concat(e.rfId)});function ys(t){let{id:n,variant:r=ds.Dots,gap:o=20,size:i,lineWidth:a=1,offset:l=2,color:u,style:d,className:f}=t;const h=(0,e.useRef)(null),{transform:p,patternId:g}=Sr(vs,y),m=u||gs[r],v=i||ms[r],b=r===ds.Dots,w=r===ds.Cross,x=Array.isArray(o)?o:[o,o],S=[x[0]*p[2]||1,x[1]*p[2]||1],_=v*p[2],k=w?[_,_]:S,E=b?[_/l,_/l]:[k[0]/l,k[1]/l];return e.createElement("svg",{className:c(["react-flow__background",f]),style:s(s({},d),{},{position:"absolute",width:"100%",height:"100%",top:0,left:0}),ref:h,"data-testid":"rf__background"},e.createElement("pattern",{id:g+n,x:p[0]%S[0],y:p[1]%S[1],width:S[0],height:S[1],patternUnits:"userSpaceOnUse",patternTransform:"translate(-".concat(E[0],",-").concat(E[1],")")},b?e.createElement(ps,{color:m,radius:_/l}):e.createElement(hs,{dimensions:k,color:m,lineWidth:a})),e.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(g+n,")")}))}ys.displayName="Background";var bs=(0,e.memo)(ys),ws=n(579);const xs={padding:"15px",borderRadius:"8px",background:"white",minWidth:"200px",border:"2px solid #777"},Ss={textNode:e=>{let{data:t,selected:n}=e;return(0,ws.jsxs)("div",{style:s(s({},xs),{},{borderColor:n?"#ff0072":"#777"}),children:[(0,ws.jsx)(Vo,{type:"target",position:no.Left,style:{width:"12px",height:"12px",background:"#555"}}),(0,ws.jsx)("div",{style:{fontWeight:"bold",marginBottom:"8px"},children:t.label}),t.content&&(0,ws.jsxs)("div",{style:{fontSize:"0.9em",color:"#666"},children:[t.content.substring(0,30),"..."]}),(0,ws.jsx)("div",{style:{fontSize:"0.8em",color:"#999",marginTop:"5px"},children:"Text Slide"}),(0,ws.jsx)(Vo,{type:"source",position:no.Right,style:{width:"12px",height:"12px",background:"#555"}})]})},imageNode:e=>{let{data:t,selected:n}=e;return(0,ws.jsxs)("div",{style:s(s({},xs),{},{borderColor:n?"#ff0072":"#4CAF50"}),children:[(0,ws.jsx)(Vo,{type:"target",position:no.Left,style:{width:"12px",height:"12px",background:"#555"}}),(0,ws.jsx)("div",{style:{fontWeight:"bold",marginBottom:"8px"},children:t.label}),t.url&&(0,ws.jsx)("div",{style:{width:"100%",height:"100px",background:"#f0f0f0",marginBottom:"8px",backgroundImage:"url(".concat(t.url,")"),backgroundSize:"cover",backgroundPosition:"center",borderRadius:"4px"}}),(0,ws.jsx)("div",{style:{fontSize:"0.8em",color:"#4CAF50",marginTop:"5px"},children:"Image Slide"}),(0,ws.jsx)(Vo,{type:"source",position:no.Right,style:{width:"12px",height:"12px",background:"#555"}})]})},videoNode:e=>{let{data:t,selected:n}=e;return(0,ws.jsxs)("div",{style:s(s({},xs),{},{borderColor:n?"#ff0072":"#9C27B0"}),children:[(0,ws.jsx)(Vo,{type:"target",position:no.Left,style:{width:"12px",height:"12px",background:"#555"}}),(0,ws.jsx)("div",{style:{fontWeight:"bold",marginBottom:"8px"},children:t.label}),t.videoUrl&&(0,ws.jsxs)("div",{style:{width:"100%",height:"100px",background:"#f0f0f0",marginBottom:"8px",borderRadius:"4px",overflow:"hidden",position:"relative"},children:[(0,ws.jsx)("video",{src:t.videoUrl,style:{width:"100%",height:"100%",objectFit:"cover"}}),(0,ws.jsxs)("div",{style:{position:"absolute",bottom:0,left:0,right:0,padding:"4px 8px",background:"rgba(0,0,0,0.5)",color:"white",fontSize:"0.8em"},children:[t.autoplay?"Autoplay":"Click to play"," ",t.loop?"\u2022 Loop":""]})]}),(0,ws.jsx)("div",{style:{fontSize:"0.8em",color:"#9C27B0",marginTop:"5px"},children:"Video Slide"}),(0,ws.jsx)(Vo,{type:"source",position:no.Right,style:{width:"12px",height:"12px",background:"#555"}})]})},apiNode:e=>{let{data:t,selected:n}=e;return(0,ws.jsxs)("div",{style:s(s({},xs),{},{borderColor:n?"#ff0072":"#2196F3"}),children:[(0,ws.jsx)(Vo,{type:"target",position:no.Left,style:{width:"12px",height:"12px",background:"#555"}}),(0,ws.jsx)("div",{style:{fontWeight:"bold",marginBottom:"8px"},children:t.label}),t.apiEndpoint&&(0,ws.jsxs)("div",{style:{fontSize:"0.9em",color:"#666",marginBottom:"4px"},children:[t.apiMethod," ",t.apiEndpoint]}),(0,ws.jsx)("div",{style:{fontSize:"0.8em",color:"#2196F3",marginTop:"5px"},children:"API Action"}),(0,ws.jsx)(Vo,{type:"source",position:no.Right,style:{width:"12px",height:"12px",background:"#555"}})]})}},_s={gesture:e=>{let{id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:a,targetPosition:s,style:l={},markerEnd:c,data:u,label:d}=e;const[f]=mo({sourceX:n,sourceY:r,sourcePosition:a,targetX:o,targetY:i,targetPosition:s});return(0,ws.jsxs)(ws.Fragment,{children:[(0,ws.jsx)("path",{id:t,style:l,className:"react-flow__edge-path",d:f,markerEnd:c}),d&&(0,ws.jsx)("text",{children:(0,ws.jsx)("textPath",{href:"#".concat(t),style:{fontSize:"12px"},startOffset:"50%",textAnchor:"middle",dominantBaseline:"middle",children:d})})]})}},ks=["Thumb_Up","Thumb_Down","Open_Palm","Closed_Fist","Victory","Pointing_Up"],Es=[{id:"textNode",label:"Text Slide",color:"#777"},{id:"imageNode",label:"Image Slide",color:"#4CAF50"},{id:"videoNode",label:"Video Slide",color:"#9C27B0"},{id:"apiNode",label:"API Action",color:"#2196F3"}],Cs=[{id:"1",type:"textNode",data:{label:"Start",content:"",type:"text"},position:{x:250,y:25}}],As=[],Ts=t=>{let{title:n,children:r,defaultOpen:o=!1}=t;const[i,a]=(0,e.useState)(o);return(0,ws.jsxs)("div",{style:{marginTop:"15px",borderTop:"1px solid #eee"},children:[(0,ws.jsxs)("button",{onClick:()=>a(!i),style:{width:"100%",padding:"10px",background:"none",border:"none",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",fontSize:"1em",fontWeight:"bold",color:"#666"},children:[n,(0,ws.jsx)("span",{style:{transform:"rotate(".concat(i?180:0,"deg)"),transition:"transform 0.2s"},children:"\u25bc"})]}),i&&(0,ws.jsx)("div",{style:{padding:"10px"},children:r})]})},Ps=t=>{var n,r,o,i;let{onWorkflowUpdate:a,initialWorkflow:l}=t;const[c,u,d]=es((null===l||void 0===l?void 0:l.nodes)||Cs),[f,h,p]=ts((null===l||void 0===l?void 0:l.edges)||As),[g,m]=(0,e.useState)(null),[v,y]=(0,e.useState)(null),[b,w]=(0,e.useState)(""),[x,S]=(0,e.useState)(null);(0,e.useEffect)((()=>{l&&(u(l.nodes),h(l.edges))}),[l,u,h]),(0,e.useEffect)((()=>{S(g?g.data:null)}),[g]);const _=(0,e.useCallback)((e=>{if(!g||!x)return;const t=s(s({},x),e);S(t);const n=s(s({},g),{},{data:t});u((e=>{const t=e.map((e=>e.id===g.id?n:e));return null===a||void 0===a||a({nodes:t,edges:f}),t}))}),[g,x,f,a,u]);(0,e.useEffect)((()=>{var e;v?w((null===(e=v.data)||void 0===e?void 0:e.gesture)||""):w("")}),[v]);const k=(0,e.useCallback)((e=>{if(w(e),v){const t=s(s({},v),{},{data:{gesture:e},label:e,animated:!!e,style:{strokeWidth:2,stroke:e?"#ff0072":"#b1b1b7"}});h((e=>{const n=e.map((e=>e.id===v.id?t:e));return null===a||void 0===a||a({nodes:c,edges:n}),n}))}}),[v,c,a,h]),E=(0,e.useCallback)((e=>{h((t=>{if(t.some((t=>t.source===e.source&&t.target===e.target)))return alert("A connection already exists between these nodes!"),t;const n=s(s({},e),{},{id:"".concat(e.source,"-").concat(e.target,"-").concat(Date.now()),type:"gesture",data:{gesture:""},markerEnd:{type:to.ArrowClosed},style:{strokeWidth:2},animated:!1,label:"Click to set gesture"}),r=So(n,t);return null===a||void 0===a||a({nodes:c,edges:r}),y(n),r}))}),[c,a,h]),C=(0,e.useCallback)((()=>{null===a||void 0===a||a({nodes:c,edges:f})}),[c,f,a]),A=(0,e.useCallback)((e=>{var t;const n={id:"".concat(Date.now()),type:e,data:s(s(s(s({label:"New ".concat(null===(t=Es.find((t=>t.id===e)))||void 0===t?void 0:t.label),content:"",type:"apiNode"===e?"api":"imageNode"===e?"image":"videoNode"===e?"video":"text"},"videoNode"===e?{videoUrl:"",autoplay:!1,loop:!1,playPauseGesture:"",scrubForwardGesture:"",scrubBackwardGesture:""}:{}),"imageNode"===e?{url:""}:{}),"apiNode"===e?{apiEndpoint:"",apiMethod:"GET",apiPayload:""}:{}),{},{pointerMode:"laser"}),position:{x:300*Math.random()+100,y:300*Math.random()+100}};u((e=>{const t=[...e,n];return null===a||void 0===a||a({nodes:t,edges:f}),t}))}),[f,a,u]),T=(0,e.useCallback)(((e,t)=>{e.stopPropagation(),m(t),y(null)}),[]),P=(0,e.useCallback)(((e,t)=>{e.stopPropagation(),y(t),m(null)}),[]),N=(0,e.useMemo)((()=>Ss),[]),M=(0,e.useMemo)((()=>_s),[]);return(0,ws.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex"},onClick:()=>{m(null),y(null)},children:[(0,ws.jsx)("div",{style:{flex:1,position:"relative"},onClick:e=>e.stopPropagation(),children:(0,ws.jsxs)(Za,{nodes:c,edges:f,onNodesChange:d,onEdgesChange:p,onConnect:E,onNodeDragStop:C,onNodeClick:T,onEdgeClick:P,nodeTypes:N,edgeTypes:M,connectionMode:Qr.Strict,snapToGrid:!0,fitView:!0,defaultEdgeOptions:{type:"gesture",markerEnd:{type:to.ArrowClosed},style:{strokeWidth:2}},children:[(0,ws.jsx)(fs,{}),(0,ws.jsx)(bs,{}),(0,ws.jsx)(Er,{position:"top-left",style:{padding:"10px",display:"flex",gap:"10px",flexDirection:"column"},children:Es.map((e=>(0,ws.jsx)("button",{onClick:()=>A(e.id),style:{padding:"8px 16px",background:e.color,color:"white",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:(0,ws.jsxs)("span",{children:["Add ",e.label]})},e.id)))})]})}),v&&(0,ws.jsxs)("div",{style:{width:"300px",padding:"20px",background:"#f8f8f8",borderLeft:"1px solid #ddd",position:"relative"},onClick:e=>e.stopPropagation(),children:[(0,ws.jsx)("button",{onClick:()=>y(null),style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"20px",cursor:"pointer"},children:"\xd7"}),(0,ws.jsx)("h3",{children:"Edit Connection"}),(0,ws.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,ws.jsxs)("div",{style:{fontSize:"0.9em",color:"#666",marginBottom:"10px"},children:["From: ",null===(n=c.find((e=>e.id===v.source)))||void 0===n?void 0:n.data.label]}),(0,ws.jsxs)("div",{style:{fontSize:"0.9em",color:"#666",marginBottom:"15px"},children:["To: ",null===(r=c.find((e=>e.id===v.target)))||void 0===r?void 0:r.data.label]})]}),(0,ws.jsxs)("div",{children:[(0,ws.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Gesture:"}),(0,ws.jsxs)("select",{value:b,onChange:e=>k(e.target.value),style:{width:"100%",padding:"8px"},children:[(0,ws.jsx)("option",{value:"",children:"Select a gesture..."}),ks.map((e=>(0,ws.jsx)("option",{value:e,children:e.replace("_"," ")},e)))]})]}),(0,ws.jsx)("button",{onClick:()=>{h((e=>{const t=e.filter((e=>e.id!==v.id));return null===a||void 0===a||a({nodes:c,edges:t}),t})),y(null)},style:{padding:"8px 16px",background:"#ff0072",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",width:"100%",marginTop:"15px"},children:"Delete Connection"})]}),g&&x&&(0,ws.jsxs)("div",{style:{position:"absolute",top:0,right:0,width:"300px",height:"100%",background:"white",boxShadow:"-2px 0 5px rgba(0,0,0,0.1)",padding:"20px",overflowY:"auto"},onClick:e=>e.stopPropagation(),children:[(0,ws.jsx)("button",{onClick:()=>m(null),style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"20px",cursor:"pointer"},children:"\xd7"}),(0,ws.jsx)("h3",{style:{marginTop:0},children:"Edit Node"}),(0,ws.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,ws.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Label:"}),(0,ws.jsx)("input",{type:"text",value:x.label,onChange:e=>_({label:e.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]}),"text"===x.type&&(0,ws.jsx)(Ts,{title:"Content",defaultOpen:!0,children:(0,ws.jsx)("textarea",{value:x.content||"",onChange:e=>_({content:e.target.value}),style:{width:"100%",height:"200px",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",resize:"vertical"}})}),"image"===x.type&&(0,ws.jsxs)(Ts,{title:"Image Settings",defaultOpen:!0,children:[(0,ws.jsx)("input",{type:"text",value:x.url||"",onChange:e=>_({url:e.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"},placeholder:"Enter image URL"}),x.url&&(0,ws.jsx)("img",{src:x.url,alt:"Preview",style:{width:"100%",height:"auto",marginTop:"10px",borderRadius:"4px"}})]}),"video"===x.type&&(0,ws.jsxs)(ws.Fragment,{children:[(0,ws.jsxs)(Ts,{title:"Video Settings",defaultOpen:!0,children:[(0,ws.jsx)("input",{type:"text",value:x.videoUrl||"",onChange:e=>_({videoUrl:e.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"},placeholder:"Enter video URL"}),(0,ws.jsxs)("div",{style:{marginTop:"10px"},children:[(0,ws.jsxs)("label",{style:{display:"flex",alignItems:"center",marginBottom:"5px",cursor:"pointer"},children:[(0,ws.jsx)("input",{type:"checkbox",checked:x.autoplay||!1,onChange:e=>_({autoplay:e.target.checked}),style:{marginRight:"8px"}}),"Autoplay"]}),(0,ws.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[(0,ws.jsx)("input",{type:"checkbox",checked:x.loop||!1,onChange:e=>_({loop:e.target.checked}),style:{marginRight:"8px"}}),"Loop video"]})]}),(0,ws.jsxs)("div",{style:{marginTop:"10px"},children:[(0,ws.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Scrub Amount (seconds):"}),(0,ws.jsx)("input",{type:"number",min:"1",step:"1",placeholder:"Default: 5",value:x.scrubAmount||"",onChange:e=>_({scrubAmount:Number(e.target.value)}),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),(0,ws.jsxs)(Ts,{title:"Video Control Gestures",children:[(0,ws.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,ws.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Play/Pause Gesture:"}),(0,ws.jsxs)("select",{value:x.playPauseGesture||"",onChange:e=>_({playPauseGesture:e.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"},children:[(0,ws.jsx)("option",{value:"",children:"Select a gesture..."}),ks.map((e=>(0,ws.jsx)("option",{value:e,children:e.replace("_"," ")},e)))]})]}),(0,ws.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,ws.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Scrub Forward Gesture:"}),(0,ws.jsxs)("select",{value:x.scrubForwardGesture||"",onChange:e=>_({scrubForwardGesture:e.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"},children:[(0,ws.jsx)("option",{value:"",children:"Select a gesture..."}),ks.map((e=>(0,ws.jsx)("option",{value:e,children:e.replace("_"," ")},e)))]})]}),(0,ws.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,ws.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Scrub Backward Gesture:"}),(0,ws.jsxs)("select",{value:x.scrubBackwardGesture||"",onChange:e=>_({scrubBackwardGesture:e.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"},children:[(0,ws.jsx)("option",{value:"",children:"Select a gesture..."}),ks.map((e=>(0,ws.jsx)("option",{value:e,children:e.replace("_"," ")},e)))]})]})]})]}),"api"===x.type&&(0,ws.jsxs)(Ts,{title:"API Settings",defaultOpen:!0,children:[(0,ws.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,ws.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"API Endpoint:"}),(0,ws.jsx)("input",{type:"text",value:x.apiEndpoint||"",onChange:e=>_({apiEndpoint:e.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]}),(0,ws.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,ws.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Method:"}),(0,ws.jsxs)("select",{value:x.apiMethod||"GET",onChange:e=>_({apiMethod:e.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"},children:[(0,ws.jsx)("option",{value:"GET",children:"GET"}),(0,ws.jsx)("option",{value:"POST",children:"POST"}),(0,ws.jsx)("option",{value:"PUT",children:"PUT"}),(0,ws.jsx)("option",{value:"DELETE",children:"DELETE"})]})]}),(0,ws.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,ws.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Payload (JSON):"}),(0,ws.jsx)("textarea",{value:x.apiPayload||"",onChange:e=>_({apiPayload:e.target.value}),style:{width:"100%",height:"150px",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontFamily:"monospace",resize:"vertical"}})]})]}),(0,ws.jsxs)(Ts,{title:"Zoom Settings",children:[(0,ws.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Zoom Point:"}),(0,ws.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,ws.jsx)("input",{type:"number",placeholder:"X %",value:(null===(o=x.zoomPoint)||void 0===o?void 0:o.x)||"",onChange:e=>{var t;return _({zoomPoint:{x:Number(e.target.value),y:(null===(t=x.zoomPoint)||void 0===t?void 0:t.y)||50}})},style:{width:"50%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}}),(0,ws.jsx)("input",{type:"number",placeholder:"Y %",value:(null===(i=x.zoomPoint)||void 0===i?void 0:i.y)||"",onChange:e=>{var t;return _({zoomPoint:{x:(null===(t=x.zoomPoint)||void 0===t?void 0:t.x)||50,y:Number(e.target.value)}})},style:{width:"50%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]}),(0,ws.jsx)("div",{style:{fontSize:"0.8em",color:"#666",marginTop:"5px"},children:"Enter values between 0-100 to set the zoom center point"}),(0,ws.jsxs)("div",{style:{marginTop:"15px"},children:[(0,ws.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Min Zoom Level:"}),(0,ws.jsx)("input",{type:"number",step:"0.1",min:"0.1",placeholder:"Default: 1",value:x.minZoom||"",onChange:e=>_({minZoom:Number(e.target.value)}),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]}),(0,ws.jsxs)("div",{style:{marginTop:"15px"},children:[(0,ws.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Max Zoom Level:"}),(0,ws.jsx)("input",{type:"number",step:"0.1",min:"0.1",placeholder:"Default: 4",value:x.maxZoom||"",onChange:e=>_({maxZoom:Number(e.target.value)}),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]}),(0,ws.jsxs)("div",{style:{marginTop:"15px"},children:[(0,ws.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Zoom In Gesture:"}),(0,ws.jsxs)("select",{value:x.zoomInGesture||"",onChange:e=>_({zoomInGesture:e.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"},children:[(0,ws.jsx)("option",{value:"",children:"Select a gesture..."}),ks.map((e=>(0,ws.jsx)("option",{value:e,children:e.replace("_"," ")},e)))]})]}),(0,ws.jsxs)("div",{style:{marginTop:"15px"},children:[(0,ws.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Zoom Out Gesture:"}),(0,ws.jsxs)("select",{value:x.zoomOutGesture||"",onChange:e=>_({zoomOutGesture:e.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"},children:[(0,ws.jsx)("option",{value:"",children:"Select a gesture..."}),ks.map((e=>(0,ws.jsx)("option",{value:e,children:e.replace("_"," ")},e)))]})]})]}),(0,ws.jsxs)(Ts,{title:"Pointer Settings",children:[(0,ws.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,ws.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Pointer Mode:"}),(0,ws.jsxs)("select",{value:x.pointerMode||"laser",onChange:e=>_({pointerMode:e.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"},children:[(0,ws.jsx)("option",{value:"laser",children:"Laser (Red Dot)"}),(0,ws.jsx)("option",{value:"canvas",children:"Canvas (Writing)"})]})]}),(0,ws.jsxs)("div",{style:{marginTop:"15px"},children:[(0,ws.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Pointer Color:"}),(0,ws.jsx)("input",{type:"color",value:x.pointerColor||"#ff0000",onChange:e=>_({pointerColor:e.target.value}),style:{width:"100%",padding:"2px",border:"1px solid #ddd",borderRadius:"4px"}})]}),(0,ws.jsxs)("div",{style:{marginTop:"15px"},children:[(0,ws.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Pointer Size:"}),(0,ws.jsx)("input",{type:"number",min:"1",max:"50",step:"1",placeholder:"Default: 10",value:x.pointerSize||"",onChange:e=>_({pointerSize:Number(e.target.value)}),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]}),(0,ws.jsxs)("div",{style:{marginTop:"15px"},children:[(0,ws.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Pointer Start Gesture:"}),(0,ws.jsxs)("select",{value:x.pointerStartGesture||"",onChange:e=>_({pointerStartGesture:e.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"},children:[(0,ws.jsx)("option",{value:"",children:"Select a gesture..."}),ks.map((e=>(0,ws.jsx)("option",{value:e,children:e.replace("_"," ")},e)))]})]}),(0,ws.jsxs)("div",{style:{marginTop:"15px"},children:[(0,ws.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Pointer Stop Gesture:"}),(0,ws.jsxs)("select",{value:x.pointerStopGesture||"",onChange:e=>_({pointerStopGesture:e.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"},children:[(0,ws.jsx)("option",{value:"",children:"Select a gesture..."}),ks.map((e=>(0,ws.jsx)("option",{value:e,children:e.replace("_"," ")},e)))]})]})]}),(0,ws.jsx)("div",{style:{marginTop:"20px"},children:(0,ws.jsx)("button",{onClick:()=>{u((e=>{const t=e.filter((e=>e.id!==g.id));return h((e=>{const n=e.filter((e=>e.source!==g.id&&e.target!==g.id));return null===a||void 0===a||a({nodes:t,edges:n}),n})),t})),m(null)},style:{padding:"8px 16px",background:"#ff0072",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",width:"100%"},children:"Delete Node"})})]})]})};var Ns,Ms=n(29),Os=n.n(Ms);var Rs="undefined"!=typeof self?self:{};function Is(){throw Error("Invalid UTF8")}function Ls(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}let Ds,js;const Fs="undefined"!=typeof TextDecoder;let zs;const Bs="undefined"!=typeof TextEncoder;function Us(e){if(Bs)e=(zs||(zs=new TextEncoder)).encode(e);else{let n=0;const r=new Uint8Array(3*e.length);for(let o=0;o<e.length;o++){var t=e.charCodeAt(o);if(t<128)r[n++]=t;else{if(t<2048)r[n++]=t>>6|192;else{if(t>=55296&&t<=57343){if(t<=56319&&o<e.length){const i=e.charCodeAt(++o);if(i>=56320&&i<=57343){t=1024*(t-55296)+i-56320+65536,r[n++]=t>>18|240,r[n++]=t>>12&63|128,r[n++]=t>>6&63|128,r[n++]=63&t|128;continue}o--}t=65533}r[n++]=t>>12|224,r[n++]=t>>6&63|128}r[n++]=63&t|128}}e=n===r.length?r:r.subarray(0,n)}return e}var Vs,Hs;e:{for(var Ws=["CLOSURE_FLAGS"],Gs=Rs,Xs=0;Xs<Ws.length;Xs++)if(null==(Gs=Gs[Ws[Xs]])){Hs=null;break e}Hs=Gs}var qs,Ks=Hs&&Hs[610401301];Vs=null!=Ks&&Ks;const Ys=Rs.navigator;function $s(e){return!!Vs&&!!qs&&qs.brands.some((t=>{let{brand:n}=t;return n&&-1!=n.indexOf(e)}))}function Qs(e){var t;return(t=Rs.navigator)&&(t=t.userAgent)||(t=""),-1!=t.indexOf(e)}function Zs(){return!!Vs&&!!qs&&qs.brands.length>0}function Js(){return Zs()?$s("Chromium"):(Qs("Chrome")||Qs("CriOS"))&&!(!Zs()&&Qs("Edge"))||Qs("Silk")}function el(e){return el[" "](e),e}qs=Ys&&Ys.userAgentData||null,el[" "]=function(){};var tl=!Zs()&&(Qs("Trident")||Qs("MSIE"));!Qs("Android")||Js(),Js(),Qs("Safari")&&(Js()||!Zs()&&Qs("Coast")||!Zs()&&Qs("Opera")||!Zs()&&Qs("Edge")||(Zs()?$s("Microsoft Edge"):Qs("Edg/"))||Zs()&&$s("Opera"));var nl={},rl=null;function ol(){if(!rl){rl={};var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"];for(let n=0;n<5;n++){const r=e.concat(t[n].split(""));nl[n]=r;for(let e=0;e<r.length;e++){const t=r[e];void 0===rl[t]&&(rl[t]=e)}}}}var il="undefined"!=typeof Uint8Array,al=!tl&&"function"==typeof btoa;function sl(e){if(!al){var t;void 0===t&&(t=0),ol(),t=nl[t];var n=Array(Math.floor(e.length/3)),r=t[64]||"";let l=0,c=0;for(;l<e.length-2;l+=3){var o=e[l],i=e[l+1],a=e[l+2],s=t[o>>2];o=t[(3&o)<<4|i>>4],i=t[(15&i)<<2|a>>6],a=t[63&a],n[c++]=s+o+i+a}switch(s=0,a=r,e.length-l){case 2:a=t[(15&(s=e[l+1]))<<2]||r;case 1:e=e[l],n[c]=t[e>>2]+t[(3&e)<<4|s>>4]+a+r}return n.join("")}for(t="",n=0,r=e.length-10240;n<r;)t+=String.fromCharCode.apply(null,e.subarray(n,n+=10240));return t+=String.fromCharCode.apply(null,n?e.subarray(n):e),btoa(t)}const ll=/[-_.]/g,cl={"-":"+",_:"/",".":"="};function ul(e){return cl[e]||""}function dl(e){if(!al)return function(e){const t=e.length;let n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);const r=new Uint8Array(n);let o=0;return function(e,t){function n(t){for(;r<e.length;){const t=e.charAt(r++),n=rl[t];if(null!=n)return n;if(!/^[\s\xa0]*$/.test(t))throw Error("Unknown base64 encoding at char: "+t)}return t}ol();let r=0;for(;;){const e=n(-1),r=n(0),o=n(64),i=n(64);if(64===i&&-1===e)break;t(e<<2|r>>4),64!=o&&(t(r<<4&240|o>>2),64!=i&&t(o<<6&192|i))}}(e,(function(e){r[o++]=e})),o!==n?r.subarray(0,o):r}(e);ll.test(e)&&(e=e.replace(ll,ul)),e=atob(e);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function fl(e){return il&&null!=e&&e instanceof Uint8Array}var hl={};function pl(){return vl||(vl=new ml(null,hl))}function gl(e){bl(hl);var t=e.g;return null==(t=null==t||fl(t)?t:"string"==typeof t?dl(t):null)?t:e.g=t}var ml=class{h(){return new Uint8Array(gl(this)||0)}constructor(e,t){if(bl(t),this.g=e,null!=e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}};let vl,yl;function bl(e){if(e!==hl)throw Error("illegal external caller")}function wl(e,t){e.__closure__error__context__984382||(e.__closure__error__context__984382={}),e.__closure__error__context__984382.severity=t}function xl(e){return wl(e=Error(e),"warning"),e}var Sl="function"==typeof Symbol&&"symbol"==typeof Symbol(),_l=new Set;function kl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e="function"==typeof Symbol&&"symbol"==typeof Symbol()?r&&Symbol.for&&e?Symbol.for(e):null!=e?Symbol(e):Symbol():t,n&&_l.add(e),e}var El=kl("jas",void 0,!0,!0),Cl=kl(void 0,"0di"),Al=kl(void 0,"2ex"),Tl=kl(void 0,"1oa",!0),Pl=kl(void 0,Symbol(),!0);const Nl=Sl?El:"Ga",Ml={Ga:{value:0,configurable:!0,writable:!0,enumerable:!1}},Ol=Object.defineProperties;function Rl(e,t){Sl||Nl in e||Ol(e,Ml),e[Nl]|=t}function Il(e,t){Sl||Nl in e||Ol(e,Ml),e[Nl]=t}function Ll(e){return Rl(e,34),e}function Dl(e,t){Il(t,-30975&e)}function jl(e,t){Il(t,-30941&e|34)}function Fl(){return"function"==typeof BigInt}function zl(e){return Array.prototype.slice.call(e)}var Bl,Ul={},Vl={};function Hl(e){return!(!e||"object"!=typeof e||e.Ia!==Vl)}function Wl(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)&&e.constructor===Object}function Gl(e,t){if(null!=e)if("string"==typeof e)e=e?new ml(e,hl):pl();else if(e.constructor!==ml)if(fl(e))e=e.length?new ml(new Uint8Array(e),hl):pl();else{if(!t)throw Error();e=void 0}return e}function Xl(e){return!(!Array.isArray(e)||e.length)&&!!(1&e[Nl])}const ql=[];function Kl(e){if(2&e)throw Error()}Il(ql,55),Bl=Object.freeze(ql);class Yl{constructor(e,t,n){this.l=0,this.g=e,this.h=t,this.m=n}next(){if(this.l<this.g.length){const e=this.g[this.l++];return{done:!1,value:this.h?this.h.call(this.m,e):e}}return{done:!0,value:void 0}}[Symbol.iterator](){return new Yl(this.g,this.h,this.m)}}function $l(e){return Pl?e[Pl]:void 0}var Ql=Object.freeze({});function Zl(e){return e.Qa=!0,e}var Jl=Zl((e=>"number"==typeof e)),ec=Zl((e=>"string"==typeof e)),tc=Zl((e=>"boolean"==typeof e)),nc="function"==typeof Rs.BigInt&&"bigint"==typeof Rs.BigInt(0),rc=Zl((e=>nc?e>=ic&&e<=sc:"-"===e[0]?lc(e,oc):lc(e,ac)));const oc=Number.MIN_SAFE_INTEGER.toString(),ic=nc?BigInt(Number.MIN_SAFE_INTEGER):void 0,ac=Number.MAX_SAFE_INTEGER.toString(),sc=nc?BigInt(Number.MAX_SAFE_INTEGER):void 0;function lc(e,t){if(e.length>t.length)return!1;if(e.length<t.length||e===t)return!0;for(let n=0;n<e.length;n++){const r=e[n],o=t[n];if(r>o)return!1;if(r<o)return!0}}const cc="function"==typeof Uint8Array.prototype.slice;let uc,dc=0,fc=0;function hc(e){const t=e>>>0;dc=t,fc=(e-t)/4294967296>>>0}function pc(e){if(e<0){hc(-e);const[t,n]=xc(dc,fc);dc=t>>>0,fc=n>>>0}else hc(e)}function gc(e){const t=uc||(uc=new DataView(new ArrayBuffer(8)));t.setFloat32(0,+e,!0),fc=0,dc=t.getUint32(0,!0)}function mc(e,t){const n=4294967296*t+(e>>>0);return Number.isSafeInteger(n)?n:yc(e,t)}function vc(e,t){const n=2147483648&t;return n&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),"number"==typeof(e=mc(e,t))?n?-e:e:n?"-"+e:e}function yc(e,t){if(e>>>=0,(t>>>=0)<=2097151)var n=""+(4294967296*t+e);else Fl()?n=""+(BigInt(t)<<BigInt(32)|BigInt(e)):(e=(16777215&e)+6777216*(n=16777215&(e>>>24|t<<8))+6710656*(t=t>>16&65535),n+=8147497*t,t*=2,e>=1e7&&(n+=e/1e7>>>0,e%=1e7),n>=1e7&&(t+=n/1e7>>>0,n%=1e7),n=t+bc(n)+bc(e));return n}function bc(e){return e=String(e),"0000000".slice(e.length)+e}function wc(e){if(e.length<16)pc(Number(e));else if(Fl())e=BigInt(e),dc=Number(e&BigInt(4294967295))>>>0,fc=Number(e>>BigInt(32)&BigInt(4294967295));else{const t=+("-"===e[0]);fc=dc=0;const n=e.length;for(let r=t,o=(n-t)%6+t;o<=n;r=o,o+=6){const t=Number(e.slice(r,o));fc*=1e6,dc=1e6*dc+t,dc>=4294967296&&(fc+=Math.trunc(dc/4294967296),fc>>>=0,dc>>>=0)}if(t){const[e,t]=xc(dc,fc);dc=e,fc=t}}}function xc(e,t){return t=~t,e?e=1+~e:t+=1,[e,t]}const Sc="function"==typeof BigInt?BigInt.asIntN:void 0,_c="function"==typeof BigInt?BigInt.asUintN:void 0,kc=Number.isSafeInteger,Ec=Number.isFinite,Cc=Math.trunc;function Ac(e){return null==e||"number"==typeof e?e:"NaN"===e||"Infinity"===e||"-Infinity"===e?Number(e):void 0}function Tc(e){return null==e||"boolean"==typeof e?e:"number"==typeof e?!!e:void 0}const Pc=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;function Nc(e){switch(typeof e){case"bigint":return!0;case"number":return Ec(e);case"string":return Pc.test(e);default:return!1}}function Mc(e){if(null==e)return e;if("string"==typeof e&&e)e=+e;else if("number"!=typeof e)return;return Ec(e)?0|e:void 0}function Oc(e){if(null==e)return e;if("string"==typeof e&&e)e=+e;else if("number"!=typeof e)return;return Ec(e)?e>>>0:void 0}function Rc(e){if("-"===e[0])return!1;const t=e.length;return t<20||20===t&&Number(e.substring(0,6))<184467}function Ic(e){return e=Cc(e),kc(e)||(pc(e),e=vc(dc,fc)),e}function Lc(e){var t=Cc(Number(e));if(kc(t))return String(t);if(-1!==(t=e.indexOf("."))&&(e=e.substring(0,t)),t=e.length,!("-"===e[0]?t<20||20===t&&Number(e.substring(0,7))>-922337:t<19||19===t&&Number(e.substring(0,6))<922337))if(wc(e),e=dc,2147483648&(t=fc))if(Fl())e=""+(BigInt(0|t)<<BigInt(32)|BigInt(e>>>0));else{const[n,r]=xc(e,t);e="-"+yc(n,r)}else e=yc(e,t);return e}function Dc(e){return null==e?e:"bigint"==typeof e?(rc(e)?e=Number(e):(e=Sc(64,e),e=rc(e)?Number(e):String(e)),e):Nc(e)?"number"==typeof e?Ic(e):Lc(e):void 0}function jc(e){if("string"!=typeof e)throw Error();return e}function Fc(e){if(null!=e&&"string"!=typeof e)throw Error();return e}function zc(e){return null==e||"string"==typeof e?e:void 0}function Bc(e,t,n,r){if(null!=e&&"object"==typeof e&&e.W===Ul)return e;if(!Array.isArray(e))return n?2&r?((e=t[Cl])||(Ll((e=new t).u),e=t[Cl]=e),t=e):t=new t:t=void 0,t;let o=n=0|e[Nl];return 0===o&&(o|=32&r),o|=2&r,o!==n&&Il(e,o),new t(e)}function Uc(e,t,n){if(t)e:{if(!Nc(t=e))throw xl("int64");switch(typeof t){case"string":t=Lc(t);break e;case"bigint":if(e=t=Sc(64,t),ec(e)){if(!/^\s*(?:-?[1-9]\d*|0)?\s*$/.test(e))throw Error(String(e))}else if(Jl(e)&&!Number.isSafeInteger(e))throw Error(String(e));t=nc?BigInt(t):tc(t)?t?"1":"0":ec(t)?t.trim()||"0":String(t);break e;default:t=Ic(t)}}else t=Dc(e);return"string"==typeof(n=null==(e=t)?n?0:void 0:e)&&kc(t=+n)?t:n}const Vc={};let Hc=function(){try{return el(new class extends Map{constructor(){super()}}),!1}catch(e){return!0}}();class Wc{constructor(){this.g=new Map}get(e){return this.g.get(e)}set(e,t){return this.g.set(e,t),this.size=this.g.size,this}delete(e){return e=this.g.delete(e),this.size=this.g.size,e}clear(){this.g.clear(),this.size=this.g.size}has(e){return this.g.has(e)}entries(){return this.g.entries()}keys(){return this.g.keys()}values(){return this.g.values()}forEach(e,t){return this.g.forEach(e,t)}[Symbol.iterator](){return this.entries()}}const Gc=Hc?(Object.setPrototypeOf(Wc.prototype,Map.prototype),Object.defineProperties(Wc.prototype,{size:{value:0,configurable:!0,enumerable:!0,writable:!0}}),Wc):class extends Map{constructor(){super()}};function Xc(e){return e}function qc(e){if(2&e.L)throw Error("Cannot mutate an immutable Map")}var Kc=class extends Gc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xc,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Xc;super();let o=0|e[Nl];o|=64,Il(e,o),this.L=o,this.S=t,this.R=n,this.Y=this.S?Yc:r;for(let i=0;i<e.length;i++){const a=e[i],s=n(a[0],!1,!0);let l=a[1];t?void 0===l&&(l=null):l=r(a[1],!1,!0,void 0,void 0,o),super.set(s,l)}}na(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$c;if(0!==this.size)return this.X(e)}X(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$c;const t=[],n=super.entries();for(var r;!(r=n.next()).done;)(r=r.value)[0]=e(r[0]),r[1]=e(r[1]),t.push(r);return t}clear(){qc(this),super.clear()}delete(e){return qc(this),super.delete(this.R(e,!0,!1))}entries(){var e=this.ma();return new Yl(e,Qc,this)}keys(){return this.Ha()}values(){var e=this.ma();return new Yl(e,Kc.prototype.get,this)}forEach(e,t){super.forEach(((n,r)=>{e.call(t,this.get(r),r,this)}))}set(e,t){return qc(this),null==(e=this.R(e,!0,!1))?this:null==t?(super.delete(e),this):super.set(e,this.Y(t,!0,!0,this.S,!1,this.L))}Na(e){const t=this.R(e[0],!1,!0);e=e[1],e=this.S?void 0===e?null:e:this.Y(e,!1,!0,void 0,!1,this.L),super.set(t,e)}has(e){return super.has(this.R(e,!1,!1))}get(e){e=this.R(e,!1,!1);const t=super.get(e);if(void 0!==t){var n=this.S;return n?((n=this.Y(t,!1,!0,n,this.ra,this.L))!==t&&super.set(e,n),n):t}}ma(){return Array.from(super.keys())}Ha(){return super.keys()}[Symbol.iterator](){return this.entries()}};function Yc(e,t,n,r,o,i){return e=Bc(e,r,n,i),o&&(e=du(e)),e}function $c(e){return e}function Qc(e){return[e,this.get(e)]}let Zc,Jc,eu;function tu(){return Zc||(Zc=new Kc(Ll([]),void 0,void 0,void 0,Vc))}function nu(e,t,n,r,o){if(null!=e){if(Array.isArray(e))e=Xl(e)?void 0:o&&2&e[Nl]?e:ru(e,t,n,void 0!==r,o);else if(Wl(e)){const i={};for(let a in e)i[a]=nu(e[a],t,n,r,o);e=i}else e=t(e,r);return e}}function ru(e,t,n,r,o){const i=r||n?0|e[Nl]:0,a=r?!!(32&i):void 0;r=zl(e);for(let s=0;s<r.length;s++)r[s]=nu(r[s],t,n,a,o);return n&&((e=$l(e))&&(r[Pl]=zl(e)),n(i,r)),r}function ou(e){return nu(e,iu,void 0,void 0,!1)}function iu(e){return e.W===Ul?e.toJSON():e instanceof Kc?e.na(ou):function(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"bigint":return rc(e)?Number(e):String(e);case"boolean":return e?1:0;case"object":if(e)if(Array.isArray(e)){if(Xl(e))return}else{if(fl(e))return sl(e);if(e instanceof ml){const t=e.g;return null==t?"":"string"==typeof t?t:e.g=sl(t)}if(e instanceof Kc)return e.na()}}return e}(e)}function au(e){return ru(e,iu,void 0,void 0,!1)}function su(e,t,n){return e=lu(e,t[0],t[1],n?1:2),t!==Jc&&n&&Rl(e,16384),e}function lu(e,t,n,r){if(null==e){var o=96;n?(e=[n],o|=512):e=[],t&&(o=-33521665&o|(1023&t)<<15)}else{if(!Array.isArray(e))throw Error("narr");if(2048&(o=0|e[Nl]))throw Error("farr");if(64&o)return e;if(1===r||2===r||(o|=64),n&&(o|=512,n!==e[0]))throw Error("mid");e:{if(r=(n=e).length){const e=r-1;if(Wl(n[e])){if((t=e-(512&(o|=256)?0:-1))>=1024)throw Error("pvtlmt");o=-33521665&o|(1023&t)<<15;break e}}if(t){if((t=Math.max(t,r-(512&o?0:-1)))>1024)throw Error("spvt");o=-33521665&o|(1023&t)<<15}}}return Il(e,o),e}function cu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jl;if(null!=e){if(il&&e instanceof Uint8Array)return t?e:new Uint8Array(e);if(Array.isArray(e)){var r=0|e[Nl];return 2&r?e:(t&&(t=0===r||!!(32&r)&&!(64&r||!(16&r))),t?(Il(e,-12293&r|34),e):ru(e,cu,4&r?jl:n,!0,!0))}return e.W===Ul?e=2&(r=0|(n=e.u)[Nl])?e:new e.constructor(uu(n,r,!0)):e instanceof Kc&&!(2&e.L)&&(n=Ll(e.X(cu)),e=new Kc(n,e.S,e.R,e.Y)),e}}function uu(e,t,n){const r=n||2&t?jl:Dl,o=!!(32&t);return e=function(e,t,n){const r=zl(e);var o=r.length;const i=256&t?r[o-1]:void 0;for(o+=i?-1:0,t=512&t?1:0;t<o;t++)r[t]=n(r[t]);if(i){t=r[t]={};for(const e in i)t[e]=n(i[e])}return(e=$l(e))&&(r[Pl]=zl(e)),r}(e,t,(e=>cu(e,o,r))),Rl(e,32|(n?2:0)),e}function du(e){const t=e.u,n=0|t[Nl];return 2&n?new e.constructor(uu(t,n,!1)):e}function fu(e,t){return hu(e=e.u,0|e[Nl],t)}function hu(e,t,n,r){if(-1===n)return null;var o=n+(512&t?0:-1);const i=e.length-1;return o>=i&&256&t?e[i][n]:r&&256&t&&null!=(t=e[i][n])?(null!=e[o]&&null!=Al&&((o=(e=null!==yl&&void 0!==yl?yl:yl={})[Al]||0)>=4||(e[Al]=o+1,wl(e=Error(),"incident"),function(e){Rs.setTimeout((()=>{throw e}),0)}(e))),t):o<=i?e[o]:void 0}function pu(e,t,n){const r=e.u;let o=0|r[Nl];return Kl(o),gu(r,o,t,n),e}function gu(e,t,n,r){const o=512&t?0:-1,i=n+o;var a=e.length-1;return i>=a&&256&t?(e[a][n]=r,t):i<=a?(e[i]=r,256&t&&n in(e=e[a])&&delete e[n],t):(void 0!==r&&(n>=(a=t>>15&1023||536870912)?null!=r&&(e[a+o]={[n]:r},Il(e,t|=256)):e[i]=r),t)}function mu(e,t){let n=0|(e=e.u)[Nl];const r=hu(e,n,t),o=Ac(r);return null!=o&&o!==r&&gu(e,n,t,o),o}function vu(e){let t=0|(e=e.u)[Nl];const n=hu(e,t,1),r=Gl(n,!0);return null!=r&&r!==n&&gu(e,t,1,r),r}function yu(){return void 0===Ql?2:4}function bu(e,t,n,r,o){const i=e.u,a=2&(e=0|i[Nl])?1:r;o=!!o;let s=0|(r=wu(i,e,t))[Nl];if(!(4&s)){4&s&&(r=zl(r),s=ju(s,e),e=gu(i,e,t,r));let o=0,a=0;for(;o<r.length;o++){const e=n(r[o]);null!=e&&(r[a++]=e)}a<o&&(r.length=a),s=xu(s,e),n=-4097&s|20,s=n&=-8193,Il(r,s),2&s&&Object.freeze(r)}return 1===a||4===a&&32&s?Su(s)||(o=s,s|=2,s!==o&&Il(r,s),Object.freeze(r)):(2===a&&Su(s)&&(r=zl(r),s=ju(s,e),s=Fu(s,e,o),Il(r,s),e=gu(i,e,t,r)),Su(s)||(t=s,s=Fu(s,e,o),s!==t&&Il(r,s))),r}function wu(e,t,n,r){return e=hu(e,t,n,r),Array.isArray(e)?e:Bl}function xu(e,t){return 0===e&&(e=ju(e,t)),1|e}function Su(e){return!!(2&e)&&!!(4&e)||!!(2048&e)}function _u(e){e=zl(e);for(let t=0;t<e.length;t++){const n=e[t]=zl(e[t]);Array.isArray(n[1])&&(n[1]=Ll(n[1]))}return e}function ku(e,t,n,r){let o=0|(e=e.u)[Nl];Kl(o),gu(e,o,t,("0"===r?0===Number(n):n===r)?void 0:n)}function Eu(e,t,n,r,o){Kl(t);var i=!(!(64&t)&&16384&t);const a=(o=wu(e,t,n,o))!==Bl;if(i||!a){let s=i=a?0|o[Nl]:0;(!a||2&s||Su(s)||4&s&&!(32&s))&&(o=zl(o),s=ju(s,t),t=gu(e,t,n,o)),s=-13&xu(s,t),s=Fu(r?-17&s:16|s,t,!0),s!==i&&Il(o,s)}return o}function Cu(e,t){var n=Yh;return Pu(Au(e=e.u),e,0|e[Nl],n)===t?t:-1}function Au(e){var t;if(Sl)return null!==(t=e[Tl])&&void 0!==t?t:e[Tl]=new Map;if(Tl in e)return e[Tl];const n=new Map;return Object.defineProperty(e,Tl,{value:n}),n}function Tu(e,t,n,r){const o=Au(e),i=Pu(o,e,t,n);return i!==r&&(i&&(t=gu(e,t,i)),o.set(n,r)),t}function Pu(e,t,n,r){let o=e.get(r);if(null!=o)return o;o=0;for(let i=0;i<r.length;i++){const e=r[i];null!=hu(t,n,e)&&(0!==o&&(n=gu(t,n,o)),o=e)}return e.set(r,o),o}function Nu(e,t,n,r){let o,i=0|e[Nl];if(null!=(r=hu(e,i,n,r))&&r.W===Ul)return(t=du(r))!==r&&gu(e,i,n,t),t.u;if(Array.isArray(r)){const e=0|r[Nl];o=2&e?su(uu(r,e,!1),t,!0):64&e?r:su(o,t,!0)}else o=su(void 0,t,!0);return o!==r&&gu(e,i,n,o),o}function Mu(e,t,n,r){let o=0|(e=e.u)[Nl];return(t=Bc(r=hu(e,o,n,r),t,!1,o))!==r&&null!=t&&gu(e,o,n,t),t}function Ou(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null==(t=Mu(e,t,n,r)))return t;if(!(2&(r=0|(e=e.u)[Nl]))){const o=du(t);o!==t&&gu(e,r,n,t=o)}return t}function Ru(e,t,n,r,o,i,a){var s=!!(2&t);const l=s?1:o;i=!!i,a&&(a=!s);var c=0|(o=wu(e=e.u,t,r))[Nl];if(!(s=!!(4&c))){var u=o,d=t;const e=!!(2&(c=xu(c,t)));e&&(d|=2);let r=!e,i=!0,a=0,s=0;for(;a<u.length;a++){const t=Bc(u[a],n,!1,d);if(t instanceof n){if(!e){const e=!!(2&t.u[Nl]);r&&(r=!e),i&&(i=e)}u[s++]=t}}s<a&&(u.length=s),c|=4,c=i?16|c:-17&c,Il(u,c=r?8|c:-9&c),e&&Object.freeze(u)}if(a&&!(8&c||!o.length&&(1===l||4===l&&32&c))){for(Su(c)&&(o=zl(o),c=ju(c,t),t=gu(e,t,r,o)),n=o,a=c,u=0;u<n.length;u++)(c=n[u])!==(d=du(c))&&(n[u]=d);a|=8,Il(n,a=n.length?-17&a:16|a),c=a}return 1===l||4===l&&32&c?Su(c)||(t=c,(c|=!o.length||16&c&&(!s||32&c)?2:2048)!==t&&Il(o,c),Object.freeze(o)):(2===l&&Su(c)&&(Il(o=zl(o),c=Fu(c=ju(c,t),t,i)),t=gu(e,t,r,o)),Su(c)||(r=c,(c=Fu(c,t,i))!==r&&Il(o,c))),o}function Iu(e,t,n){const r=0|e.u[Nl];return Ru(e,r,t,n,yu(),!1,!(2&r))}function Lu(e,t,n,r){return null==r&&(r=void 0),pu(e,n,r)}function Du(e,t,n,r){null==r&&(r=void 0);e:{let o=0|(e=e.u)[Nl];if(Kl(o),null==r){const r=Au(e);if(Pu(r,e,o,n)!==t)break e;r.set(n,0)}else o=Tu(e,o,n,t);gu(e,o,t,r)}}function ju(e,t){return-2049&(2&t?2|e:-3&e)|32}function Fu(e,t,n){return 32&t&&n||(e&=-33),e}function zu(e,t,n,r){const o=0|e.u[Nl];Kl(o),e=Ru(e,o,n,t,2,!0),r=null!=r?r:new n,e.push(r),e[Nl]=2&r.u[Nl]?-9&e[Nl]:-17&e[Nl]}function Bu(e,t){return Mc(fu(e,t))}function Uu(e,t){return zc(fu(e,t))}function Vu(e,t){var n;return null!==(n=mu(e,t))&&void 0!==n?n:0}function Hu(e,t,n){if(null!=n&&"boolean"!=typeof n)throw e=typeof n,Error("Expected boolean but got ".concat("object"!=e?e:n?Array.isArray(n)?"array":e:"null",": ").concat(n));pu(e,t,n)}function Wu(e,t,n){if(null!=n){if("number"!=typeof n)throw xl("int32");if(!Ec(n))throw xl("int32");n|=0}pu(e,t,n)}function Gu(e,t,n){if(null!=n&&"number"!=typeof n)throw Error("Value of float/double field must be a number, found ".concat(typeof n,": ").concat(n));pu(e,t,n)}function Xu(e,t,n){{const a=e.u;let s=0|a[Nl];if(Kl(s),null==n)gu(a,s,t);else{var r=e=0|n[Nl],o=Su(e),i=o||Object.isFrozen(n);for(o||(e=0),i||(n=zl(n),r=0,e=Fu(e=ju(e,s),s,!0),i=!1),e|=21,o=0;o<n.length;o++){const t=n[o],a=jc(t);Object.is(t,a)||(i&&(n=zl(n),r=0,e=Fu(e=ju(e,s),s,!0),i=!1),n[o]=a)}e!==r&&(i&&(n=zl(n),e=Fu(e=ju(e,s),s,!0)),Il(n,e)),gu(a,s,t,n)}}}function qu(e,t,n){Kl(0|e.u[Nl]),bu(e,t,zc,2,!0).push(jc(n))}function Ku(e,t){return Error("Invalid wire type: ".concat(e," (at position ").concat(t,")"))}function Yu(){return Error("Failed to read varint, encoding is invalid.")}function $u(e,t){return Error("Tried to read past the end of the data ".concat(t," > ").concat(e))}function Qu(e){if("string"==typeof e)return{buffer:dl(e),N:!1};if(Array.isArray(e))return{buffer:new Uint8Array(e),N:!1};if(e.constructor===Uint8Array)return{buffer:e,N:!1};if(e.constructor===ArrayBuffer)return{buffer:new Uint8Array(e),N:!1};if(e.constructor===ml)return{buffer:gl(e)||new Uint8Array(0),N:!0};if(e instanceof Uint8Array)return{buffer:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),N:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function Zu(e,t){let n,r=0,o=0,i=0;const a=e.h;let s=e.g;do{n=a[s++],r|=(127&n)<<i,i+=7}while(i<32&&128&n);for(i>32&&(o|=(127&n)>>4),i=3;i<32&&128&n;i+=7)n=a[s++],o|=(127&n)<<i;if(ad(e,s),n<128)return t(r>>>0,o>>>0);throw Yu()}function Ju(e){let t=0,n=e.g;const r=n+10,o=e.h;for(;n<r;){const r=o[n++];if(t|=r,0==(128&r))return ad(e,n),!!(127&t)}throw Yu()}function ed(e){const t=e.h;let n=e.g,r=t[n++],o=127&r;if(128&r&&(r=t[n++],o|=(127&r)<<7,128&r&&(r=t[n++],o|=(127&r)<<14,128&r&&(r=t[n++],o|=(127&r)<<21,128&r&&(r=t[n++],o|=r<<28,128&r&&128&t[n++]&&128&t[n++]&&128&t[n++]&&128&t[n++]&&128&t[n++])))))throw Yu();return ad(e,n),o}function td(e){return ed(e)>>>0}function nd(e){var t=e.h;const n=e.g,r=t[n],o=t[n+1],i=t[n+2];return t=t[n+3],ad(e,e.g+4),(r|o<<8|i<<16|t<<24)>>>0}function rd(e){var t=nd(e);e=2*(t>>31)+1;const n=t>>>23&255;return t&=8388607,255==n?t?NaN:e*(1/0):0==n?1401298464324817e-60*e*t:e*Math.pow(2,n-150)*(t+8388608)}function od(e){return ed(e)}function id(e,t){let{ba:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.ba=n,t&&(t=Qu(t),e.h=t.buffer,e.m=t.N,e.j=0,e.l=e.h.length,e.g=e.j)}function ad(e,t){if(e.g=t,t>e.l)throw $u(e.l,t)}function sd(e,t){if(t<0)throw Error("Tried to read a negative byte length: ".concat(t));const n=e.g,r=n+t;if(r>e.l)throw $u(t,e.l-n);return e.g=r,n}function ld(e,t){if(0==t)return pl();var n=sd(e,t);return e.ba&&e.m?n=e.h.subarray(n,n+t):(e=e.h,n=n===(t=n+t)?new Uint8Array(0):cc?e.slice(n,t):new Uint8Array(e.subarray(n,t))),0==n.length?pl():new ml(n,hl)}Kc.prototype.toJSON=void 0,Kc.prototype.Ia=Vl;var cd=[];function ud(e){var t=e.g;if(t.g==t.l)return!1;e.l=e.g.g;var n=td(e.g);if(t=n>>>3,!((n&=7)>=0&&n<=5))throw Ku(n,e.l);if(t<1)throw Error("Invalid field number: ".concat(t," (at position ").concat(e.l,")"));return e.m=t,e.h=n,!0}function dd(e){switch(e.h){case 0:0!=e.h?dd(e):Ju(e.g);break;case 1:ad(e=e.g,e.g+8);break;case 2:if(2!=e.h)dd(e);else{var t=td(e.g);ad(e=e.g,e.g+t)}break;case 5:ad(e=e.g,e.g+4);break;case 3:for(t=e.m;;){if(!ud(e))throw Error("Unmatched start-group tag: stream EOF");if(4==e.h){if(e.m!=t)throw Error("Unmatched end-group tag");break}dd(e)}break;default:throw Ku(e.h,e.l)}}function fd(e,t,n){const r=e.g.l,o=td(e.g),i=e.g.g+o;let a=i-r;if(a<=0&&(e.g.l=i,n(t,e,void 0,void 0,void 0),a=i-e.g.g),a)throw Error("Message parsing ended unexpectedly. Expected to read ".concat(o," bytes, instead read ").concat(o-a," bytes, either the data ended unexpectedly or the message misreported its own length"));return e.g.g=i,e.g.l=r,t}function hd(e){var t=td(e.g),n=sd(e=e.g,t);if(e=e.h,Fs){var r,o=e;(r=js)||(r=js=new TextDecoder("utf-8",{fatal:!0})),t=n+t,o=0===n&&t===o.length?o:o.subarray(n,t);try{var i=r.decode(o)}catch(e){if(void 0===Ds){try{r.decode(new Uint8Array([128]))}catch(e){}try{r.decode(new Uint8Array([97])),Ds=!0}catch(e){Ds=!1}}throw!Ds&&(js=void 0),e}}else{t=(i=n)+t,n=[];let s,l=null;for(;i<t;){var a=e[i++];a<128?n.push(a):a<224?i>=t?Is():(s=e[i++],a<194||128!=(192&s)?(i--,Is()):n.push((31&a)<<6|63&s)):a<240?i>=t-1?Is():(s=e[i++],128!=(192&s)||224===a&&s<160||237===a&&s>=160||128!=(192&(r=e[i++]))?(i--,Is()):n.push((15&a)<<12|(63&s)<<6|63&r)):a<=244?i>=t-2?Is():(s=e[i++],128!=(192&s)||s-144+(a<<28)>>30!=0||128!=(192&(r=e[i++]))||128!=(192&(o=e[i++]))?(i--,Is()):(a=(7&a)<<18|(63&s)<<12|(63&r)<<6|63&o,a-=65536,n.push(55296+(a>>10&1023),56320+(1023&a)))):Is(),n.length>=8192&&(l=Ls(l,n),n.length=0)}i=Ls(l,n)}return i}function pd(e){const t=td(e.g);return ld(e.g,t)}function gd(e,t,n){var r=td(e.g);for(r=e.g.g+r;e.g.g<r;)n.push(t(e.g))}var md=[];function vd(e){return e}let yd;function bd(e,t,n){t.g?t.m(e,t.g,t.h,n):t.m(e,t.h,n)}var wd=class{constructor(e,t){this.u=lu(e,t)}toJSON(){const e=!yd;try{return e&&(yd=au),xd(this)}finally{e&&(yd=void 0)}}l(){var e=Wp;return e.g?e.l(this,e.g,e.h,!0):e.l(this,e.h,e.defaultValue,!0)}clone(){const e=this.u;return new this.constructor(uu(e,0|e[Nl],!1))}N(){return!!(2&this.u[Nl])}};function xd(e){var t=e.u;{t=(e=yd(t))!==t;let c=e.length;if(c){var n=e[c-1],r=Wl(n);r?c--:n=void 0;var o=e;if(r){e:{var i,a=n,s=!1;if(a)for(let e in a)isNaN(+e)?(null!==i&&void 0!==i?i:i={})[e]=a[e]:(r=a[e],Array.isArray(r)&&(Xl(r)||Hl(r)&&0===r.size)&&(r=null),null==r&&(s=!0),null!=r&&((null!==i&&void 0!==i?i:i={})[e]=r));if(s||(i=a),i)for(let e in i){s=i;break e}s=null}a=null==s?null!=n:s!==n}for(;c>0&&(null==(i=o[c-1])||Xl(i)||Hl(i)&&0===i.size);c--)var l=!0;(o!==e||a||l)&&(t?(l||a||s)&&(o.length=c):o=Array.prototype.slice.call(o,0,c),s&&o.push(s)),l=o}else l=e}return l}function Sd(e){return e?/^\d+$/.test(e)?(wc(e),new _d(dc,fc)):null:kd||(kd=new _d(0,0))}wd.prototype.W=Ul,wd.prototype.toString=function(){try{return yd=vd,xd(this).toString()}finally{yd=void 0}};var _d=class{constructor(e,t){this.h=e>>>0,this.g=t>>>0}};let kd;function Ed(e){return e?/^-?\d+$/.test(e)?(wc(e),new Cd(dc,fc)):null:Ad||(Ad=new Cd(0,0))}var Cd=class{constructor(e,t){this.h=e>>>0,this.g=t>>>0}};let Ad;function Td(e,t,n){for(;n>0||t>127;)e.g.push(127&t|128),t=(t>>>7|n<<25)>>>0,n>>>=7;e.g.push(t)}function Pd(e,t){for(;t>127;)e.g.push(127&t|128),t>>>=7;e.g.push(t)}function Nd(e,t){if(t>=0)Pd(e,t);else{for(let n=0;n<9;n++)e.g.push(127&t|128),t>>=7;e.g.push(1)}}function Md(e,t){e.g.push(t>>>0&255),e.g.push(t>>>8&255),e.g.push(t>>>16&255),e.g.push(t>>>24&255)}function Od(e,t){0!==t.length&&(e.l.push(t),e.h+=t.length)}function Rd(e,t,n){Pd(e.g,8*t+n)}function Id(e,t){return Rd(e,t,2),t=e.g.end(),Od(e,t),t.push(e.h),t}function Ld(e,t){var n=t.pop();for(n=e.h+e.g.length()-n;n>127;)t.push(127&n|128),n>>>=7,e.h++;t.push(n),e.h++}function Dd(e,t,n){Rd(e,t,2),Pd(e.g,n.length),Od(e,e.g.end()),Od(e,n)}function jd(e,t,n,r){null!=n&&(t=Id(e,t),r(n,e),Ld(e,t))}function Fd(){const e=class{constructor(){throw Error()}};return Object.setPrototypeOf(e,e.prototype),e}var zd=Fd(),Bd=Fd(),Ud=Fd(),Vd=Fd(),Hd=Fd(),Wd=Fd(),Gd=Fd(),Xd=Fd(),qd=Fd(),Kd=class{constructor(e,t,n){this.g=e,this.h=t,e=zd,this.l=!!e&&n===e||!1}};function Yd(e,t){return new Kd(e,t,zd)}function $d(e,t,n,r,o){jd(e,n,lf(t,r),o)}const Qd=Yd((function(e,t,n,r,o){return 2===e.h&&(fd(e,Nu(t,r,n),o),!0)}),$d),Zd=Yd((function(e,t,n,r,o){return 2===e.h&&(fd(e,Nu(t,r,n,!0),o),!0)}),$d);var Jd=Symbol(),ef=Symbol(),tf=Symbol(),nf=Symbol();let rf,of;function af(e,t,n,r){var o=r[e];if(o)return o;(o={}).Pa=r,o.V=function(e){switch(typeof e){case"boolean":return Jc||(Jc=[0,void 0,!0]);case"number":return e>0?void 0:0===e?eu||(eu=[0,void 0]):[-e,void 0];case"string":return[0,e];case"object":return e}}(r[0]);var i=r[1];let a=1;i&&i.constructor===Object&&(o.ga=i,"function"==typeof(i=r[++a])&&(o.la=!0,null!==rf&&void 0!==rf||(rf=i),null!==of&&void 0!==of||(of=r[a+1]),i=r[a+=2]));const s={};for(;i&&Array.isArray(i)&&i.length&&"number"==typeof i[0]&&i[0]>0;){for(var l=0;l<i.length;l++)s[i[l]]=i;i=r[++a]}for(l=1;void 0!==i;){var c;let e;"number"==typeof i&&(l+=i,i=r[++a]);var u=void 0;if(i instanceof Kd?e=i:(e=Qd,a--),null!==(c=e)&&void 0!==c&&c.l){i=r[++a],u=r;var d=a;"function"==typeof i&&(i=i(),u[d]=i),u=i}for(d=l+1,"number"==typeof(i=r[++a])&&i<0&&(d-=i,i=r[++a]);l<d;l++){const r=s[l];u?n(o,l,e,u,r):t(o,l,e,r)}}return r[e]=o}function sf(e){return Array.isArray(e)?e[0]instanceof Kd?e:[Zd,e]:[e,void 0]}function lf(e,t){return e instanceof wd?e.u:Array.isArray(e)?su(e,t,!1):void 0}function cf(e,t,n,r){const o=n.g;e[t]=r?(e,t,n)=>o(e,t,n,r):o}function uf(e,t,n,r,o){const i=n.g;let a,s;e[t]=(e,t,n)=>i(e,t,n,s||(s=af(ef,cf,uf,r).V),a||(a=df(r)),o)}function df(e){let t=e[tf];if(null!=t)return t;const n=af(ef,cf,uf,e);return t=n.la?(e,t)=>rf(e,t,n):(e,t)=>{const r=0|e[Nl];for(;ud(t)&&4!=t.h;){var o=t.m,i=n[o];if(null==i){var a=n.ga;a&&(a=a[o])&&null!=(a=ff(a))&&(i=n[o]=a)}null!=i&&i(t,e,o)||(o=(i=t).l,dd(i),i.fa?i=void 0:(a=i.g.g-o,i.g.g=o,i=ld(i.g,a)),o=e,i&&((a=o[Pl])?a.push(i):o[Pl]=[i]))}return 16384&r&&Ll(e),!0},e[tf]=t}function ff(e){const t=(e=sf(e))[0].g;if(e=e[1]){const n=df(e),r=af(ef,cf,uf,e).V;return(e,o,i)=>t(e,o,i,r,n)}return t}function hf(e,t,n){e[t]=n.h}function pf(e,t,n,r){let o,i;const a=n.h;e[t]=(e,t,n)=>a(e,t,n,i||(i=af(Jd,hf,pf,r).V),o||(o=gf(r)))}function gf(e){let t=e[nf];if(!t){const n=af(Jd,hf,pf,e);t=(e,t)=>mf(e,t,n),e[nf]=t}return t}function mf(e,t,n){for(var r=0|e[Nl],o=512&r?0:-1,i=e.length,a=512&r?1:0,s=i+(256&r?-1:0);a<s;a++){const r=e[a];if(null==r)continue;const i=a-o,s=vf(n,i);s&&s(t,r,i)}if(256&r){r=e[i-1];for(const e in r)o=+e,Number.isNaN(o)||null!=(i=r[o])&&(s=vf(n,o))&&s(t,i,o)}if(e=$l(e))for(Od(t,t.g.end()),n=0;n<e.length;n++)Od(t,gl(e[n])||new Uint8Array(0))}function vf(e,t){var n=e[t];if(n)return n;if((n=e.ga)&&(n=n[t])){var r=(n=sf(n))[0].h;if(n=n[1]){const t=gf(n),o=af(Jd,hf,pf,n).V;n=e.la?of(o,t):(e,n,i)=>r(e,n,i,o,t)}else n=r;return e[t]=n}}function yf(e,t){if(Array.isArray(t)){var n=0|t[Nl];if(4&n)return t;for(var r=0,o=0;r<t.length;r++){const n=e(t[r]);null!=n&&(t[o++]=n)}return o<r&&(t.length=o),Il(t,-12289&n|5),2&n&&Object.freeze(t),t}}function bf(e,t,n){return new Kd(e,t,n)}function wf(e,t,n){return new Kd(e,t,n)}function xf(e,t,n){gu(e,0|e[Nl],t,n)}var Sf=Yd((function(e,t,n,r,o){return 2===e.h&&(e=fd(e,su([void 0,void 0],r,!0),o),Kl(r=0|t[Nl]),(o=hu(t,r,n))instanceof Kc?0!=(2&o.L)?((o=o.X()).push(e),gu(t,r,n,o)):o.Na(e):Array.isArray(o)?(2&o[Nl]&&gu(t,r,n,o=_u(o)),o.push(e)):gu(t,r,n,[e]),!0)}),(function(e,t,n,r,o){if(t instanceof Kc)t.forEach(((t,i)=>{jd(e,n,su([i,t],r,!1),o)}));else if(Array.isArray(t))for(let i=0;i<t.length;i++){const a=t[i];Array.isArray(a)&&jd(e,n,su(a,r,!1),o)}}));function _f(e,t,n){if(t=function(e){if(null==e)return e;const t=typeof e;if("bigint"===t)return String(Sc(64,e));if(Nc(e)){if("string"===t)return Lc(e);if("number"===t)return Ic(e)}}(t),null!=t&&("string"==typeof t&&Ed(t),null!=t))switch(Rd(e,n,0),typeof t){case"number":e=e.g,pc(t),Td(e,dc,fc);break;case"bigint":n=BigInt.asUintN(64,t),n=new Cd(Number(n&BigInt(4294967295)),Number(n>>BigInt(32))),Td(e.g,n.h,n.g);break;default:n=Ed(t),Td(e.g,n.h,n.g)}}function kf(e,t,n){null!=(t=Mc(t))&&null!=t&&(Rd(e,n,0),Nd(e.g,t))}function Ef(e,t,n){null!=(t=Tc(t))&&(Rd(e,n,0),e.g.g.push(t?1:0))}function Cf(e,t,n){null!=(t=zc(t))&&Dd(e,n,Us(t))}function Af(e,t,n,r,o){jd(e,n,lf(t,r),o)}function Tf(e,t,n){null!=(t=null==t||"string"==typeof t||fl(t)||t instanceof ml?t:void 0)&&Dd(e,n,Qu(t).buffer)}function Pf(e,t,n){return(5===e.h||2===e.h)&&(t=Eu(t,0|t[Nl],n,!1,!1),2==e.h?gd(e,rd,t):t.push(rd(e.g)),!0)}var Nf=bf((function(e,t,n){if(1!==e.h)return!1;var r=e.g;e=nd(r);const o=nd(r);r=2*(o>>31)+1;const i=o>>>20&2047;return e=4294967296*(1048575&o)+e,xf(t,n,2047==i?e?NaN:r*(1/0):0==i?5e-324*r*e:r*Math.pow(2,i-1075)*(e+4503599627370496)),!0}),(function(e,t,n){null!=(t=Ac(t))&&(Rd(e,n,1),e=e.g,(n=uc||(uc=new DataView(new ArrayBuffer(8)))).setFloat64(0,+t,!0),dc=n.getUint32(0,!0),fc=n.getUint32(4,!0),Md(e,dc),Md(e,fc))}),Fd()),Mf=bf((function(e,t,n){return 5===e.h&&(xf(t,n,rd(e.g)),!0)}),(function(e,t,n){null!=(t=Ac(t))&&(Rd(e,n,5),e=e.g,gc(t),Md(e,dc))}),Gd),Of=wf(Pf,(function(e,t,n){if(null!=(t=yf(Ac,t)))for(let a=0;a<t.length;a++){var r=e,o=n,i=t[a];null!=i&&(Rd(r,o,5),r=r.g,gc(i),Md(r,dc))}}),Gd),Rf=wf(Pf,(function(e,t,n){if(null!=(t=yf(Ac,t))&&t.length){Rd(e,n,2),Pd(e.g,4*t.length);for(let r=0;r<t.length;r++)n=e.g,gc(t[r]),Md(n,dc)}}),Gd),If=bf((function(e,t,n){return 0===e.h&&(xf(t,n,Zu(e.g,vc)),!0)}),_f,Wd),Lf=bf((function(e,t,n){return 0===e.h&&(xf(t,n,0===(e=Zu(e.g,vc))?void 0:e),!0)}),_f,Wd),Df=bf((function(e,t,n){return 0===e.h&&(xf(t,n,Zu(e.g,mc)),!0)}),(function(e,t,n){if(null!=(t=function(e){if(null==e)return e;var t=typeof e;if("bigint"===t)return String(_c(64,e));if(Nc(e)){if("string"===t)return t=Cc(Number(e)),kc(t)&&t>=0?e=String(t):(-1!==(t=e.indexOf("."))&&(e=e.substring(0,t)),Rc(e)||(wc(e),e=yc(dc,fc))),e;if("number"===t)return(e=Cc(e))>=0&&kc(e)?e:function(e){if(e<0){pc(e);var t=yc(dc,fc);return e=Number(t),kc(e)?e:t}return Rc(t=String(e))?t:(pc(e),mc(dc,fc))}(e)}}(t))&&("string"==typeof t&&Sd(t),null!=t))switch(Rd(e,n,0),typeof t){case"number":e=e.g,pc(t),Td(e,dc,fc);break;case"bigint":n=BigInt.asUintN(64,t),n=new _d(Number(n&BigInt(4294967295)),Number(n>>BigInt(32))),Td(e.g,n.h,n.g);break;default:n=Sd(t),Td(e.g,n.h,n.g)}}),Fd()),jf=bf((function(e,t,n){return 0===e.h&&(xf(t,n,ed(e.g)),!0)}),kf,Vd),Ff=wf((function(e,t,n){return(0===e.h||2===e.h)&&(t=Eu(t,0|t[Nl],n,!1,!1),2==e.h?gd(e,ed,t):t.push(ed(e.g)),!0)}),(function(e,t,n){if(null!=(t=yf(Mc,t))&&t.length){n=Id(e,n);for(let n=0;n<t.length;n++)Nd(e.g,t[n]);Ld(e,n)}}),Vd),zf=bf((function(e,t,n){return 0===e.h&&(xf(t,n,0===(e=ed(e.g))?void 0:e),!0)}),kf,Vd),Bf=bf((function(e,t,n){return 0===e.h&&(xf(t,n,Ju(e.g)),!0)}),Ef,Bd),Uf=bf((function(e,t,n){return 0===e.h&&(xf(t,n,!1===(e=Ju(e.g))?void 0:e),!0)}),Ef,Bd),Vf=wf((function(e,t,n){return 2===e.h&&(e=hd(e),Eu(t,0|t[Nl],n,!1).push(e),!0)}),(function(e,t,n){if(null!=(t=yf(zc,t)))for(let a=0;a<t.length;a++){var r=e,o=n,i=t[a];null!=i&&Dd(r,o,Us(i))}}),Ud),Hf=bf((function(e,t,n){return 2===e.h&&(xf(t,n,""===(e=hd(e))?void 0:e),!0)}),Cf,Ud),Wf=bf((function(e,t,n){return 2===e.h&&(xf(t,n,hd(e)),!0)}),Cf,Ud),Gf=function(e,t){return new Kd(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:zd)}((function(e,t,n,r,o){return 2===e.h&&(r=su(void 0,r,!0),Eu(t,0|t[Nl],n,!0).push(r),fd(e,r,o),!0)}),(function(e,t,n,r,o){if(Array.isArray(t))for(let i=0;i<t.length;i++)Af(e,t[i],n,r,o)})),Xf=Yd((function(e,t,n,r,o,i){return 2===e.h&&(Tu(t,0|t[Nl],i,n),fd(e,t=Nu(t,r,n),o),!0)}),Af),qf=bf((function(e,t,n){return 2===e.h&&(xf(t,n,pd(e)),!0)}),Tf,Xd),Kf=wf((function(e,t,n){return(0===e.h||2===e.h)&&(t=Eu(t,0|t[Nl],n,!1,!1),2==e.h?gd(e,td,t):t.push(td(e.g)),!0)}),(function(e,t,n){if(null!=(t=yf(Oc,t)))for(let a=0;a<t.length;a++){var r=e,o=n,i=t[a];null!=i&&(Rd(r,o,0),Pd(r.g,i))}}),Hd),Yf=bf((function(e,t,n){return 0===e.h&&(xf(t,n,0===(e=td(e.g))?void 0:e),!0)}),(function(e,t,n){null!=(t=Oc(t))&&null!=t&&(Rd(e,n,0),Pd(e.g,t))}),Hd),$f=bf((function(e,t,n){return 0===e.h&&(xf(t,n,ed(e.g)),!0)}),(function(e,t,n){null!=(t=Mc(t))&&(t=parseInt(t,10),Rd(e,n,0),Nd(e.g,t))}),qd);class Qf{constructor(e,t){this.h=e,this.g=t,this.l=Ou,this.m=Lu,this.defaultValue=void 0}}function Zf(e,t){return new Qf(e,t)}function Jf(e,t){return(n,r)=>{if(md.length){const e=md.pop();e.o(r),id(e.g,n,r),n=e}else n=new class{constructor(e,t){if(cd.length){const n=cd.pop();id(n,e,t),e=n}else e=new class{constructor(e,t){this.h=null,this.m=!1,this.g=this.l=this.j=0,id(this,e,t)}clear(){this.h=null,this.m=!1,this.g=this.l=this.j=0,this.ba=!1}}(e,t);this.g=e,this.l=this.g.g,this.h=this.m=-1,this.o(t)}o(){let{fa:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.fa=e}}(n,r);try{const r=new e,i=r.u;df(t)(i,n);var o=r}finally{n.g.clear(),n.m=-1,n.h=-1,md.length<100&&md.push(n)}return o}}function eh(e){return function(){const t=new class{constructor(){this.l=[],this.h=0,this.g=new class{constructor(){this.g=[]}length(){return this.g.length}end(){const e=this.g;return this.g=[],e}}}};mf(this.u,t,af(Jd,hf,pf,e)),Od(t,t.g.end());const n=new Uint8Array(t.h),r=t.l,o=r.length;let i=0;for(let e=0;e<o;e++){const t=r[e];n.set(t,i),i+=t.length}return t.l=[n],n}}var th=class extends wd{constructor(e){super(e)}},nh=[0,Hf,bf((function(e,t,n){return 2===e.h&&(xf(t,n,(e=pd(e))===pl()?void 0:e),!0)}),(function(e,t,n){if(null!=t){if(t instanceof wd){const r=t.Ra;return void(r&&(t=r(t),null!=t&&Dd(e,n,Qu(t).buffer)))}if(Array.isArray(t))return}Tf(e,t,n)}),Xd)];let rh,oh=globalThis.trustedTypes;function ih(e){void 0===rh&&(rh=function(){let e=null;if(!oh)return e;try{const t=e=>e;e=oh.createPolicy("goog#html",{createHTML:t,createScript:t,createScriptURL:t})}catch(e){}return e}());var t=rh;return new class{constructor(e){this.g=e}toString(){return this.g+""}}(t?t.createScriptURL(e):e)}var ah=[0,jf,$f,Bf,-1,Ff,$f,-1],sh=class extends wd{constructor(e){super(e)}},lh=[0,Bf,Wf,Bf,$f,-1,wf((function(e,t,n){return(0===e.h||2===e.h)&&(t=Eu(t,0|t[Nl],n,!1,!1),2==e.h?gd(e,od,t):t.push(ed(e.g)),!0)}),(function(e,t,n){if(null!=(t=yf(Mc,t))&&t.length){n=Id(e,n);for(let n=0;n<t.length;n++)Nd(e.g,t[n]);Ld(e,n)}}),qd),Wf,-1,[0,Bf,-1],$f,Bf,-1],ch=[0,Wf,-2],uh=class extends wd{constructor(e){super(e)}},dh=[0],fh=[0,jf,Bf,1,Bf,-3],hh=class extends wd{constructor(e){super(e,2)}},ph={};ph[336783863]=[0,Wf,Bf,-1,jf,[0,[1,2,3,4,5,6,7,8],Xf,dh,Xf,lh,Xf,ch,Xf,fh,Xf,ah,Xf,[0,Wf,-2],Xf,[0,Wf,$f],Xf,[0,$f,Wf]],[0,Wf],Bf,[0,[1,3],[2,4],Xf,[0,Ff],-1,Xf,[0,Vf],-1,Gf,[0,Wf,-1]],Wf];var gh=[0,Lf,-1,Uf,-3,Lf,Ff,Hf,zf,Lf,-1,Uf,zf,Uf,-2,Hf];function mh(e,t){ku(e,2,Fc(t),"")}function vh(e,t){qu(e,3,t)}function yh(e,t){qu(e,4,t)}var bh=class extends wd{constructor(e){super(e,500)}o(e){return Lu(this,0,7,e)}},wh=[-1,{}],xh=[0,Wf,1,wh],Sh=[0,Wf,Vf,wh];function _h(e,t){zu(e,1,bh,t)}function kh(e,t){qu(e,10,t)}function Eh(e,t){qu(e,15,t)}var Ch=class extends wd{constructor(e){super(e,500)}o(e){return Lu(this,0,1001,e)}},Ah=[-500,Gf,[-500,Hf,-1,Vf,-3,[-2,ph,Bf],Gf,nh,zf,-1,xh,Sh,Gf,[0,Hf,Uf],Hf,gh,zf,Vf,987,Vf],4,Gf,[-500,Wf,-1,[-1,{}],998,Wf],Gf,[-500,Wf,Vf,-1,[-2,{},Bf],997,Vf,-1],zf,Gf,[-500,Wf,Vf,wh,998,Vf],Vf,zf,xh,Sh,Gf,[0,Hf,-1,wh],Vf,-2,gh,Hf,-1,Uf,[0,Uf,Yf],978,wh,Gf,nh];Ch.prototype.g=eh(Ah);var Th=Jf(Ch,Ah),Ph=class extends wd{constructor(e){super(e)}},Nh=class extends wd{constructor(e){super(e)}g(){return Iu(this,Ph,1)}},Mh=[0,Gf,[0,jf,Mf,Wf,-1]],Oh=Jf(Nh,Mh),Rh=class extends wd{constructor(e){super(e)}},Ih=class extends wd{constructor(e){super(e)}},Lh=class extends wd{constructor(e){super(e)}h(){return Ou(this,Rh,2)}g(){return Iu(this,Ih,5)}},Dh=Jf(class extends wd{constructor(e){super(e)}},[0,Vf,Ff,Rf,[0,$f,[0,jf,-3],[0,Mf,-3],[0,jf,-1,[0,Gf,[0,jf,-2]]],Gf,[0,Mf,-1,Wf,Mf]],Wf,-1,If,Gf,[0,jf,Mf],Vf,If]),jh=class extends wd{constructor(e){super(e)}},Fh=Jf(class extends wd{constructor(e){super(e)}},[0,Gf,[0,Mf,-4]]),zh=class extends wd{constructor(e){super(e)}},Bh=Jf(class extends wd{constructor(e){super(e)}},[0,Gf,[0,Mf,-4]]),Uh=class extends wd{constructor(e){super(e)}},Vh=[0,jf,-1,Rf,$f],Hh=class extends wd{constructor(e){super(e)}};Hh.prototype.g=eh([0,Mf,-4,If]);var Wh=class extends wd{constructor(e){super(e)}},Gh=Jf(class extends wd{constructor(e){super(e)}},[0,Gf,[0,1,jf,Wf,Mh],If]),Xh=class extends wd{constructor(e){super(e)}},qh=class extends wd{constructor(e){super(e)}oa(){const e=vu(this);return null==e?pl():e}},Kh=class extends wd{constructor(e){super(e)}},Yh=[1,2],$h=Jf(class extends wd{constructor(e){super(e)}},[0,Gf,[0,Yh,Xf,[0,Rf],Xf,[0,qf],jf,Wf],If]),Qh=class extends wd{constructor(e){super(e)}},Zh=[0,Wf,jf,Mf,Vf,-1],Jh=class extends wd{constructor(e){super(e)}},ep=[0,Bf,-1],tp=class extends wd{constructor(e){super(e)}},np=[1,2,3,4,5],rp=class extends wd{constructor(e){super(e)}g(){return null!=vu(this)}h(){return null!=Uu(this,2)}},op=class extends wd{constructor(e){super(e)}g(){var e;return null!==(e=Tc(fu(this,2)))&&void 0!==e&&e}},ip=[0,qf,Wf,[0,jf,If,-1],[0,Df,If]],ap=[0,ip,Bf,[0,np,Xf,fh,Xf,lh,Xf,ah,Xf,dh,Xf,ch],$f],sp=class extends wd{constructor(e){super(e)}},lp=[0,ap,Mf,-1,jf],cp=Zf(502141897,sp);ph[502141897]=lp;var up=Jf(class extends wd{constructor(e){super(e)}},[0,[0,$f,-1,Of,Kf],Vh]),dp=class extends wd{constructor(e){super(e)}},fp=class extends wd{constructor(e){super(e)}},hp=[0,ap,Mf,[0,ap],Bf],pp=[0,ap,lp,hp,Mf,[0,[0,ip]]],gp=Zf(508968150,fp);ph[508968150]=pp,ph[508968149]=hp;var mp=class extends wd{constructor(e){super(e)}},vp=Zf(513916220,mp);ph[513916220]=[0,ap,pp,jf];var yp=class extends wd{constructor(e){super(e)}h(){return Ou(this,Qh,2)}g(){pu(this,2)}},bp=[0,ap,Zh];ph[478825465]=bp;var wp=class extends wd{constructor(e){super(e)}},xp=class extends wd{constructor(e){super(e)}},Sp=class extends wd{constructor(e){super(e)}},_p=class extends wd{constructor(e){super(e)}},kp=class extends wd{constructor(e){super(e)}},Ep=[0,ap,[0,ap],bp,-1],Cp=[0,ap,Mf,jf],Ap=[0,ap,Mf],Tp=[0,ap,Cp,Ap,Mf],Pp=Zf(479097054,kp);ph[479097054]=[0,ap,Tp,Ep],ph[463370452]=Ep,ph[464864288]=Cp;var Np=Zf(462713202,_p);ph[462713202]=Tp,ph[474472470]=Ap;var Mp=class extends wd{constructor(e){super(e)}},Op=class extends wd{constructor(e){super(e)}},Rp=class extends wd{constructor(e){super(e)}},Ip=class extends wd{constructor(e){super(e)}},Lp=[0,ap,Mf,-1,jf],Dp=[0,ap,Mf,Bf];Ip.prototype.g=eh([0,ap,Ap,[0,ap],lp,hp,Lp,Dp]);var jp=class extends wd{constructor(e){super(e)}},Fp=Zf(456383383,jp);ph[456383383]=[0,ap,Zh];var zp=class extends wd{constructor(e){super(e)}},Bp=Zf(476348187,zp);ph[476348187]=[0,ap,ep];var Up=class extends wd{constructor(e){super(e)}},Vp=class extends wd{constructor(e){super(e)}},Hp=[0,$f,-1],Wp=Zf(458105876,class extends wd{constructor(e){super(e)}g(){var e=this.u;const t=0|e[Nl],n=2&t;return e=function(e,t,n){var r=Vp;const o=2&t;let i=!1;if(null==n){if(o)return tu();n=[]}else if(n.constructor===Kc){if(0==(2&n.L)||o)return n;n=n.X()}else Array.isArray(n)?i=!!(2&n[Nl]):n=[];if(o){if(!n.length)return tu();i||(i=!0,Ll(n))}else i&&(i=!1,n=_u(n));return i||(64&n[Nl]?n[Nl]&=-33:32&t&&Rl(n,32)),gu(e,t,2,r=new Kc(n,r,Uc,void 0)),r}(e,t,hu(e,t,2)),!n&&Vp&&(e.ra=!0),e}});ph[458105876]=[0,Hp,Sf,[!0,If,[0,Wf,-1,Vf]]];var Gp=class extends wd{constructor(e){super(e)}},Xp=Zf(458105758,Gp);ph[458105758]=[0,ap,Wf,Hp];var qp=class extends wd{constructor(e){super(e)}},Kp=Zf(443442058,qp);ph[443442058]=[0,ap,Wf,jf,Mf,Vf,-1,Bf,Mf],ph[514774813]=Lp;var Yp=class extends wd{constructor(e){super(e)}},$p=Zf(516587230,Yp);function Qp(e,t){return t=t?t.clone():new Qh,void 0!==e.displayNamesLocale?pu(t,1,Fc(e.displayNamesLocale)):void 0===e.displayNamesLocale&&pu(t,1),void 0!==e.maxResults?Wu(t,2,e.maxResults):"maxResults"in e&&pu(t,2),void 0!==e.scoreThreshold?Gu(t,3,e.scoreThreshold):"scoreThreshold"in e&&pu(t,3),void 0!==e.categoryAllowlist?Xu(t,4,e.categoryAllowlist):"categoryAllowlist"in e&&pu(t,4),void 0!==e.categoryDenylist?Xu(t,5,e.categoryDenylist):"categoryDenylist"in e&&pu(t,5),t}function Zp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{categories:e.map((e=>{var t,n,r,o,i,a,s;return{index:null!==(t=null!==(n=Bu(e,1))&&void 0!==n?n:0)&&void 0!==t?t:-1,score:null!==(r=Vu(e,2))&&void 0!==r?r:0,categoryName:null!==(o=null!==(i=Uu(e,3))&&void 0!==i?i:"")&&void 0!==o?o:"",displayName:null!==(a=null!==(s=Uu(e,4))&&void 0!==s?s:"")&&void 0!==a?a:""}})),headIndex:t,headName:n}}function Jp(e){var t,n,r,o,i,a,s=bu(e,3,Ac,yu()),l=bu(e,2,Mc,yu()),c=bu(e,1,zc,yu()),u=bu(e,9,zc,yu());const d={categories:[],keypoints:[]};for(let b=0;b<s.length;b++){var f,h,p;d.categories.push({score:s[b],index:null!==(f=l[b])&&void 0!==f?f:-1,categoryName:null!==(h=c[b])&&void 0!==h?h:"",displayName:null!==(p=u[b])&&void 0!==p?p:""})}if((s=null===(t=Ou(e,Lh,4))||void 0===t?void 0:t.h())&&(d.boundingBox={originX:null!==(n=Bu(s,1))&&void 0!==n?n:0,originY:null!==(r=Bu(s,2))&&void 0!==r?r:0,width:null!==(o=Bu(s,3))&&void 0!==o?o:0,height:null!==(i=Bu(s,4))&&void 0!==i?i:0,angle:0}),null!==(a=Ou(e,Lh,4))&&void 0!==a&&a.g().length)for(const b of Ou(e,Lh,4).g()){var g,m,v,y;d.keypoints.push({x:null!==(g=mu(b,1))&&void 0!==g?g:0,y:null!==(m=mu(b,2))&&void 0!==m?m:0,score:null!==(v=mu(b,4))&&void 0!==v?v:0,label:null!==(y=Uu(b,3))&&void 0!==y?y:""})}return d}function eg(e){const t=[];for(const a of Iu(e,zh,1)){var n,r,o,i;t.push({x:null!==(n=Vu(a,1))&&void 0!==n?n:0,y:null!==(r=Vu(a,2))&&void 0!==r?r:0,z:null!==(o=Vu(a,3))&&void 0!==o?o:0,visibility:null!==(i=Vu(a,4))&&void 0!==i?i:0})}return t}function tg(e){const t=[];for(const a of Iu(e,jh,1)){var n,r,o,i;t.push({x:null!==(n=Vu(a,1))&&void 0!==n?n:0,y:null!==(r=Vu(a,2))&&void 0!==r?r:0,z:null!==(o=Vu(a,3))&&void 0!==o?o:0,visibility:null!==(i=Vu(a,4))&&void 0!==i?i:0})}return t}function ng(e){return Array.from(e,(e=>e>127?e-256:e))}function rg(e,t){if(e.length!==t.length)throw Error("Cannot compute cosine similarity between embeddings of different sizes (".concat(e.length," vs. ").concat(t.length,")."));let n=0,r=0,o=0;for(let i=0;i<e.length;i++)n+=e[i]*t[i],r+=e[i]*e[i],o+=t[i]*t[i];if(r<=0||o<=0)throw Error("Cannot compute cosine similarity on embedding with 0 norm.");return n/Math.sqrt(r*o)}let og;ph[516587230]=[0,ap,Lp,Dp,Mf],ph[518928384]=Dp;const ig=new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]);async function ag(){if(void 0===og)try{await WebAssembly.instantiate(ig),og=!0}catch(e){og=!1}return og}async function sg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){if(0===(arguments.length<=1?0:arguments.length-1))return ih(e[0]);let t=e[0];for(let n=0;n<(arguments.length<=1?0:arguments.length-1);n++)t+=encodeURIComponent(n+1<1||arguments.length<=n+1?void 0:arguments[n+1])+e[n+1];return ih(t)}(Ns||(Ns=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}([""])));const n=await ag()?"wasm_internal":"wasm_nosimd_internal";return{wasmLoaderPath:"".concat(t,"/").concat(e,"_").concat(n,".js"),wasmBinaryPath:"".concat(t,"/").concat(e,"_").concat(n,".wasm")}}var lg=class{};function cg(){var e=navigator;return"undefined"!=typeof OffscreenCanvas&&(!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator;return(e=e.userAgent).includes("Safari")&&!e.includes("Chrome")}(e)||!!((e=e.userAgent.match(/Version\/([\d]+).*Safari/))&&e.length>=1&&Number(e[1])>=17))}async function ug(e){if("function"!=typeof importScripts){const t=document.createElement("script");return t.src=e.toString(),t.crossOrigin="anonymous",new Promise(((e,n)=>{t.addEventListener("load",(()=>{e()}),!1),t.addEventListener("error",(e=>{n(e)}),!1),document.body.appendChild(t)}))}importScripts(e.toString())}function dg(e){return void 0!==e.videoWidth?[e.videoWidth,e.videoHeight]:void 0!==e.naturalWidth?[e.naturalWidth,e.naturalHeight]:void 0!==e.displayWidth?[e.displayWidth,e.displayHeight]:[e.width,e.height]}function fg(e,t,n){e.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target"),n(t=e.i.stringToNewUTF8(t)),e.i._free(t)}function hg(e,t,n){if(!e.i.canvas)throw Error("No OpenGL canvas configured.");if(n?e.i._bindTextureToStream(n):e.i._bindTextureToCanvas(),!(n=e.i.canvas.getContext("webgl2")||e.i.canvas.getContext("webgl")))throw Error("Failed to obtain WebGL context from the provided canvas. `getContext()` should only be invoked with `webgl` or `webgl2`.");e.i.gpuOriginForWebTexturesIsBottomLeft&&n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t),e.i.gpuOriginForWebTexturesIsBottomLeft&&n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1);const[r,o]=dg(t);return!e.l||r===e.i.canvas.width&&o===e.i.canvas.height||(e.i.canvas.width=r,e.i.canvas.height=o),[r,o]}function pg(e,t,n){e.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");const r=new Uint32Array(t.length);for(let o=0;o<t.length;o++)r[o]=e.i.stringToNewUTF8(t[o]);t=e.i._malloc(4*r.length),e.i.HEAPU32.set(r,t>>2),n(t);for(const o of r)e.i._free(o);e.i._free(t)}function gg(e,t,n){e.i.simpleListeners=e.i.simpleListeners||{},e.i.simpleListeners[t]=n}function mg(e,t,n){let r=[];e.i.simpleListeners=e.i.simpleListeners||{},e.i.simpleListeners[t]=(e,t,o)=>{t?(n(r,o),r=[]):r.push(e)}}function vg(e,t){const n=Ou(e.baseOptions,rp,1)||new rp;"string"==typeof t?(pu(n,2,Fc(t)),pu(n,1)):t instanceof Uint8Array&&(pu(n,1,Gl(t,!1)),pu(n,2)),Lu(e.baseOptions,0,1,n)}function yg(e){try{const t=e.G.length;if(1===t)throw Error(e.G[0].message);if(t>1)throw Error("Encountered multiple errors: "+e.G.map((e=>e.message)).join(", "))}finally{e.G=[]}}function bg(e,t){e.B=Math.max(e.B,t)}function wg(e,t){e.A=new bh,mh(e.A,"PassThroughCalculator"),vh(e.A,"free_memory"),yh(e.A,"free_memory_unused_out"),kh(t,"free_memory"),_h(t,e.A)}function xg(e,t){vh(e.A,t),yh(e.A,t+"_unused_out")}function Sg(e){e.g.addBoolToStream(!0,"free_memory",e.B)}lg.forVisionTasks=function(e){return sg("vision",e)},lg.forTextTasks=function(e){return sg("text",e)},lg.forGenAiExperimentalTasks=function(e){return sg("genai_experimental",e)},lg.forGenAiTasks=function(e){return sg("genai",e)},lg.forAudioTasks=function(e){return sg("audio",e)},lg.isSimdSupported=function(){return ag()};var _g=class{constructor(e){this.g=e,this.G=[],this.B=0,this.g.setAutoRenderToScreen(!1)}l(e){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var t,n,r,o,i,a;const s=e.baseOptions||{};if(null!==(t=e.baseOptions)&&void 0!==t&&t.modelAssetBuffer&&null!==(n=e.baseOptions)&&void 0!==n&&n.modelAssetPath)throw Error("Cannot set both baseOptions.modelAssetPath and baseOptions.modelAssetBuffer");if(!(null!==(r=Ou(this.baseOptions,rp,1))&&void 0!==r&&r.g()||null!==(o=Ou(this.baseOptions,rp,1))&&void 0!==o&&o.h()||null!==(i=e.baseOptions)&&void 0!==i&&i.modelAssetBuffer||null!==(a=e.baseOptions)&&void 0!==a&&a.modelAssetPath))throw Error("Either baseOptions.modelAssetPath or baseOptions.modelAssetBuffer must be set");if(function(e,t){let n=Ou(e.baseOptions,tp,3);if(!n){var r=n=new tp,o=new uh;Du(r,4,np,o)}"delegate"in t&&("GPU"===t.delegate?(t=n,r=new sh,Du(t,2,np,r)):(t=n,r=new uh,Du(t,4,np,r))),Lu(e.baseOptions,0,3,n)}(this,s),s.modelAssetPath)return fetch(s.modelAssetPath.toString()).then((e=>{if(e.ok)return e.arrayBuffer();throw Error("Failed to fetch model: ".concat(s.modelAssetPath," (").concat(e.status,")"))})).then((e=>{try{this.g.i.FS_unlink("/model.dat")}catch(t){}this.g.i.FS_createDataFile("/","model.dat",new Uint8Array(e),!0,!1,!1),vg(this,"/model.dat"),this.m(),this.I()}));if(s.modelAssetBuffer instanceof Uint8Array)vg(this,s.modelAssetBuffer);else if(s.modelAssetBuffer)return async function(e){const t=[];for(var n=0;;){const{done:r,value:o}=await e.read();if(r)break;t.push(o),n+=o.length}if(0===t.length)return new Uint8Array(0);if(1===t.length)return t[0];e=new Uint8Array(n),n=0;for(const r of t)e.set(r,n),n+=r.length;return e}(s.modelAssetBuffer).then((e=>{vg(this,e),this.m(),this.I()}))}return this.m(),this.I(),Promise.resolve()}I(){}da(){let e;if(this.g.da((t=>{e=Th(t)})),!e)throw Error("Failed to retrieve CalculatorGraphConfig");return e}setGraph(e,t){this.g.attachErrorListener(((e,t)=>{this.G.push(Error(t))})),this.g.La(),this.g.setGraph(e,t),this.A=void 0,yg(this)}finishProcessing(){this.g.finishProcessing(),yg(this)}close(){this.A=void 0,this.g.closeGraph()}};function kg(e,t){if(!e)throw Error("Unable to obtain required WebGL resource: ".concat(t));return e}_g.prototype.close=_g.prototype.close,function(e,t){e=e.split(".");var n,r=Rs;e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}("TaskRunner",_g);class Eg{constructor(e,t,n,r){this.g=e,this.h=t,this.m=n,this.l=r}bind(){this.g.bindVertexArray(this.h)}close(){this.g.deleteVertexArray(this.h),this.g.deleteBuffer(this.m),this.g.deleteBuffer(this.l)}}function Cg(e,t,n){const r=e.g;if(n=kg(r.createShader(n),"Failed to create WebGL shader"),r.shaderSource(n,t),r.compileShader(n),!r.getShaderParameter(n,r.COMPILE_STATUS))throw Error("Could not compile WebGL shader: ".concat(r.getShaderInfoLog(n)));return r.attachShader(e.h,n),n}function Ag(e,t){const n=e.g,r=kg(n.createVertexArray(),"Failed to create vertex array");n.bindVertexArray(r);const o=kg(n.createBuffer(),"Failed to create buffer");n.bindBuffer(n.ARRAY_BUFFER,o),n.enableVertexAttribArray(e.O),n.vertexAttribPointer(e.O,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW);const i=kg(n.createBuffer(),"Failed to create buffer");return n.bindBuffer(n.ARRAY_BUFFER,i),n.enableVertexAttribArray(e.I),n.vertexAttribPointer(e.I,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array(t?[0,1,0,0,1,0,1,1]:[0,0,0,1,1,1,1,0]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.bindVertexArray(null),new Eg(n,r,o,i)}function Tg(e,t){if(e.g){if(t!==e.g)throw Error("Cannot change GL context once initialized")}else e.g=t}function Pg(e,t,n,r){return Tg(e,t),e.h||(e.m(),e.C()),n?(e.s||(e.s=Ag(e,!0)),n=e.s):(e.v||(e.v=Ag(e,!1)),n=e.v),t.useProgram(e.h),n.bind(),e.l(),e=r(),n.g.bindVertexArray(null),e}function Ng(e,t,n){return Tg(e,t),e=kg(t.createTexture(),"Failed to create texture"),t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,null!==n&&void 0!==n?n:t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,null!==n&&void 0!==n?n:t.LINEAR),t.bindTexture(t.TEXTURE_2D,null),e}function Mg(e,t,n){Tg(e,t),e.A||(e.A=kg(t.createFramebuffer(),"Failed to create framebuffe.")),t.bindFramebuffer(t.FRAMEBUFFER,e.A),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0)}function Og(e){var t;null===(t=e.g)||void 0===t||t.bindFramebuffer(e.g.FRAMEBUFFER,null)}var Rg=class{G(){return"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D inputTexture;\n  void main() {\n    gl_FragColor = texture2D(inputTexture, vTex);\n  }\n "}m(){const e=this.g;if(this.h=kg(e.createProgram(),"Failed to create WebGL program"),this.aa=Cg(this,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",e.VERTEX_SHADER),this.Z=Cg(this,this.G(),e.FRAGMENT_SHADER),e.linkProgram(this.h),!e.getProgramParameter(this.h,e.LINK_STATUS))throw Error("Error during program linking: ".concat(e.getProgramInfoLog(this.h)));this.O=e.getAttribLocation(this.h,"aVertex"),this.I=e.getAttribLocation(this.h,"aTex")}C(){}l(){}close(){if(this.h){const e=this.g;e.deleteProgram(this.h),e.deleteShader(this.aa),e.deleteShader(this.Z)}this.A&&this.g.deleteFramebuffer(this.A),this.v&&this.v.close(),this.s&&this.s.close()}},Ig=class extends Rg{G(){return"\n  precision mediump float;\n  uniform sampler2D backgroundTexture;\n  uniform sampler2D maskTexture;\n  uniform sampler2D colorMappingTexture;\n  varying vec2 vTex;\n  void main() {\n    vec4 backgroundColor = texture2D(backgroundTexture, vTex);\n    float category = texture2D(maskTexture, vTex).r;\n    vec4 categoryColor = texture2D(colorMappingTexture, vec2(category, 0.0));\n    gl_FragColor = mix(backgroundColor, categoryColor, categoryColor.a);\n  }\n "}C(){const e=this.g;e.activeTexture(e.TEXTURE1),this.B=Ng(this,e,e.LINEAR),e.activeTexture(e.TEXTURE2),this.j=Ng(this,e,e.NEAREST)}m(){super.m();const e=this.g;this.K=kg(e.getUniformLocation(this.h,"backgroundTexture"),"Uniform location"),this.T=kg(e.getUniformLocation(this.h,"colorMappingTexture"),"Uniform location"),this.J=kg(e.getUniformLocation(this.h,"maskTexture"),"Uniform location")}l(){super.l();const e=this.g;e.uniform1i(this.J,0),e.uniform1i(this.K,1),e.uniform1i(this.T,2)}close(){this.B&&this.g.deleteTexture(this.B),this.j&&this.g.deleteTexture(this.j),super.close()}},Lg=class extends Rg{G(){return"\n  precision mediump float;\n  uniform sampler2D maskTexture;\n  uniform sampler2D defaultTexture;\n  uniform sampler2D overlayTexture;\n  varying vec2 vTex;\n  void main() {\n    float confidence = texture2D(maskTexture, vTex).r;\n    vec4 defaultColor = texture2D(defaultTexture, vTex);\n    vec4 overlayColor = texture2D(overlayTexture, vTex);\n    // Apply the alpha from the overlay and merge in the default color\n    overlayColor = mix(defaultColor, overlayColor, overlayColor.a);\n    gl_FragColor = mix(defaultColor, overlayColor, confidence);\n  }\n "}C(){const e=this.g;e.activeTexture(e.TEXTURE1),this.j=Ng(this,e),e.activeTexture(e.TEXTURE2),this.B=Ng(this,e)}m(){super.m();const e=this.g;this.J=kg(e.getUniformLocation(this.h,"defaultTexture"),"Uniform location"),this.K=kg(e.getUniformLocation(this.h,"overlayTexture"),"Uniform location"),this.H=kg(e.getUniformLocation(this.h,"maskTexture"),"Uniform location")}l(){super.l();const e=this.g;e.uniform1i(this.H,0),e.uniform1i(this.J,1),e.uniform1i(this.K,2)}close(){this.j&&this.g.deleteTexture(this.j),this.B&&this.g.deleteTexture(this.B),super.close()}};function Dg(e,t){switch(t){case 0:return e.g.find((e=>e instanceof Uint8Array));case 1:return e.g.find((e=>e instanceof Float32Array));case 2:return e.g.find((e=>"undefined"!=typeof WebGLTexture&&e instanceof WebGLTexture));default:throw Error("Type is not supported: ".concat(t))}}function jg(e){var t=Dg(e,1);if(!t){if(t=Dg(e,0))t=new Float32Array(t).map((e=>e/255));else{t=new Float32Array(e.width*e.height);const r=zg(e);var n=Ug(e);if(Mg(n,r,Fg(e)),"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"document"in self&&"ontouchend"in self.document){n=new Float32Array(e.width*e.height*4),r.readPixels(0,0,e.width,e.height,r.RGBA,r.FLOAT,n);for(let e=0,r=0;e<t.length;++e,r+=4)t[e]=n[r]}else r.readPixels(0,0,e.width,e.height,r.RED,r.FLOAT,t)}e.g.push(t)}return t}function Fg(e){let t=Dg(e,2);if(!t){const n=zg(e);t=Vg(e);const r=jg(e),o=Bg(e);n.texImage2D(n.TEXTURE_2D,0,o,e.width,e.height,0,n.RED,n.FLOAT,r),Hg(e)}return t}function zg(e){if(!e.canvas)throw Error("Conversion to different image formats require that a canvas is passed when initializing the image.");return e.h||(e.h=kg(e.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),e.h}function Bg(e){if(e=zg(e),!Wg)if(e.getExtension("EXT_color_buffer_float")&&e.getExtension("OES_texture_float_linear")&&e.getExtension("EXT_float_blend"))Wg=e.R32F;else{if(!e.getExtension("EXT_color_buffer_half_float"))throw Error("GPU does not fully support 4-channel float32 or float16 formats");Wg=e.R16F}return Wg}function Ug(e){return e.l||(e.l=new Rg),e.l}function Vg(e){const t=zg(e);t.viewport(0,0,e.width,e.height),t.activeTexture(t.TEXTURE0);let n=Dg(e,2);return n||(n=Ng(Ug(e),t,e.m?t.LINEAR:t.NEAREST),e.g.push(n),e.j=!0),t.bindTexture(t.TEXTURE_2D,n),n}function Hg(e){e.h.bindTexture(e.h.TEXTURE_2D,null)}var Wg,Gg=class{constructor(e,t,n,r,o,i,a){this.g=e,this.m=t,this.j=n,this.canvas=r,this.l=o,this.width=i,this.height=a,this.j&&0===--Xg&&console.error("You seem to be creating MPMask instances without invoking .close(). This leaks resources.")}Fa(){return!!Dg(this,0)}ja(){return!!Dg(this,1)}P(){return!!Dg(this,2)}ia(){return(e=Dg(this,0))||(e=jg(this),e=new Uint8Array(e.map((e=>255*e))),this.g.push(e)),e;var e}ha(){return jg(this)}M(){return Fg(this)}clone(){const e=[];for(const t of this.g){let n;if(t instanceof Uint8Array)n=new Uint8Array(t);else if(t instanceof Float32Array)n=new Float32Array(t);else{if(!(t instanceof WebGLTexture))throw Error("Type is not supported: ".concat(t));{const e=zg(this),t=Ug(this);e.activeTexture(e.TEXTURE1),n=Ng(t,e,this.m?e.LINEAR:e.NEAREST),e.bindTexture(e.TEXTURE_2D,n);const r=Bg(this);e.texImage2D(e.TEXTURE_2D,0,r,this.width,this.height,0,e.RED,e.FLOAT,null),e.bindTexture(e.TEXTURE_2D,null),Mg(t,e,n),Pg(t,e,!1,(()=>{Vg(this),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_FAN,0,4),Hg(this)})),Og(t),Hg(this)}}e.push(n)}return new Gg(e,this.m,this.P(),this.canvas,this.l,this.width,this.height)}close(){this.j&&zg(this).deleteTexture(Dg(this,2)),Xg=-1}};Gg.prototype.close=Gg.prototype.close,Gg.prototype.clone=Gg.prototype.clone,Gg.prototype.getAsWebGLTexture=Gg.prototype.M,Gg.prototype.getAsFloat32Array=Gg.prototype.ha,Gg.prototype.getAsUint8Array=Gg.prototype.ia,Gg.prototype.hasWebGLTexture=Gg.prototype.P,Gg.prototype.hasFloat32Array=Gg.prototype.ja,Gg.prototype.hasUint8Array=Gg.prototype.Fa;var Xg=250;const qg={color:"white",lineWidth:4,radius:6};function Kg(e){return s(s({},qg),{},{fillColor:(e=e||{}).color},e)}function Yg(e,t){return e instanceof Function?e(t):e}function $g(e,t,n){return Math.max(Math.min(t,n),Math.min(Math.max(t,n),e))}function Qg(e){if(!e.l)throw Error("CPU rendering requested but CanvasRenderingContext2D not provided.");return e.l}function Zg(e){if(!e.j)throw Error("GPU rendering requested but WebGL2RenderingContext not provided.");return e.j}function Jg(e,t,n){if(t.P())n(t.M());else{var r;const o=t.ja()?t.ha():t.ia();e.m=null!==(r=e.m)&&void 0!==r?r:new Rg;const i=Zg(e);n((e=new Gg([o],t.m,!1,i.canvas,e.m,t.width,t.height)).M()),e.close()}}function em(e,t,n,r){const o=function(e){return e.g||(e.g=new Ig),e.g}(e),i=Zg(e),a=Array.isArray(n)?new ImageData(new Uint8ClampedArray(n),1,1):n;Pg(o,i,!0,(()=>{!function(e,t,n,r){const o=e.g;if(o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,t),o.activeTexture(o.TEXTURE1),o.bindTexture(o.TEXTURE_2D,e.B),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,n),e.H&&function(e,t){if(e!==t)return!1;e=e.entries(),t=t.entries();for(const[r,o]of e){e=r;const i=o;var n=t.next();if(n.done)return!1;const[a,s]=n.value;if(n=s,e!==a||i[0]!==n[0]||i[1]!==n[1]||i[2]!==n[2]||i[3]!==n[3])return!1}return!!t.next().done}(e.H,r))o.activeTexture(o.TEXTURE2),o.bindTexture(o.TEXTURE_2D,e.j);else{e.H=r;const t=Array(1024).fill(0);r.forEach(((e,n)=>{if(4!==e.length)throw Error("Color at index ".concat(n," is not a four-channel value."));t[4*n]=e[0],t[4*n+1]=e[1],t[4*n+2]=e[2],t[4*n+3]=e[3]})),o.activeTexture(o.TEXTURE2),o.bindTexture(o.TEXTURE_2D,e.j),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,256,1,0,o.RGBA,o.UNSIGNED_BYTE,new Uint8Array(t))}}(o,t,a,r),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.drawArrays(i.TRIANGLE_FAN,0,4);const e=o.g;e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE2),e.bindTexture(e.TEXTURE_2D,null)}))}function tm(e,t,n,r){const o=Zg(e),i=function(e){return e.h||(e.h=new Lg),e.h}(e),a=Array.isArray(n)?new ImageData(new Uint8ClampedArray(n),1,1):n,s=Array.isArray(r)?new ImageData(new Uint8ClampedArray(r),1,1):r;Pg(i,o,!0,(()=>{var e=i.g;e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,i.j),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,a),e.activeTexture(e.TEXTURE2),e.bindTexture(e.TEXTURE_2D,i.B),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,s),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.drawArrays(o.TRIANGLE_FAN,0,4),o.bindTexture(o.TEXTURE_2D,null),(e=i.g).activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE2),e.bindTexture(e.TEXTURE_2D,null)}))}var nm=class{constructor(e,t){e instanceof CanvasRenderingContext2D||e instanceof OffscreenCanvasRenderingContext2D?(this.l=e,this.j=t):this.j=e}ya(e,t){if(e){var n=Qg(this);t=Kg(t),n.save();var r=n.canvas,o=0;for(const i of e)n.fillStyle=Yg(t.fillColor,{index:o,from:i}),n.strokeStyle=Yg(t.color,{index:o,from:i}),n.lineWidth=Yg(t.lineWidth,{index:o,from:i}),(e=new Path2D).arc(i.x*r.width,i.y*r.height,Yg(t.radius,{index:o,from:i}),0,2*Math.PI),n.fill(e),n.stroke(e),++o;n.restore()}}xa(e,t,n){if(e&&t){var r=Qg(this);n=Kg(n),r.save();var o=r.canvas,i=0;for(const a of t){r.beginPath(),t=e[a.start];const s=e[a.end];t&&s&&(r.strokeStyle=Yg(n.color,{index:i,from:t,to:s}),r.lineWidth=Yg(n.lineWidth,{index:i,from:t,to:s}),r.moveTo(t.x*o.width,t.y*o.height),r.lineTo(s.x*o.width,s.y*o.height)),++i,r.stroke()}r.restore()}}ua(e,t){const n=Qg(this);t=Kg(t),n.save(),n.beginPath(),n.lineWidth=Yg(t.lineWidth,{}),n.strokeStyle=Yg(t.color,{}),n.fillStyle=Yg(t.fillColor,{}),n.moveTo(e.originX,e.originY),n.lineTo(e.originX+e.width,e.originY),n.lineTo(e.originX+e.width,e.originY+e.height),n.lineTo(e.originX,e.originY+e.height),n.lineTo(e.originX,e.originY),n.stroke(),n.fill(),n.restore()}va(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,0,255];this.l?function(e,t,n,r){const o=Zg(e);Jg(e,t,(t=>{em(e,t,n,r),(t=Qg(e)).drawImage(o.canvas,0,0,t.canvas.width,t.canvas.height)}))}(this,e,n,t):em(this,e.M(),n,t)}wa(e,t,n){this.l?function(e,t,n,r){const o=Zg(e);Jg(e,t,(t=>{tm(e,t,n,r),(t=Qg(e)).drawImage(o.canvas,0,0,t.canvas.width,t.canvas.height)}))}(this,e,t,n):tm(this,e.M(),t,n)}close(){var e,t,n;null!==(e=this.g)&&void 0!==e&&e.close(),this.g=void 0,null!==(t=this.h)&&void 0!==t&&t.close(),this.h=void 0,null!==(n=this.m)&&void 0!==n&&n.close(),this.m=void 0}};function rm(e,t){switch(t){case 0:return e.g.find((e=>e instanceof ImageData));case 1:return e.g.find((e=>"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap));case 2:return e.g.find((e=>"undefined"!=typeof WebGLTexture&&e instanceof WebGLTexture));default:throw Error("Type is not supported: ".concat(t))}}function om(e){var t=rm(e,0);if(!t){t=am(e);const n=sm(e),r=new Uint8Array(e.width*e.height*4);Mg(n,t,im(e)),t.readPixels(0,0,e.width,e.height,t.RGBA,t.UNSIGNED_BYTE,r),Og(n),t=new ImageData(new Uint8ClampedArray(r.buffer),e.width,e.height),e.g.push(t)}return t}function im(e){let t=rm(e,2);if(!t){const n=am(e);t=lm(e);const r=rm(e,1)||om(e);n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r),cm(e)}return t}function am(e){if(!e.canvas)throw Error("Conversion to different image formats require that a canvas is passed when initializing the image.");return e.h||(e.h=kg(e.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),e.h}function sm(e){return e.l||(e.l=new Rg),e.l}function lm(e){const t=am(e);t.viewport(0,0,e.width,e.height),t.activeTexture(t.TEXTURE0);let n=rm(e,2);return n||(n=Ng(sm(e),t),e.g.push(n),e.m=!0),t.bindTexture(t.TEXTURE_2D,n),n}function cm(e){e.h.bindTexture(e.h.TEXTURE_2D,null)}function um(e){const t=am(e);return Pg(sm(e),t,!0,(()=>function(e,t){const n=e.canvas;if(n.width===e.width&&n.height===e.height)return t();const r=n.width,o=n.height;return n.width=e.width,n.height=e.height,e=t(),n.width=r,n.height=o,e}(e,(()=>{if(t.bindFramebuffer(t.FRAMEBUFFER,null),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.drawArrays(t.TRIANGLE_FAN,0,4),!(e.canvas instanceof OffscreenCanvas))throw Error("Conversion to ImageBitmap requires that the MediaPipe Tasks is initialized with an OffscreenCanvas");return e.canvas.transferToImageBitmap()}))))}nm.prototype.close=nm.prototype.close,nm.prototype.drawConfidenceMask=nm.prototype.wa,nm.prototype.drawCategoryMask=nm.prototype.va,nm.prototype.drawBoundingBox=nm.prototype.ua,nm.prototype.drawConnectors=nm.prototype.xa,nm.prototype.drawLandmarks=nm.prototype.ya,nm.lerp=function(e,t,n,r,o){return $g(r*(1-(e-t)/(n-t))+o*(1-(n-e)/(n-t)),r,o)},nm.clamp=$g;var dm=class{constructor(e,t,n,r,o,i,a){this.g=e,this.j=t,this.m=n,this.canvas=r,this.l=o,this.width=i,this.height=a,(this.j||this.m)&&0===--fm&&console.error("You seem to be creating MPImage instances without invoking .close(). This leaks resources.")}Ea(){return!!rm(this,0)}ka(){return!!rm(this,1)}P(){return!!rm(this,2)}Ca(){return om(this)}Ba(){var e=rm(this,1);return e||(im(this),lm(this),e=um(this),cm(this),this.g.push(e),this.j=!0),e}M(){return im(this)}clone(){const e=[];for(const t of this.g){let n;if(t instanceof ImageData)n=new ImageData(t.data,this.width,this.height);else if(t instanceof WebGLTexture){const e=am(this),t=sm(this);e.activeTexture(e.TEXTURE1),n=Ng(t,e),e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindTexture(e.TEXTURE_2D,null),Mg(t,e,n),Pg(t,e,!1,(()=>{lm(this),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_FAN,0,4),cm(this)})),Og(t),cm(this)}else{if(!(t instanceof ImageBitmap))throw Error("Type is not supported: ".concat(t));im(this),lm(this),n=um(this),cm(this)}e.push(n)}return new dm(e,this.ka(),this.P(),this.canvas,this.l,this.width,this.height)}close(){this.j&&rm(this,1).close(),this.m&&am(this).deleteTexture(rm(this,2)),fm=-1}};dm.prototype.close=dm.prototype.close,dm.prototype.clone=dm.prototype.clone,dm.prototype.getAsWebGLTexture=dm.prototype.M,dm.prototype.getAsImageBitmap=dm.prototype.Ba,dm.prototype.getAsImageData=dm.prototype.Ca,dm.prototype.hasWebGLTexture=dm.prototype.P,dm.prototype.hasImageBitmap=dm.prototype.ka,dm.prototype.hasImageData=dm.prototype.Ea;var fm=250;function hm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((e=>{let[t,n]=e;return{start:t,end:n}}))}const pm=function(e){return class extends e{La(){this.i._registerModelResourcesGraphService()}}}((gm=class{constructor(e,t){this.l=!0,this.i=e,this.g=null,this.h=0,this.m="function"==typeof this.i._addIntToInputStream,void 0!==t?this.i.canvas=t:cg()?this.i.canvas=new OffscreenCanvas(1,1):(console.warn("OffscreenCanvas not supported and GraphRunner constructor glCanvas parameter is undefined. Creating backup canvas."),this.i.canvas=document.createElement("canvas"))}async initializeGraph(e){const t=await(await fetch(e)).arrayBuffer();e=!(e.endsWith(".pbtxt")||e.endsWith(".textproto")),this.setGraph(new Uint8Array(t),e)}setGraphFromString(e){this.setGraph((new TextEncoder).encode(e),!1)}setGraph(e,t){const n=e.length,r=this.i._malloc(n);this.i.HEAPU8.set(e,r),t?this.i._changeBinaryGraph(n,r):this.i._changeTextGraph(n,r),this.i._free(r)}configureAudio(e,t,n,r,o){this.i._configureAudio||console.warn('Attempting to use configureAudio without support for input audio. Is build dep ":gl_graph_runner_audio" missing?'),fg(this,r||"input_audio",(r=>{fg(this,o=o||"audio_header",(o=>{this.i._configureAudio(r,o,e,null!==t&&void 0!==t?t:0,n)}))}))}setAutoResizeCanvas(e){this.l=e}setAutoRenderToScreen(e){this.i._setAutoRenderToScreen(e)}setGpuBufferVerticalFlip(e){this.i.gpuOriginForWebTexturesIsBottomLeft=e}da(e){gg(this,"__graph_config__",(t=>{e(t)})),fg(this,"__graph_config__",(e=>{this.i._getGraphConfig(e,void 0)})),delete this.i.simpleListeners.__graph_config__}attachErrorListener(e){this.i.errorListener=e}attachEmptyPacketListener(e,t){this.i.emptyPacketListeners=this.i.emptyPacketListeners||{},this.i.emptyPacketListeners[e]=t}addAudioToStream(e,t,n){this.addAudioToStreamWithShape(e,0,0,t,n)}addAudioToStreamWithShape(e,t,n,r,o){const i=4*e.length;this.h!==i&&(this.g&&this.i._free(this.g),this.g=this.i._malloc(i),this.h=i),this.i.HEAPF32.set(e,this.g/4),fg(this,r,(e=>{this.i._addAudioToInputStream(this.g,t,n,e,o)}))}addGpuBufferToStream(e,t,n){fg(this,t,(t=>{const[r,o]=hg(this,e,t);this.i._addBoundTextureToStream(t,r,o,n)}))}addBoolToStream(e,t,n){fg(this,t,(t=>{this.i._addBoolToInputStream(e,t,n)}))}addDoubleToStream(e,t,n){fg(this,t,(t=>{this.i._addDoubleToInputStream(e,t,n)}))}addFloatToStream(e,t,n){fg(this,t,(t=>{this.i._addFloatToInputStream(e,t,n)}))}addIntToStream(e,t,n){fg(this,t,(t=>{this.i._addIntToInputStream(e,t,n)}))}addUintToStream(e,t,n){fg(this,t,(t=>{this.i._addUintToInputStream(e,t,n)}))}addStringToStream(e,t,n){fg(this,t,(t=>{fg(this,e,(e=>{this.i._addStringToInputStream(e,t,n)}))}))}addStringRecordToStream(e,t,n){fg(this,t,(t=>{pg(this,Object.keys(e),(r=>{pg(this,Object.values(e),(o=>{this.i._addFlatHashMapToInputStream(r,o,Object.keys(e).length,t,n)}))}))}))}addProtoToStream(e,t,n,r){fg(this,n,(n=>{fg(this,t,(t=>{const o=this.i._malloc(e.length);this.i.HEAPU8.set(e,o),this.i._addProtoToInputStream(o,e.length,t,n,r),this.i._free(o)}))}))}addEmptyPacketToStream(e,t){fg(this,e,(e=>{this.i._addEmptyPacketToInputStream(e,t)}))}addBoolVectorToStream(e,t,n){fg(this,t,(t=>{const r=this.i._allocateBoolVector(e.length);if(!r)throw Error("Unable to allocate new bool vector on heap.");for(const n of e)this.i._addBoolVectorEntry(r,n);this.i._addBoolVectorToInputStream(r,t,n)}))}addDoubleVectorToStream(e,t,n){fg(this,t,(t=>{const r=this.i._allocateDoubleVector(e.length);if(!r)throw Error("Unable to allocate new double vector on heap.");for(const n of e)this.i._addDoubleVectorEntry(r,n);this.i._addDoubleVectorToInputStream(r,t,n)}))}addFloatVectorToStream(e,t,n){fg(this,t,(t=>{const r=this.i._allocateFloatVector(e.length);if(!r)throw Error("Unable to allocate new float vector on heap.");for(const n of e)this.i._addFloatVectorEntry(r,n);this.i._addFloatVectorToInputStream(r,t,n)}))}addIntVectorToStream(e,t,n){fg(this,t,(t=>{const r=this.i._allocateIntVector(e.length);if(!r)throw Error("Unable to allocate new int vector on heap.");for(const n of e)this.i._addIntVectorEntry(r,n);this.i._addIntVectorToInputStream(r,t,n)}))}addUintVectorToStream(e,t,n){fg(this,t,(t=>{const r=this.i._allocateUintVector(e.length);if(!r)throw Error("Unable to allocate new unsigned int vector on heap.");for(const n of e)this.i._addUintVectorEntry(r,n);this.i._addUintVectorToInputStream(r,t,n)}))}addStringVectorToStream(e,t,n){fg(this,t,(t=>{const r=this.i._allocateStringVector(e.length);if(!r)throw Error("Unable to allocate new string vector on heap.");for(const n of e)fg(this,n,(e=>{this.i._addStringVectorEntry(r,e)}));this.i._addStringVectorToInputStream(r,t,n)}))}addBoolToInputSidePacket(e,t){fg(this,t,(t=>{this.i._addBoolToInputSidePacket(e,t)}))}addDoubleToInputSidePacket(e,t){fg(this,t,(t=>{this.i._addDoubleToInputSidePacket(e,t)}))}addFloatToInputSidePacket(e,t){fg(this,t,(t=>{this.i._addFloatToInputSidePacket(e,t)}))}addIntToInputSidePacket(e,t){fg(this,t,(t=>{this.i._addIntToInputSidePacket(e,t)}))}addUintToInputSidePacket(e,t){fg(this,t,(t=>{this.i._addUintToInputSidePacket(e,t)}))}addStringToInputSidePacket(e,t){fg(this,t,(t=>{fg(this,e,(e=>{this.i._addStringToInputSidePacket(e,t)}))}))}addProtoToInputSidePacket(e,t,n){fg(this,n,(n=>{fg(this,t,(t=>{const r=this.i._malloc(e.length);this.i.HEAPU8.set(e,r),this.i._addProtoToInputSidePacket(r,e.length,t,n),this.i._free(r)}))}))}addBoolVectorToInputSidePacket(e,t){fg(this,t,(t=>{const n=this.i._allocateBoolVector(e.length);if(!n)throw Error("Unable to allocate new bool vector on heap.");for(const r of e)this.i._addBoolVectorEntry(n,r);this.i._addBoolVectorToInputSidePacket(n,t)}))}addDoubleVectorToInputSidePacket(e,t){fg(this,t,(t=>{const n=this.i._allocateDoubleVector(e.length);if(!n)throw Error("Unable to allocate new double vector on heap.");for(const r of e)this.i._addDoubleVectorEntry(n,r);this.i._addDoubleVectorToInputSidePacket(n,t)}))}addFloatVectorToInputSidePacket(e,t){fg(this,t,(t=>{const n=this.i._allocateFloatVector(e.length);if(!n)throw Error("Unable to allocate new float vector on heap.");for(const r of e)this.i._addFloatVectorEntry(n,r);this.i._addFloatVectorToInputSidePacket(n,t)}))}addIntVectorToInputSidePacket(e,t){fg(this,t,(t=>{const n=this.i._allocateIntVector(e.length);if(!n)throw Error("Unable to allocate new int vector on heap.");for(const r of e)this.i._addIntVectorEntry(n,r);this.i._addIntVectorToInputSidePacket(n,t)}))}addUintVectorToInputSidePacket(e,t){fg(this,t,(t=>{const n=this.i._allocateUintVector(e.length);if(!n)throw Error("Unable to allocate new unsigned int vector on heap.");for(const r of e)this.i._addUintVectorEntry(n,r);this.i._addUintVectorToInputSidePacket(n,t)}))}addStringVectorToInputSidePacket(e,t){fg(this,t,(t=>{const n=this.i._allocateStringVector(e.length);if(!n)throw Error("Unable to allocate new string vector on heap.");for(const r of e)fg(this,r,(e=>{this.i._addStringVectorEntry(n,e)}));this.i._addStringVectorToInputSidePacket(n,t)}))}attachBoolListener(e,t){gg(this,e,t),fg(this,e,(e=>{this.i._attachBoolListener(e)}))}attachBoolVectorListener(e,t){mg(this,e,t),fg(this,e,(e=>{this.i._attachBoolVectorListener(e)}))}attachIntListener(e,t){gg(this,e,t),fg(this,e,(e=>{this.i._attachIntListener(e)}))}attachIntVectorListener(e,t){mg(this,e,t),fg(this,e,(e=>{this.i._attachIntVectorListener(e)}))}attachUintListener(e,t){gg(this,e,t),fg(this,e,(e=>{this.i._attachUintListener(e)}))}attachUintVectorListener(e,t){mg(this,e,t),fg(this,e,(e=>{this.i._attachUintVectorListener(e)}))}attachDoubleListener(e,t){gg(this,e,t),fg(this,e,(e=>{this.i._attachDoubleListener(e)}))}attachDoubleVectorListener(e,t){mg(this,e,t),fg(this,e,(e=>{this.i._attachDoubleVectorListener(e)}))}attachFloatListener(e,t){gg(this,e,t),fg(this,e,(e=>{this.i._attachFloatListener(e)}))}attachFloatVectorListener(e,t){mg(this,e,t),fg(this,e,(e=>{this.i._attachFloatVectorListener(e)}))}attachStringListener(e,t){gg(this,e,t),fg(this,e,(e=>{this.i._attachStringListener(e)}))}attachStringVectorListener(e,t){mg(this,e,t),fg(this,e,(e=>{this.i._attachStringVectorListener(e)}))}attachProtoListener(e,t,n){gg(this,e,t),fg(this,e,(e=>{this.i._attachProtoListener(e,n||!1)}))}attachProtoVectorListener(e,t,n){mg(this,e,t),fg(this,e,(e=>{this.i._attachProtoVectorListener(e,n||!1)}))}attachAudioListener(e,t,n){this.i._attachAudioListener||console.warn('Attempting to use attachAudioListener without support for output audio. Is build dep ":gl_graph_runner_audio_out" missing?'),gg(this,e,((e,n)=>{e=new Float32Array(e.buffer,e.byteOffset,e.length/4),t(e,n)})),fg(this,e,(e=>{this.i._attachAudioListener(e,n||!1)}))}finishProcessing(){this.i._waitUntilIdle()}closeGraph(){this.i._closeGraph(),this.i.simpleListeners=void 0,this.i.emptyPacketListeners=void 0}},class extends gm{get ea(){return this.i}qa(e,t,n){fg(this,t,(t=>{const[r,o]=hg(this,e,t);this.ea._addBoundTextureAsImageToStream(t,r,o,n)}))}U(e,t){gg(this,e,t),fg(this,e,(e=>{this.ea._attachImageListener(e)}))}ca(e,t){mg(this,e,t),fg(this,e,(e=>{this.ea._attachImageVectorListener(e)}))}}));var gm,mm=class extends pm{};async function vm(e,t,n){var r;return async function(e,t,n,r){return async function(e,t,n,r){return e=await(async(e,t,n,r,o)=>{if(t&&await ug(t),!self.ModuleFactory)throw Error("ModuleFactory not set.");if(n&&(await ug(n),!self.ModuleFactory))throw Error("ModuleFactory not set.");return self.Module&&o&&((t=self.Module).locateFile=o.locateFile,o.mainScriptUrlOrBlob&&(t.mainScriptUrlOrBlob=o.mainScriptUrlOrBlob)),o=await self.ModuleFactory(self.Module||o),self.ModuleFactory=self.Module=void 0,new e(o,r)})(e,n.wasmLoaderPath,n.assetLoaderPath,t,{locateFile:e=>e.endsWith(".wasm")?n.wasmBinaryPath.toString():n.assetBinaryPath&&e.endsWith(".data")?n.assetBinaryPath.toString():e}),await e.o(r),e}(e,t,n,r)}(e,null!==(r=n.canvas)&&void 0!==r?r:cg()?void 0:document.createElement("canvas"),t,n)}function ym(e,t,n,r){if(e.T){var o,i;const c=new Hh;if(null!==(o=n)&&void 0!==o&&o.regionOfInterest){if(!e.pa)throw Error("This task doesn't support region-of-interest.");var a=n.regionOfInterest;if(a.left>=a.right||a.top>=a.bottom)throw Error("Expected RectF with left < right and top < bottom.");if(a.left<0||a.top<0||a.right>1||a.bottom>1)throw Error("Expected RectF values to be in [0,1].");Gu(c,1,(a.left+a.right)/2),Gu(c,2,(a.top+a.bottom)/2),Gu(c,4,a.right-a.left),Gu(c,3,a.bottom-a.top)}else Gu(c,1,.5),Gu(c,2,.5),Gu(c,4,1),Gu(c,3,1);if(null!==(i=n)&&void 0!==i&&i.rotationDegrees){var s,l;if((null===(s=n)||void 0===s?void 0:s.rotationDegrees)%90!=0)throw Error("Expected rotation to be a multiple of 90\xb0.");if(Gu(c,5,-Math.PI*n.rotationDegrees/180),(null===(l=n)||void 0===l?void 0:l.rotationDegrees)%180!=0){const[e,r]=dg(t);n=Vu(c,3)*r/e,a=Vu(c,4)*e/r,Gu(c,4,n),Gu(c,3,a)}}e.g.addProtoToStream(c.g(),"mediapipe.NormalizedRect",e.T,r)}e.g.qa(t,e.aa,null!==r&&void 0!==r?r:performance.now()),e.finishProcessing()}function bm(e,t,n){var r;if(null!==(r=e.baseOptions)&&void 0!==r&&r.g())throw Error("Task is not initialized with image mode. 'runningMode' must be set to 'IMAGE'.");ym(e,t,n,e.B+1)}function wm(e,t,n,r){var o;if(null===(o=e.baseOptions)||void 0===o||!o.g())throw Error("Task is not initialized with video mode. 'runningMode' must be set to 'VIDEO'.");ym(e,t,n,r)}function xm(e,t,n,r){var o=t.data;const i=t.width,a=i*(t=t.height);if((o instanceof Uint8Array||o instanceof Float32Array)&&o.length!==a)throw Error("Unsupported channel count: "+o.length/a);return e=new Gg([o],n,!1,e.g.i.canvas,e.O,i,t),r?e.clone():e}var Sm=class extends _g{constructor(e,t,n,r){super(e),this.g=e,this.aa=t,this.T=n,this.pa=r,this.O=new Rg}l(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("runningMode"in e&&Hu(this.baseOptions,2,!!e.runningMode&&"IMAGE"!==e.runningMode),void 0!==e.canvas&&this.g.i.canvas!==e.canvas)throw Error("You must create a new task to reset the canvas.");return super.l(e,t)}close(){this.O.close(),super.close()}};Sm.prototype.close=Sm.prototype.close;var _m=class extends Sm{constructor(e,t){super(new mm(e,t),"image_in","norm_rect_in",!1),this.j={detections:[]},Lu(e=this.h=new sp,0,1,t=new op),Gu(this.h,2,.5),Gu(this.h,3,.3)}get baseOptions(){return Ou(this.h,op,1)}set baseOptions(e){Lu(this.h,0,1,e)}o(e){var t,n;return"minDetectionConfidence"in e&&Gu(this.h,2,null!==(t=e.minDetectionConfidence)&&void 0!==t?t:.5),"minSuppressionThreshold"in e&&Gu(this.h,3,null!==(n=e.minSuppressionThreshold)&&void 0!==n?n:.3),this.l(e)}D(e,t){return this.j={detections:[]},bm(this,e,t),this.j}F(e,t,n){return this.j={detections:[]},wm(this,e,n,t),this.j}m(){var e=new Ch;kh(e,"image_in"),kh(e,"norm_rect_in"),Eh(e,"detections");const t=new hh;bd(t,cp,this.h);const n=new bh;mh(n,"mediapipe.tasks.vision.face_detector.FaceDetectorGraph"),vh(n,"IMAGE:image_in"),vh(n,"NORM_RECT:norm_rect_in"),yh(n,"DETECTIONS:detections"),n.o(t),_h(e,n),this.g.attachProtoVectorListener("detections",((e,t)=>{for(const n of e)e=Dh(n),this.j.detections.push(Jp(e));bg(this,t)})),this.g.attachEmptyPacketListener("detections",(e=>{bg(this,e)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};_m.prototype.detectForVideo=_m.prototype.F,_m.prototype.detect=_m.prototype.D,_m.prototype.setOptions=_m.prototype.o,_m.createFromModelPath=async function(e,t){return vm(_m,e,{baseOptions:{modelAssetPath:t}})},_m.createFromModelBuffer=function(e,t){return vm(_m,e,{baseOptions:{modelAssetBuffer:t}})},_m.createFromOptions=function(e,t){return vm(_m,e,t)};var km=hm([61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]),Em=hm([263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]),Cm=hm([276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]),Am=hm([474,475],[475,476],[476,477],[477,474]),Tm=hm([33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]),Pm=hm([46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]),Nm=hm([469,470],[470,471],[471,472],[472,469]),Mm=hm([10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]),Om=[...km,...Em,...Cm,...Tm,...Pm,...Mm],Rm=hm([127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]);function Im(e){e.j={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]}}var Lm=class extends Sm{constructor(e,t){super(new mm(e,t),"image_in","norm_rect",!1),this.j={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]},this.outputFacialTransformationMatrixes=this.outputFaceBlendshapes=!1,Lu(e=this.h=new fp,0,1,t=new op),this.v=new dp,Lu(this.h,0,3,this.v),this.s=new sp,Lu(this.h,0,2,this.s),Wu(this.s,4,1),Gu(this.s,2,.5),Gu(this.v,2,.5),Gu(this.h,4,.5)}get baseOptions(){return Ou(this.h,op,1)}set baseOptions(e){Lu(this.h,0,1,e)}o(e){var t,n,r,o;return"numFaces"in e&&Wu(this.s,4,null!==(t=e.numFaces)&&void 0!==t?t:1),"minFaceDetectionConfidence"in e&&Gu(this.s,2,null!==(n=e.minFaceDetectionConfidence)&&void 0!==n?n:.5),"minTrackingConfidence"in e&&Gu(this.h,4,null!==(r=e.minTrackingConfidence)&&void 0!==r?r:.5),"minFacePresenceConfidence"in e&&Gu(this.v,2,null!==(o=e.minFacePresenceConfidence)&&void 0!==o?o:.5),"outputFaceBlendshapes"in e&&(this.outputFaceBlendshapes=!!e.outputFaceBlendshapes),"outputFacialTransformationMatrixes"in e&&(this.outputFacialTransformationMatrixes=!!e.outputFacialTransformationMatrixes),this.l(e)}D(e,t){return Im(this),bm(this,e,t),this.j}F(e,t,n){return Im(this),wm(this,e,n,t),this.j}m(){var e=new Ch;kh(e,"image_in"),kh(e,"norm_rect"),Eh(e,"face_landmarks");const t=new hh;bd(t,gp,this.h);const n=new bh;mh(n,"mediapipe.tasks.vision.face_landmarker.FaceLandmarkerGraph"),vh(n,"IMAGE:image_in"),vh(n,"NORM_RECT:norm_rect"),yh(n,"NORM_LANDMARKS:face_landmarks"),n.o(t),_h(e,n),this.g.attachProtoVectorListener("face_landmarks",((e,t)=>{for(const n of e)e=Bh(n),this.j.faceLandmarks.push(eg(e));bg(this,t)})),this.g.attachEmptyPacketListener("face_landmarks",(e=>{bg(this,e)})),this.outputFaceBlendshapes&&(Eh(e,"blendshapes"),yh(n,"BLENDSHAPES:blendshapes"),this.g.attachProtoVectorListener("blendshapes",((e,t)=>{if(this.outputFaceBlendshapes)for(const r of e){var n;e=Oh(r),this.j.faceBlendshapes.push(Zp(null!==(n=e.g())&&void 0!==n?n:[]))}bg(this,t)})),this.g.attachEmptyPacketListener("blendshapes",(e=>{bg(this,e)}))),this.outputFacialTransformationMatrixes&&(Eh(e,"face_geometry"),yh(n,"FACE_GEOMETRY:face_geometry"),this.g.attachProtoVectorListener("face_geometry",((e,t)=>{if(this.outputFacialTransformationMatrixes)for(const s of e){var n,r,o,i,a;(e=Ou(up(s),Uh,2))&&this.j.facialTransformationMatrixes.push({rows:null!==(n=null!==(r=Bu(e,1))&&void 0!==r?r:0)&&void 0!==n?n:0,columns:null!==(o=null!==(i=Bu(e,2))&&void 0!==i?i:0)&&void 0!==o?o:0,data:null!==(a=bu(e,3,Ac,yu()).slice())&&void 0!==a?a:[]})}bg(this,t)})),this.g.attachEmptyPacketListener("face_geometry",(e=>{bg(this,e)}))),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};Lm.prototype.detectForVideo=Lm.prototype.F,Lm.prototype.detect=Lm.prototype.D,Lm.prototype.setOptions=Lm.prototype.o,Lm.createFromModelPath=function(e,t){return vm(Lm,e,{baseOptions:{modelAssetPath:t}})},Lm.createFromModelBuffer=function(e,t){return vm(Lm,e,{baseOptions:{modelAssetBuffer:t}})},Lm.createFromOptions=function(e,t){return vm(Lm,e,t)},Lm.FACE_LANDMARKS_LIPS=km,Lm.FACE_LANDMARKS_LEFT_EYE=Em,Lm.FACE_LANDMARKS_LEFT_EYEBROW=Cm,Lm.FACE_LANDMARKS_LEFT_IRIS=Am,Lm.FACE_LANDMARKS_RIGHT_EYE=Tm,Lm.FACE_LANDMARKS_RIGHT_EYEBROW=Pm,Lm.FACE_LANDMARKS_RIGHT_IRIS=Nm,Lm.FACE_LANDMARKS_FACE_OVAL=Mm,Lm.FACE_LANDMARKS_CONTOURS=Om,Lm.FACE_LANDMARKS_TESSELATION=Rm;var Dm=class extends Sm{constructor(e,t){super(new mm(e,t),"image_in","norm_rect",!0),Lu(e=this.j=new mp,0,1,t=new op)}get baseOptions(){return Ou(this.j,op,1)}set baseOptions(e){Lu(this.j,0,1,e)}o(e){return super.l(e)}Oa(e,t,n){const r="function"!=typeof t?t:{};if(this.h="function"==typeof t?t:n,bm(this,e,null!==r&&void 0!==r?r:{}),!this.h)return this.s}m(){var e=new Ch;kh(e,"image_in"),kh(e,"norm_rect"),Eh(e,"stylized_image");const t=new hh;bd(t,vp,this.j);const n=new bh;mh(n,"mediapipe.tasks.vision.face_stylizer.FaceStylizerGraph"),vh(n,"IMAGE:image_in"),vh(n,"NORM_RECT:norm_rect"),yh(n,"STYLIZED_IMAGE:stylized_image"),n.o(t),_h(e,n),this.g.U("stylized_image",((e,t)=>{var n=!this.h,r=e.data,o=e.width;const i=o*(e=e.height);if(r instanceof Uint8Array)if(r.length===3*i){const t=new Uint8ClampedArray(4*i);for(let e=0;e<i;++e)t[4*e]=r[3*e],t[4*e+1]=r[3*e+1],t[4*e+2]=r[3*e+2],t[4*e+3]=255;r=new ImageData(t,o,e)}else{if(r.length!==4*i)throw Error("Unsupported channel count: "+r.length/i);r=new ImageData(new Uint8ClampedArray(r.buffer,r.byteOffset,r.length),o,e)}else if(!(r instanceof WebGLTexture))throw Error("Unsupported format: ".concat(r.constructor.name));o=new dm([r],!1,!1,this.g.i.canvas,this.O,o,e),this.s=n=n?o.clone():o,this.h&&this.h(n),bg(this,t)})),this.g.attachEmptyPacketListener("stylized_image",(e=>{this.s=null,this.h&&this.h(null),bg(this,e)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};Dm.prototype.stylize=Dm.prototype.Oa,Dm.prototype.setOptions=Dm.prototype.o,Dm.createFromModelPath=function(e,t){return vm(Dm,e,{baseOptions:{modelAssetPath:t}})},Dm.createFromModelBuffer=function(e,t){return vm(Dm,e,{baseOptions:{modelAssetBuffer:t}})},Dm.createFromOptions=function(e,t){return vm(Dm,e,t)};var jm=hm([0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]);function Fm(e){e.gestures=[],e.landmarks=[],e.worldLandmarks=[],e.handedness=[]}function zm(e){return 0===e.gestures.length?{gestures:[],landmarks:[],worldLandmarks:[],handedness:[],handednesses:[]}:{gestures:e.gestures,landmarks:e.landmarks,worldLandmarks:e.worldLandmarks,handedness:e.handedness,handednesses:e.handedness}}function Bm(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=[];for(const u of e){var r=Oh(u);e=[];for(const n of r.g()){var o,i,a,s,l,c;r=t&&null!=Bu(n,1)?null!==(o=Bu(n,1))&&void 0!==o?o:0:-1,e.push({score:null!==(i=Vu(n,2))&&void 0!==i?i:0,index:r,categoryName:null!==(a=null!==(s=Uu(n,3))&&void 0!==s?s:"")&&void 0!==a?a:"",displayName:null!==(l=null!==(c=Uu(n,4))&&void 0!==c?c:"")&&void 0!==l?l:""})}n.push(e)}return n}var Um=class extends Sm{constructor(e,t){super(new mm(e,t),"image_in","norm_rect",!1),this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handedness=[],Lu(e=this.j=new kp,0,1,t=new op),this.s=new _p,Lu(this.j,0,2,this.s),this.C=new Sp,Lu(this.s,0,3,this.C),this.v=new xp,Lu(this.s,0,2,this.v),this.h=new wp,Lu(this.j,0,3,this.h),Gu(this.v,2,.5),Gu(this.s,4,.5),Gu(this.C,2,.5)}get baseOptions(){return Ou(this.j,op,1)}set baseOptions(e){Lu(this.j,0,1,e)}o(e){var t,n,r,o,i,a,s;if(Wu(this.v,3,null!==(t=e.numHands)&&void 0!==t?t:1),"minHandDetectionConfidence"in e&&Gu(this.v,2,null!==(n=e.minHandDetectionConfidence)&&void 0!==n?n:.5),"minTrackingConfidence"in e&&Gu(this.s,4,null!==(r=e.minTrackingConfidence)&&void 0!==r?r:.5),"minHandPresenceConfidence"in e&&Gu(this.C,2,null!==(o=e.minHandPresenceConfidence)&&void 0!==o?o:.5),e.cannedGesturesClassifierOptions){var l,c=new yp,u=c,d=Qp(e.cannedGesturesClassifierOptions,null===(l=Ou(this.h,yp,3))||void 0===l?void 0:l.h());Lu(u,0,2,d),Lu(this.h,0,3,c)}else void 0===e.cannedGesturesClassifierOptions&&(null===(i=Ou(this.h,yp,3))||void 0===i||i.g());return e.customGesturesClassifierOptions?(Lu(u=c=new yp,0,2,d=Qp(e.customGesturesClassifierOptions,null===(a=Ou(this.h,yp,4))||void 0===a?void 0:a.h())),Lu(this.h,0,4,c)):void 0===e.customGesturesClassifierOptions&&(null===(s=Ou(this.h,yp,4))||void 0===s||s.g()),this.l(e)}Ja(e,t){return Fm(this),bm(this,e,t),zm(this)}Ka(e,t,n){return Fm(this),wm(this,e,n,t),zm(this)}m(){var e=new Ch;kh(e,"image_in"),kh(e,"norm_rect"),Eh(e,"hand_gestures"),Eh(e,"hand_landmarks"),Eh(e,"world_hand_landmarks"),Eh(e,"handedness");const t=new hh;bd(t,Pp,this.j);const n=new bh;mh(n,"mediapipe.tasks.vision.gesture_recognizer.GestureRecognizerGraph"),vh(n,"IMAGE:image_in"),vh(n,"NORM_RECT:norm_rect"),yh(n,"HAND_GESTURES:hand_gestures"),yh(n,"LANDMARKS:hand_landmarks"),yh(n,"WORLD_LANDMARKS:world_hand_landmarks"),yh(n,"HANDEDNESS:handedness"),n.o(t),_h(e,n),this.g.attachProtoVectorListener("hand_landmarks",((e,t)=>{for(const a of e){e=Bh(a);const t=[];for(const a of Iu(e,zh,1)){var n,r,o,i;t.push({x:null!==(n=Vu(a,1))&&void 0!==n?n:0,y:null!==(r=Vu(a,2))&&void 0!==r?r:0,z:null!==(o=Vu(a,3))&&void 0!==o?o:0,visibility:null!==(i=Vu(a,4))&&void 0!==i?i:0})}this.landmarks.push(t)}bg(this,t)})),this.g.attachEmptyPacketListener("hand_landmarks",(e=>{bg(this,e)})),this.g.attachProtoVectorListener("world_hand_landmarks",((e,t)=>{for(const a of e){e=Fh(a);const t=[];for(const a of Iu(e,jh,1)){var n,r,o,i;t.push({x:null!==(n=Vu(a,1))&&void 0!==n?n:0,y:null!==(r=Vu(a,2))&&void 0!==r?r:0,z:null!==(o=Vu(a,3))&&void 0!==o?o:0,visibility:null!==(i=Vu(a,4))&&void 0!==i?i:0})}this.worldLandmarks.push(t)}bg(this,t)})),this.g.attachEmptyPacketListener("world_hand_landmarks",(e=>{bg(this,e)})),this.g.attachProtoVectorListener("hand_gestures",((e,t)=>{this.gestures.push(...Bm(e,!1)),bg(this,t)})),this.g.attachEmptyPacketListener("hand_gestures",(e=>{bg(this,e)})),this.g.attachProtoVectorListener("handedness",((e,t)=>{this.handedness.push(...Bm(e)),bg(this,t)})),this.g.attachEmptyPacketListener("handedness",(e=>{bg(this,e)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};function Vm(e){return{landmarks:e.landmarks,worldLandmarks:e.worldLandmarks,handednesses:e.handedness,handedness:e.handedness}}Um.prototype.recognizeForVideo=Um.prototype.Ka,Um.prototype.recognize=Um.prototype.Ja,Um.prototype.setOptions=Um.prototype.o,Um.createFromModelPath=function(e,t){return vm(Um,e,{baseOptions:{modelAssetPath:t}})},Um.createFromModelBuffer=function(e,t){return vm(Um,e,{baseOptions:{modelAssetBuffer:t}})},Um.createFromOptions=function(e,t){return vm(Um,e,t)},Um.HAND_CONNECTIONS=jm;var Hm=class extends Sm{constructor(e,t){super(new mm(e,t),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.handedness=[],Lu(e=this.h=new _p,0,1,t=new op),this.s=new Sp,Lu(this.h,0,3,this.s),this.j=new xp,Lu(this.h,0,2,this.j),Wu(this.j,3,1),Gu(this.j,2,.5),Gu(this.s,2,.5),Gu(this.h,4,.5)}get baseOptions(){return Ou(this.h,op,1)}set baseOptions(e){Lu(this.h,0,1,e)}o(e){var t,n,r,o;return"numHands"in e&&Wu(this.j,3,null!==(t=e.numHands)&&void 0!==t?t:1),"minHandDetectionConfidence"in e&&Gu(this.j,2,null!==(n=e.minHandDetectionConfidence)&&void 0!==n?n:.5),"minTrackingConfidence"in e&&Gu(this.h,4,null!==(r=e.minTrackingConfidence)&&void 0!==r?r:.5),"minHandPresenceConfidence"in e&&Gu(this.s,2,null!==(o=e.minHandPresenceConfidence)&&void 0!==o?o:.5),this.l(e)}D(e,t){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],bm(this,e,t),Vm(this)}F(e,t,n){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],wm(this,e,n,t),Vm(this)}m(){var e=new Ch;kh(e,"image_in"),kh(e,"norm_rect"),Eh(e,"hand_landmarks"),Eh(e,"world_hand_landmarks"),Eh(e,"handedness");const t=new hh;bd(t,Np,this.h);const n=new bh;mh(n,"mediapipe.tasks.vision.hand_landmarker.HandLandmarkerGraph"),vh(n,"IMAGE:image_in"),vh(n,"NORM_RECT:norm_rect"),yh(n,"LANDMARKS:hand_landmarks"),yh(n,"WORLD_LANDMARKS:world_hand_landmarks"),yh(n,"HANDEDNESS:handedness"),n.o(t),_h(e,n),this.g.attachProtoVectorListener("hand_landmarks",((e,t)=>{for(const n of e)e=Bh(n),this.landmarks.push(eg(e));bg(this,t)})),this.g.attachEmptyPacketListener("hand_landmarks",(e=>{bg(this,e)})),this.g.attachProtoVectorListener("world_hand_landmarks",((e,t)=>{for(const n of e)e=Fh(n),this.worldLandmarks.push(tg(e));bg(this,t)})),this.g.attachEmptyPacketListener("world_hand_landmarks",(e=>{bg(this,e)})),this.g.attachProtoVectorListener("handedness",((e,t)=>{var n=this.handedness,r=n.push;const o=[];for(const f of e){e=Oh(f);const t=[];for(const n of e.g()){var i,a,s,l,c,u,d;t.push({score:null!==(i=Vu(n,2))&&void 0!==i?i:0,index:null!==(a=null!==(s=Bu(n,1))&&void 0!==s?s:0)&&void 0!==a?a:-1,categoryName:null!==(l=null!==(c=Uu(n,3))&&void 0!==c?c:"")&&void 0!==l?l:"",displayName:null!==(u=null!==(d=Uu(n,4))&&void 0!==d?d:"")&&void 0!==u?u:""})}o.push(t)}r.call(n,...o),bg(this,t)})),this.g.attachEmptyPacketListener("handedness",(e=>{bg(this,e)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};Hm.prototype.detectForVideo=Hm.prototype.F,Hm.prototype.detect=Hm.prototype.D,Hm.prototype.setOptions=Hm.prototype.o,Hm.createFromModelPath=function(e,t){return vm(Hm,e,{baseOptions:{modelAssetPath:t}})},Hm.createFromModelBuffer=function(e,t){return vm(Hm,e,{baseOptions:{modelAssetBuffer:t}})},Hm.createFromOptions=function(e,t){return vm(Hm,e,t)},Hm.HAND_CONNECTIONS=jm;var Wm=hm([0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]);function Gm(e){e.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]}}function Xm(e){try{if(!e.C)return e.h;e.C(e.h)}finally{Sg(e)}}function qm(e,t){e=Bh(e),t.push(eg(e))}var Km=class extends Sm{constructor(e,t){super(new mm(e,t),"input_frames_image",null,!1),this.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]},this.outputPoseSegmentationMasks=this.outputFaceBlendshapes=!1,Lu(e=this.j=new Ip,0,1,t=new op),this.J=new Sp,Lu(this.j,0,2,this.J),this.Z=new Mp,Lu(this.j,0,3,this.Z),this.s=new sp,Lu(this.j,0,4,this.s),this.H=new dp,Lu(this.j,0,5,this.H),this.v=new Op,Lu(this.j,0,6,this.v),this.K=new Rp,Lu(this.j,0,7,this.K),Gu(this.s,2,.5),Gu(this.s,3,.3),Gu(this.H,2,.5),Gu(this.v,2,.5),Gu(this.v,3,.3),Gu(this.K,2,.5),Gu(this.J,2,.5)}get baseOptions(){return Ou(this.j,op,1)}set baseOptions(e){Lu(this.j,0,1,e)}o(e){var t,n,r,o,i,a,s;return"minFaceDetectionConfidence"in e&&Gu(this.s,2,null!==(t=e.minFaceDetectionConfidence)&&void 0!==t?t:.5),"minFaceSuppressionThreshold"in e&&Gu(this.s,3,null!==(n=e.minFaceSuppressionThreshold)&&void 0!==n?n:.3),"minFacePresenceConfidence"in e&&Gu(this.H,2,null!==(r=e.minFacePresenceConfidence)&&void 0!==r?r:.5),"outputFaceBlendshapes"in e&&(this.outputFaceBlendshapes=!!e.outputFaceBlendshapes),"minPoseDetectionConfidence"in e&&Gu(this.v,2,null!==(o=e.minPoseDetectionConfidence)&&void 0!==o?o:.5),"minPoseSuppressionThreshold"in e&&Gu(this.v,3,null!==(i=e.minPoseSuppressionThreshold)&&void 0!==i?i:.3),"minPosePresenceConfidence"in e&&Gu(this.K,2,null!==(a=e.minPosePresenceConfidence)&&void 0!==a?a:.5),"outputPoseSegmentationMasks"in e&&(this.outputPoseSegmentationMasks=!!e.outputPoseSegmentationMasks),"minHandLandmarksConfidence"in e&&Gu(this.J,2,null!==(s=e.minHandLandmarksConfidence)&&void 0!==s?s:.5),this.l(e)}D(e,t,n){const r="function"!=typeof t?t:{};return this.C="function"==typeof t?t:n,Gm(this),bm(this,e,r),Xm(this)}F(e,t,n,r){const o="function"!=typeof n?n:{};return this.C="function"==typeof n?n:r,Gm(this),wm(this,e,o,t),Xm(this)}m(){var e=new Ch;kh(e,"input_frames_image"),Eh(e,"pose_landmarks"),Eh(e,"pose_world_landmarks"),Eh(e,"face_landmarks"),Eh(e,"left_hand_landmarks"),Eh(e,"left_hand_world_landmarks"),Eh(e,"right_hand_landmarks"),Eh(e,"right_hand_world_landmarks");const t=new hh,n=new th;ku(n,1,Fc("type.googleapis.com/mediapipe.tasks.vision.holistic_landmarker.proto.HolisticLandmarkerGraphOptions"),""),function(e,t){if(null!=t)if(Array.isArray(t))pu(e,2,au(t));else{if(!("string"==typeof t||t instanceof ml||fl(t)))throw Error("invalid value in Any.value field: "+t+" expected a ByteString, a base64 encoded string, a Uint8Array or a jspb array");ku(e,2,Gl(t,!1),pl())}}(n,this.j.g());const r=new bh;mh(r,"mediapipe.tasks.vision.holistic_landmarker.HolisticLandmarkerGraph"),zu(r,8,th,n),vh(r,"IMAGE:input_frames_image"),yh(r,"POSE_LANDMARKS:pose_landmarks"),yh(r,"POSE_WORLD_LANDMARKS:pose_world_landmarks"),yh(r,"FACE_LANDMARKS:face_landmarks"),yh(r,"LEFT_HAND_LANDMARKS:left_hand_landmarks"),yh(r,"LEFT_HAND_WORLD_LANDMARKS:left_hand_world_landmarks"),yh(r,"RIGHT_HAND_LANDMARKS:right_hand_landmarks"),yh(r,"RIGHT_HAND_WORLD_LANDMARKS:right_hand_world_landmarks"),r.o(t),_h(e,r),wg(this,e),this.g.attachProtoListener("pose_landmarks",((e,t)=>{qm(e,this.h.poseLandmarks),bg(this,t)})),this.g.attachEmptyPacketListener("pose_landmarks",(e=>{bg(this,e)})),this.g.attachProtoListener("pose_world_landmarks",((e,t)=>{var n=this.h.poseWorldLandmarks;e=Fh(e),n.push(tg(e)),bg(this,t)})),this.g.attachEmptyPacketListener("pose_world_landmarks",(e=>{bg(this,e)})),this.outputPoseSegmentationMasks&&(yh(r,"POSE_SEGMENTATION_MASK:pose_segmentation_mask"),xg(this,"pose_segmentation_mask"),this.g.U("pose_segmentation_mask",((e,t)=>{this.h.poseSegmentationMasks=[xm(this,e,!0,!this.C)],bg(this,t)})),this.g.attachEmptyPacketListener("pose_segmentation_mask",(e=>{this.h.poseSegmentationMasks=[],bg(this,e)}))),this.g.attachProtoListener("face_landmarks",((e,t)=>{qm(e,this.h.faceLandmarks),bg(this,t)})),this.g.attachEmptyPacketListener("face_landmarks",(e=>{bg(this,e)})),this.outputFaceBlendshapes&&(Eh(e,"extra_blendshapes"),yh(r,"FACE_BLENDSHAPES:extra_blendshapes"),this.g.attachProtoListener("extra_blendshapes",((e,t)=>{var n,r=this.h.faceBlendshapes;this.outputFaceBlendshapes&&(e=Oh(e),r.push(Zp(null!==(n=e.g())&&void 0!==n?n:[]))),bg(this,t)})),this.g.attachEmptyPacketListener("extra_blendshapes",(e=>{bg(this,e)}))),this.g.attachProtoListener("left_hand_landmarks",((e,t)=>{qm(e,this.h.leftHandLandmarks),bg(this,t)})),this.g.attachEmptyPacketListener("left_hand_landmarks",(e=>{bg(this,e)})),this.g.attachProtoListener("left_hand_world_landmarks",((e,t)=>{var n=this.h.leftHandWorldLandmarks;e=Fh(e),n.push(tg(e)),bg(this,t)})),this.g.attachEmptyPacketListener("left_hand_world_landmarks",(e=>{bg(this,e)})),this.g.attachProtoListener("right_hand_landmarks",((e,t)=>{qm(e,this.h.rightHandLandmarks),bg(this,t)})),this.g.attachEmptyPacketListener("right_hand_landmarks",(e=>{bg(this,e)})),this.g.attachProtoListener("right_hand_world_landmarks",((e,t)=>{var n=this.h.rightHandWorldLandmarks;e=Fh(e),n.push(tg(e)),bg(this,t)})),this.g.attachEmptyPacketListener("right_hand_world_landmarks",(e=>{bg(this,e)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};Km.prototype.detectForVideo=Km.prototype.F,Km.prototype.detect=Km.prototype.D,Km.prototype.setOptions=Km.prototype.o,Km.createFromModelPath=function(e,t){return vm(Km,e,{baseOptions:{modelAssetPath:t}})},Km.createFromModelBuffer=function(e,t){return vm(Km,e,{baseOptions:{modelAssetBuffer:t}})},Km.createFromOptions=function(e,t){return vm(Km,e,t)},Km.HAND_CONNECTIONS=jm,Km.POSE_CONNECTIONS=Wm,Km.FACE_LANDMARKS_LIPS=km,Km.FACE_LANDMARKS_LEFT_EYE=Em,Km.FACE_LANDMARKS_LEFT_EYEBROW=Cm,Km.FACE_LANDMARKS_LEFT_IRIS=Am,Km.FACE_LANDMARKS_RIGHT_EYE=Tm,Km.FACE_LANDMARKS_RIGHT_EYEBROW=Pm,Km.FACE_LANDMARKS_RIGHT_IRIS=Nm,Km.FACE_LANDMARKS_FACE_OVAL=Mm,Km.FACE_LANDMARKS_CONTOURS=Om,Km.FACE_LANDMARKS_TESSELATION=Rm;var Ym=class extends Sm{constructor(e,t){super(new mm(e,t),"input_image","norm_rect",!0),this.j={classifications:[]},Lu(e=this.h=new jp,0,1,t=new op)}get baseOptions(){return Ou(this.h,op,1)}set baseOptions(e){Lu(this.h,0,1,e)}o(e){return Lu(this.h,0,2,Qp(e,Ou(this.h,Qh,2))),this.l(e)}sa(e,t){return this.j={classifications:[]},bm(this,e,t),this.j}ta(e,t,n){return this.j={classifications:[]},wm(this,e,n,t),this.j}m(){var e=new Ch;kh(e,"input_image"),kh(e,"norm_rect"),Eh(e,"classifications");const t=new hh;bd(t,Fp,this.h);const n=new bh;mh(n,"mediapipe.tasks.vision.image_classifier.ImageClassifierGraph"),vh(n,"IMAGE:input_image"),vh(n,"NORM_RECT:norm_rect"),yh(n,"CLASSIFICATIONS:classifications"),n.o(t),_h(e,n),this.g.attachProtoListener("classifications",((e,t)=>{this.j=function(e,t){const n={classifications:Iu(e,Wh,1).map((e=>{var t,n,r,o;return Zp(null!==(t=null===(n=Ou(e,Nh,4))||void 0===n?void 0:n.g())&&void 0!==t?t:[],null!==(r=Bu(e,2))&&void 0!==r?r:0,null!==(o=Uu(e,3))&&void 0!==o?o:"")}))};return null!=Dc(fu(e,2))&&(n.timestampMs=null!==(t=Dc(fu(e,2)))&&void 0!==t?t:0),n}(Gh(e)),bg(this,t)})),this.g.attachEmptyPacketListener("classifications",(e=>{bg(this,e)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};Ym.prototype.classifyForVideo=Ym.prototype.ta,Ym.prototype.classify=Ym.prototype.sa,Ym.prototype.setOptions=Ym.prototype.o,Ym.createFromModelPath=function(e,t){return vm(Ym,e,{baseOptions:{modelAssetPath:t}})},Ym.createFromModelBuffer=function(e,t){return vm(Ym,e,{baseOptions:{modelAssetBuffer:t}})},Ym.createFromOptions=function(e,t){return vm(Ym,e,t)};var $m=class extends Sm{constructor(e,t){super(new mm(e,t),"image_in","norm_rect",!0),this.h=new zp,this.embeddings={embeddings:[]},Lu(e=this.h,0,1,t=new op)}get baseOptions(){return Ou(this.h,op,1)}set baseOptions(e){Lu(this.h,0,1,e)}o(e){var t=this.h,n=Ou(this.h,Jh,2);return n=n?n.clone():new Jh,void 0!==e.l2Normalize?Hu(n,1,e.l2Normalize):"l2Normalize"in e&&pu(n,1),void 0!==e.quantize?Hu(n,2,e.quantize):"quantize"in e&&pu(n,2),Lu(t,0,2,n),this.l(e)}za(e,t){return bm(this,e,t),this.embeddings}Aa(e,t,n){return wm(this,e,n,t),this.embeddings}m(){var e=new Ch;kh(e,"image_in"),kh(e,"norm_rect"),Eh(e,"embeddings_out");const t=new hh;bd(t,Bp,this.h);const n=new bh;mh(n,"mediapipe.tasks.vision.image_embedder.ImageEmbedderGraph"),vh(n,"IMAGE:image_in"),vh(n,"NORM_RECT:norm_rect"),yh(n,"EMBEDDINGS:embeddings_out"),n.o(t),_h(e,n),this.g.attachProtoListener("embeddings_out",((e,t)=>{e=$h(e),this.embeddings=function(e,t){return{embeddings:Iu(e,Kh,1).map((e=>{var t,n,r,o;const i={headIndex:null!==(t=null!==(n=Bu(e,3))&&void 0!==n?n:0)&&void 0!==t?t:-1,headName:null!==(r=null!==(o=Uu(e,4))&&void 0!==o?o:"")&&void 0!==r?r:""};if(void 0!==Mu(e,Xh,Cu(e,1)))e=bu(e=Ou(e,Xh,Cu(e,1)),1,Ac,yu()),i.floatEmbedding=e.slice();else{var a,s;const t=new Uint8Array(0);i.quantizedEmbedding=null!==(a=null===(s=Ou(e,qh,Cu(e,2)))||void 0===s||null===(s=s.oa())||void 0===s?void 0:s.h())&&void 0!==a?a:t}return i})),timestampMs:null!==(t=Dc(fu(e,2)))&&void 0!==t?t:0}}(e),bg(this,t)})),this.g.attachEmptyPacketListener("embeddings_out",(e=>{bg(this,e)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};$m.cosineSimilarity=function(e,t){if(e.floatEmbedding&&t.floatEmbedding)e=rg(e.floatEmbedding,t.floatEmbedding);else{if(!e.quantizedEmbedding||!t.quantizedEmbedding)throw Error("Cannot compute cosine similarity between quantized and float embeddings.");e=rg(ng(e.quantizedEmbedding),ng(t.quantizedEmbedding))}return e},$m.prototype.embedForVideo=$m.prototype.Aa,$m.prototype.embed=$m.prototype.za,$m.prototype.setOptions=$m.prototype.o,$m.createFromModelPath=function(e,t){return vm($m,e,{baseOptions:{modelAssetPath:t}})},$m.createFromModelBuffer=function(e,t){return vm($m,e,{baseOptions:{modelAssetBuffer:t}})},$m.createFromOptions=function(e,t){return vm($m,e,t)};var Qm=class{constructor(e,t,n){this.confidenceMasks=e,this.categoryMask=t,this.qualityScores=n}close(){var e,t;null!==(e=this.confidenceMasks)&&void 0!==e&&e.forEach((e=>{e.close()})),null===(t=this.categoryMask)||void 0===t||t.close()}};function Zm(e){e.categoryMask=void 0,e.confidenceMasks=void 0,e.qualityScores=void 0}function Jm(e){try{const t=new Qm(e.confidenceMasks,e.categoryMask,e.qualityScores);if(!e.j)return t;e.j(t)}finally{Sg(e)}}Qm.prototype.close=Qm.prototype.close;var ev=class extends Sm{constructor(e,t){super(new mm(e,t),"image_in","norm_rect",!1),this.s=[],this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new Gp,this.v=new Up,Lu(this.h,0,3,this.v),Lu(e=this.h,0,1,t=new op)}get baseOptions(){return Ou(this.h,op,1)}set baseOptions(e){Lu(this.h,0,1,e)}o(e){var t,n;return void 0!==e.displayNamesLocale?pu(this.h,2,Fc(e.displayNamesLocale)):"displayNamesLocale"in e&&pu(this.h,2),"outputCategoryMask"in e&&(this.outputCategoryMask=null!==(t=e.outputCategoryMask)&&void 0!==t&&t),"outputConfidenceMasks"in e&&(this.outputConfidenceMasks=null===(n=e.outputConfidenceMasks)||void 0===n||n),super.l(e)}I(){!function(e,t,n){const r=Iu(e.da(),bh,1).filter((e=>{var t;return(null!==(t=Uu(e,1))&&void 0!==t?t:"").includes("mediapipe.tasks.TensorsToSegmentationCalculator")}));if(e.s=[],r.length>1)throw Error("The graph has more than one mediapipe.tasks.TensorsToSegmentationCalculator.");1===r.length&&(null!==(t=null===(n=Ou(r[0],hh,7))||void 0===n||null===(n=n.l())||void 0===n?void 0:n.g())&&void 0!==t?t:new Map).forEach(((t,n)=>{var r;e.s[Number(n)]=null!==(r=Uu(t,1))&&void 0!==r?r:""}))}(this)}segment(e,t,n){const r="function"!=typeof t?t:{};return this.j="function"==typeof t?t:n,Zm(this),bm(this,e,r),Jm(this)}Ma(e,t,n,r){const o="function"!=typeof n?n:{};return this.j="function"==typeof n?n:r,Zm(this),wm(this,e,o,t),Jm(this)}Da(){return this.s}m(){var e=new Ch;kh(e,"image_in"),kh(e,"norm_rect");const t=new hh;bd(t,Xp,this.h);const n=new bh;mh(n,"mediapipe.tasks.vision.image_segmenter.ImageSegmenterGraph"),vh(n,"IMAGE:image_in"),vh(n,"NORM_RECT:norm_rect"),n.o(t),_h(e,n),wg(this,e),this.outputConfidenceMasks&&(Eh(e,"confidence_masks"),yh(n,"CONFIDENCE_MASKS:confidence_masks"),xg(this,"confidence_masks"),this.g.ca("confidence_masks",((e,t)=>{this.confidenceMasks=e.map((e=>xm(this,e,!0,!this.j))),bg(this,t)})),this.g.attachEmptyPacketListener("confidence_masks",(e=>{this.confidenceMasks=[],bg(this,e)}))),this.outputCategoryMask&&(Eh(e,"category_mask"),yh(n,"CATEGORY_MASK:category_mask"),xg(this,"category_mask"),this.g.U("category_mask",((e,t)=>{this.categoryMask=xm(this,e,!1,!this.j),bg(this,t)})),this.g.attachEmptyPacketListener("category_mask",(e=>{this.categoryMask=void 0,bg(this,e)}))),Eh(e,"quality_scores"),yh(n,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",((e,t)=>{this.qualityScores=e,bg(this,t)})),this.g.attachEmptyPacketListener("quality_scores",(e=>{this.categoryMask=void 0,bg(this,e)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};ev.prototype.getLabels=ev.prototype.Da,ev.prototype.segmentForVideo=ev.prototype.Ma,ev.prototype.segment=ev.prototype.segment,ev.prototype.setOptions=ev.prototype.o,ev.createFromModelPath=function(e,t){return vm(ev,e,{baseOptions:{modelAssetPath:t}})},ev.createFromModelBuffer=function(e,t){return vm(ev,e,{baseOptions:{modelAssetBuffer:t}})},ev.createFromOptions=function(e,t){return vm(ev,e,t)};var tv=class{constructor(e,t,n){this.confidenceMasks=e,this.categoryMask=t,this.qualityScores=n}close(){var e,t;null!==(e=this.confidenceMasks)&&void 0!==e&&e.forEach((e=>{e.close()})),null===(t=this.categoryMask)||void 0===t||t.close()}};tv.prototype.close=tv.prototype.close;var nv=class extends wd{constructor(e){super(e)}},rv=[0,jf,-2],ov=[0,Nf,-3,Bf,Nf,-1],iv=[0,ov],av=[0,ov,jf,-1],sv=class extends wd{constructor(e){super(e)}},lv=[0,Nf,-1,Bf],cv=class extends wd{constructor(e){super(e)}},uv=class extends wd{constructor(e){super(e)}},dv=[1,2,3,4,5,6,7,8,9,10,14,15],fv=class extends wd{constructor(e){super(e)}};fv.prototype.g=eh([0,Gf,[0,dv,Xf,ov,Xf,[0,ov,rv],Xf,iv,Xf,[0,iv,rv],Xf,lv,Xf,[0,Nf,-3,Bf,$f],Xf,[0,Nf,-3,Bf],Xf,[0,Wf,Nf,-2,Bf,jf,Bf,-1,2,Nf,rv],Xf,av,Xf,[0,av,rv],Nf,rv,Wf,Xf,[0,Nf,-3,Bf,rv,-1],Xf,[0,Gf,lv]],Wf,[0,Wf,jf,-1,Bf]]);var hv=class extends Sm{constructor(e,t){super(new mm(e,t),"image_in","norm_rect_in",!1),this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new Gp,this.s=new Up,Lu(this.h,0,3,this.s),Lu(e=this.h,0,1,t=new op)}get baseOptions(){return Ou(this.h,op,1)}set baseOptions(e){Lu(this.h,0,1,e)}o(e){var t,n;return"outputCategoryMask"in e&&(this.outputCategoryMask=null!==(t=e.outputCategoryMask)&&void 0!==t&&t),"outputConfidenceMasks"in e&&(this.outputConfidenceMasks=null===(n=e.outputConfidenceMasks)||void 0===n||n),super.l(e)}segment(e,t,n,r){const o="function"!=typeof n?n:{};this.j="function"==typeof n?n:r,this.qualityScores=this.categoryMask=this.confidenceMasks=void 0,n=this.B+1,r=new fv;const i=new uv;var a=new nv;if(Wu(a,1,255),Lu(i,0,12,a),t.keypoint&&t.scribble)throw Error("Cannot provide both keypoint and scribble.");if(t.keypoint){var s=new sv;Hu(s,3,!0),Gu(s,1,t.keypoint.x),Gu(s,2,t.keypoint.y),Du(i,5,dv,s)}else{if(!t.scribble)throw Error("Must provide either a keypoint or a scribble.");for(s of(a=new cv,t.scribble))Hu(t=new sv,3,!0),Gu(t,1,s.x),Gu(t,2,s.y),zu(a,1,sv,t);Du(i,15,dv,a)}zu(r,1,uv,i),this.g.addProtoToStream(r.g(),"drishti.RenderData","roi_in",n),bm(this,e,o);e:{try{const e=new tv(this.confidenceMasks,this.categoryMask,this.qualityScores);if(!this.j){var l=e;break e}this.j(e)}finally{Sg(this)}l=void 0}return l}m(){var e=new Ch;kh(e,"image_in"),kh(e,"roi_in"),kh(e,"norm_rect_in");const t=new hh;bd(t,Xp,this.h);const n=new bh;mh(n,"mediapipe.tasks.vision.interactive_segmenter.InteractiveSegmenterGraph"),vh(n,"IMAGE:image_in"),vh(n,"ROI:roi_in"),vh(n,"NORM_RECT:norm_rect_in"),n.o(t),_h(e,n),wg(this,e),this.outputConfidenceMasks&&(Eh(e,"confidence_masks"),yh(n,"CONFIDENCE_MASKS:confidence_masks"),xg(this,"confidence_masks"),this.g.ca("confidence_masks",((e,t)=>{this.confidenceMasks=e.map((e=>xm(this,e,!0,!this.j))),bg(this,t)})),this.g.attachEmptyPacketListener("confidence_masks",(e=>{this.confidenceMasks=[],bg(this,e)}))),this.outputCategoryMask&&(Eh(e,"category_mask"),yh(n,"CATEGORY_MASK:category_mask"),xg(this,"category_mask"),this.g.U("category_mask",((e,t)=>{this.categoryMask=xm(this,e,!1,!this.j),bg(this,t)})),this.g.attachEmptyPacketListener("category_mask",(e=>{this.categoryMask=void 0,bg(this,e)}))),Eh(e,"quality_scores"),yh(n,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",((e,t)=>{this.qualityScores=e,bg(this,t)})),this.g.attachEmptyPacketListener("quality_scores",(e=>{this.categoryMask=void 0,bg(this,e)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};hv.prototype.segment=hv.prototype.segment,hv.prototype.setOptions=hv.prototype.o,hv.createFromModelPath=function(e,t){return vm(hv,e,{baseOptions:{modelAssetPath:t}})},hv.createFromModelBuffer=function(e,t){return vm(hv,e,{baseOptions:{modelAssetBuffer:t}})},hv.createFromOptions=function(e,t){return vm(hv,e,t)};var pv=class extends Sm{constructor(e,t){super(new mm(e,t),"input_frame_gpu","norm_rect",!1),this.j={detections:[]},Lu(e=this.h=new qp,0,1,t=new op)}get baseOptions(){return Ou(this.h,op,1)}set baseOptions(e){Lu(this.h,0,1,e)}o(e){return void 0!==e.displayNamesLocale?pu(this.h,2,Fc(e.displayNamesLocale)):"displayNamesLocale"in e&&pu(this.h,2),void 0!==e.maxResults?Wu(this.h,3,e.maxResults):"maxResults"in e&&pu(this.h,3),void 0!==e.scoreThreshold?Gu(this.h,4,e.scoreThreshold):"scoreThreshold"in e&&pu(this.h,4),void 0!==e.categoryAllowlist?Xu(this.h,5,e.categoryAllowlist):"categoryAllowlist"in e&&pu(this.h,5),void 0!==e.categoryDenylist?Xu(this.h,6,e.categoryDenylist):"categoryDenylist"in e&&pu(this.h,6),this.l(e)}D(e,t){return this.j={detections:[]},bm(this,e,t),this.j}F(e,t,n){return this.j={detections:[]},wm(this,e,n,t),this.j}m(){var e=new Ch;kh(e,"input_frame_gpu"),kh(e,"norm_rect"),Eh(e,"detections");const t=new hh;bd(t,Kp,this.h);const n=new bh;mh(n,"mediapipe.tasks.vision.ObjectDetectorGraph"),vh(n,"IMAGE:input_frame_gpu"),vh(n,"NORM_RECT:norm_rect"),yh(n,"DETECTIONS:detections"),n.o(t),_h(e,n),this.g.attachProtoVectorListener("detections",((e,t)=>{for(const n of e)e=Dh(n),this.j.detections.push(Jp(e));bg(this,t)})),this.g.attachEmptyPacketListener("detections",(e=>{bg(this,e)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};pv.prototype.detectForVideo=pv.prototype.F,pv.prototype.detect=pv.prototype.D,pv.prototype.setOptions=pv.prototype.o,pv.createFromModelPath=async function(e,t){return vm(pv,e,{baseOptions:{modelAssetPath:t}})},pv.createFromModelBuffer=function(e,t){return vm(pv,e,{baseOptions:{modelAssetBuffer:t}})},pv.createFromOptions=function(e,t){return vm(pv,e,t)};var gv=class{constructor(e,t,n){this.landmarks=e,this.worldLandmarks=t,this.segmentationMasks=n}close(){var e;null===(e=this.segmentationMasks)||void 0===e||e.forEach((e=>{e.close()}))}};function mv(e){e.landmarks=[],e.worldLandmarks=[],e.segmentationMasks=void 0}function vv(e){try{const t=new gv(e.landmarks,e.worldLandmarks,e.segmentationMasks);if(!e.s)return t;e.s(t)}finally{Sg(e)}}gv.prototype.close=gv.prototype.close;var yv=class extends Sm{constructor(e,t){super(new mm(e,t),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.outputSegmentationMasks=!1,Lu(e=this.h=new Yp,0,1,t=new op),this.v=new Rp,Lu(this.h,0,3,this.v),this.j=new Op,Lu(this.h,0,2,this.j),Wu(this.j,4,1),Gu(this.j,2,.5),Gu(this.v,2,.5),Gu(this.h,4,.5)}get baseOptions(){return Ou(this.h,op,1)}set baseOptions(e){Lu(this.h,0,1,e)}o(e){var t,n,r,o,i;return"numPoses"in e&&Wu(this.j,4,null!==(t=e.numPoses)&&void 0!==t?t:1),"minPoseDetectionConfidence"in e&&Gu(this.j,2,null!==(n=e.minPoseDetectionConfidence)&&void 0!==n?n:.5),"minTrackingConfidence"in e&&Gu(this.h,4,null!==(r=e.minTrackingConfidence)&&void 0!==r?r:.5),"minPosePresenceConfidence"in e&&Gu(this.v,2,null!==(o=e.minPosePresenceConfidence)&&void 0!==o?o:.5),"outputSegmentationMasks"in e&&(this.outputSegmentationMasks=null!==(i=e.outputSegmentationMasks)&&void 0!==i&&i),this.l(e)}D(e,t,n){const r="function"!=typeof t?t:{};return this.s="function"==typeof t?t:n,mv(this),bm(this,e,r),vv(this)}F(e,t,n,r){const o="function"!=typeof n?n:{};return this.s="function"==typeof n?n:r,mv(this),wm(this,e,o,t),vv(this)}m(){var e=new Ch;kh(e,"image_in"),kh(e,"norm_rect"),Eh(e,"normalized_landmarks"),Eh(e,"world_landmarks"),Eh(e,"segmentation_masks");const t=new hh;bd(t,$p,this.h);const n=new bh;mh(n,"mediapipe.tasks.vision.pose_landmarker.PoseLandmarkerGraph"),vh(n,"IMAGE:image_in"),vh(n,"NORM_RECT:norm_rect"),yh(n,"NORM_LANDMARKS:normalized_landmarks"),yh(n,"WORLD_LANDMARKS:world_landmarks"),n.o(t),_h(e,n),wg(this,e),this.g.attachProtoVectorListener("normalized_landmarks",((e,t)=>{this.landmarks=[];for(const n of e)e=Bh(n),this.landmarks.push(eg(e));bg(this,t)})),this.g.attachEmptyPacketListener("normalized_landmarks",(e=>{this.landmarks=[],bg(this,e)})),this.g.attachProtoVectorListener("world_landmarks",((e,t)=>{this.worldLandmarks=[];for(const n of e)e=Fh(n),this.worldLandmarks.push(tg(e));bg(this,t)})),this.g.attachEmptyPacketListener("world_landmarks",(e=>{this.worldLandmarks=[],bg(this,e)})),this.outputSegmentationMasks&&(yh(n,"SEGMENTATION_MASK:segmentation_masks"),xg(this,"segmentation_masks"),this.g.ca("segmentation_masks",((e,t)=>{this.segmentationMasks=e.map((e=>xm(this,e,!0,!this.s))),bg(this,t)})),this.g.attachEmptyPacketListener("segmentation_masks",(e=>{this.segmentationMasks=[],bg(this,e)}))),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};yv.prototype.detectForVideo=yv.prototype.F,yv.prototype.detect=yv.prototype.D,yv.prototype.setOptions=yv.prototype.o,yv.createFromModelPath=function(e,t){return vm(yv,e,{baseOptions:{modelAssetPath:t}})},yv.createFromModelBuffer=function(e,t){return vm(yv,e,{baseOptions:{modelAssetBuffer:t}})},yv.createFromOptions=function(e,t){return vm(yv,e,t)},yv.POSE_CONNECTIONS=Wm;const bv=["Thumb_Up","Thumb_Down","Open_Palm","Closed_Fist","Victory","Pointing_Up"],wv=t=>{let{onGestureDetected:n,className:r,showWebcam:o=!0,onCalibrationComplete:i,startCalibration:a=!0,onThresholdsUpdate:l}=t;const c=(0,e.useRef)(null),[u,d]=(0,e.useState)(!0),[f,h]=(0,e.useState)(a),[p,g]=(0,e.useState)(0),[m,v]=(0,e.useState)(null),[y,b]=(0,e.useState)({}),[w,x]=(0,e.useState)(0),[S,_]=(0,e.useState)(!1),k=(0,e.useRef)(0),E=(0,e.useRef)(null);if((0,e.useEffect)((()=>{a&&(h(!0),g(0),x(0),v(null),_(!1),k.current=0)}),[a]),(0,e.useEffect)((()=>((async()=>{try{const e=await lg.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.0/wasm");E.current=await Um.createFromOptions(e,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/gesture_recognizer/gesture_recognizer/float16/1/gesture_recognizer.task",delegate:"CPU"},runningMode:"VIDEO",numHands:1,minHandDetectionConfidence:.3,minHandPresenceConfidence:.3,minTrackingConfidence:.3}),d(!1)}catch(e){console.error("Failed to initialize gesture recognizer:",e),d(!1)}})(),()=>{E.current&&E.current.close()})),[]),(0,e.useEffect)((()=>{let e,t=-1;const r=async()=>{var o;if(null!==(o=c.current)&&void 0!==o&&o.video&&E.current&&!u&&!S){const e=c.current.video;if(4===e.readyState&&e.currentTime!==t){t=e.currentTime;try{var a,d;const t=E.current.recognizeForVideo(e,performance.now());if(null!==(a=t.gestures)&&void 0!==a&&a.length&&null!==(d=t.gestures[0])&&void 0!==d&&d.length){const e=t.gestures[0][0];if(f&&p<bv.length){const t=bv[p];e.categoryName===t&&(k.current+=e.score,v(t),x((e=>{const n=e+1;if(30===n){const e=k.current/30;b((n=>{const r=s(s({},n),{},{[t]:Math.min(.6*e,.6)});return null===l||void 0===l||l(r),r})),setTimeout((()=>{_(!0),setTimeout((()=>{p<bv.length-1?(k.current=0,x(0),v(null),g(p+1),_(!1)):(h(!1),null===i||void 0===i||i())}),1e3)}),500)}return n})))}else if(!f&&"None"!==e.categoryName){const t=y[e.categoryName]||.7;e.score>=t&&(null===n||void 0===n||n({gesture:e.categoryName,confidence:e.score,timestamp:Date.now()}))}}}catch(m){console.error("Error during gesture recognition:",m)}}}e=requestAnimationFrame(r)};return r(),()=>{e&&cancelAnimationFrame(e)}}),[u,n,f,p,i,S,y,l]),!o&&!f)return null;const C=p===bv.length-1;return(0,ws.jsx)("div",{className:r,style:{position:"relative",width:f?"100vw":"100%",height:f?"100vh":"100%"},children:u?(0,ws.jsx)("div",{children:"Loading gesture recognizer..."}):(0,ws.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[(0,ws.jsx)(Os(),{ref:c,mirrored:!0,style:{width:"100%",height:"100%",objectFit:"cover"},videoConstraints:{facingMode:"user",width:1280,height:720}}),f&&(0,ws.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",color:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",textAlign:"center"},children:S?(0,ws.jsx)("div",{style:{fontSize:"1.5em",color:"#4CAF50"},children:C?"Calibration complete!":"Great! Moving to next gesture..."}):(0,ws.jsxs)(ws.Fragment,{children:[(0,ws.jsxs)("h2",{children:["Calibration Step ",p+1,"/",bv.length]}),(0,ws.jsxs)("div",{style:{fontSize:"1.5em",margin:"20px 0"},children:["Please show the gesture: ",bv[p].replace("_"," ")]}),(0,ws.jsx)("div",{style:{fontSize:"1.2em",color:"#666"},children:"Hold the gesture steady..."}),(0,ws.jsx)("div",{style:{width:"200px",height:"20px",background:"#333",borderRadius:"10px",margin:"20px 0",overflow:"hidden"},children:(0,ws.jsx)("div",{style:{width:"".concat(w/30*100,"%"),height:"100%",background:"#4CAF50",transition:"width 0.3s ease"}})}),m&&(0,ws.jsxs)("div",{style:{marginTop:"10px",color:m===bv[p]?"#4CAF50":"#ff0072"},children:["Detected: ",m.replace("_"," ")]})]})})]})})},xv=(e,t,n)=>e+(t-e)*n,Sv=t=>{let{color:n="#ff0000",size:r=10}=t;const o=(0,e.useRef)(null),[i,a]=(0,e.useState)(null),[s,l]=(0,e.useState)({x:-100,y:-100});return(0,e.useEffect)((()=>{(async()=>{try{const e=await lg.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.0/wasm"),t=await Hm.createFromOptions(e,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/hand_landmarker/hand_landmarker/float16/1/hand_landmarker.task",delegate:"CPU"},runningMode:"IMAGE",minHandDetectionConfidence:.2,minTrackingConfidence:.2});a(t)}catch(e){console.error("Error initializing hand landmarker:",e)}})()}),[]),(0,e.useEffect)((()=>{let e;const t=async()=>{var n;if(null!==(n=o.current)&&void 0!==n&&n.video&&i&&4===o.current.video.readyState){const e=o.current.video,t=await i.detect(e);if(t&&t.landmarks&&t.landmarks.length>0){const e=t.landmarks[0][8],n=(1-e.x)*window.innerWidth,r=e.y*window.innerHeight;l((e=>({x:xv(e.x,n,.3),y:xv(e.y,r,.3)})))}}e=requestAnimationFrame(t)};return t(),()=>cancelAnimationFrame(e)}),[i]),(0,e.useEffect)((()=>()=>{i&&i.close()}),[i]),(0,ws.jsxs)(ws.Fragment,{children:[(0,ws.jsx)(Os(),{ref:o,audio:!1,videoConstraints:{facingMode:"user",width:1280,height:720},style:{position:"absolute",top:0,left:0,width:"0px",height:"0px",opacity:0}}),(0,ws.jsx)("div",{style:{position:"fixed",left:s.x,top:s.y,width:"".concat(r,"px"),height:"".concat(r,"px"),borderRadius:"50%",backgroundColor:n,transform:"translate(-50%, -50%)",pointerEvents:"none",zIndex:1e3}})]})},_v=(e,t,n)=>e+(t-e)*n,kv=t=>{let{color:n="#ff0000",size:r=10}=t;const o=(0,e.useRef)(null),i=(0,e.useRef)(null),[a,s]=e.useState(null),l=(0,e.useRef)(null);return(0,e.useEffect)((()=>{(async()=>{try{const e=await lg.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.0/wasm"),t=await Hm.createFromOptions(e,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/hand_landmarker/hand_landmarker/float16/1/hand_landmarker.task",delegate:"CPU"},runningMode:"IMAGE",minHandDetectionConfidence:.2,minTrackingConfidence:.2});s(t)}catch(e){console.error("Error initializing hand landmarker:",e)}})()}),[]),(0,e.useEffect)((()=>()=>{a&&a.close()}),[a]),(0,e.useEffect)((()=>{const e=()=>{i.current&&(i.current.width=window.innerWidth,i.current.height=window.innerHeight)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,e.useEffect)((()=>{let e;const t=async()=>{var s;if(null!==(s=o.current)&&void 0!==s&&s.video&&a&&4===o.current.video.readyState&&i.current){const e=o.current.video,t=await a.detect(e),s=i.current.getContext("2d");if(t&&t.landmarks&&t.landmarks.length>0&&s){const e=t.landmarks[0][8],o=(1-e.x)*window.innerWidth,i=e.y*window.innerHeight;if(l.current){const e=l.current,t=_v(e.x,o,.2),a=_v(e.y,i,.2);s.strokeStyle=n,s.lineWidth=r,s.lineCap="round",s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(t,a),s.stroke(),l.current={x:t,y:a}}else l.current={x:o,y:i},s.beginPath(),s.arc(o,i,r/2,0,2*Math.PI),s.fillStyle=n,s.fill()}else l.current=null}e=requestAnimationFrame(t)};return t(),()=>cancelAnimationFrame(e)}),[a,n,r]),(0,ws.jsxs)(ws.Fragment,{children:[(0,ws.jsx)(Os(),{ref:o,audio:!1,videoConstraints:{facingMode:"user",width:1280,height:720},style:{position:"absolute",top:0,left:0,width:"0px",height:"0px",opacity:0}}),(0,ws.jsx)("canvas",{ref:i,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1e3}})]})},Ev="gesture_calibration_thresholds",Cv=t=>{var n,r,o,i,a,s,l,c,u,d,f,h,p,g,m;let{workflow:v}=t;const[y,b]=(0,e.useState)("1"),[w,x]=(0,e.useState)(!1),[S,_]=(0,e.useState)(!0),[k,E]=(0,e.useState)(!0),[C,A]=(0,e.useState)(!0),[T,P]=(0,e.useState)(1),[N,M]=(0,e.useState)(null),O=(0,e.useRef)(),[R,I]=(0,e.useState)(!1),[L,D]=(0,e.useState)((()=>{try{const e=localStorage.getItem(Ev);if(e){const t=JSON.parse(e);if(["Thumb_Up","Thumb_Down","Open_Palm","Closed_Fist","Victory","Pointing_Up"].every((e=>"number"===typeof t[e])))return _(!1),t}return{}}catch(Is){return console.error("Failed to load thresholds:",Is),{}}})),[j,F]=(0,e.useState)(null),[z,B]=(0,e.useState)(null),U=(0,e.useRef)(null),V=(0,e.useRef)(0),H=v.nodes.find((e=>e.id===y)),W=(null===H||void 0===H||null===(n=H.data)||void 0===n?void 0:n.pointerMode)||"laser",G=(0,e.useCallback)((()=>{var e;return(null===H||void 0===H||null===(e=H.data)||void 0===e?void 0:e.scrubAmount)||5}),[H]);(0,e.useEffect)((()=>()=>{O.current&&cancelAnimationFrame(O.current)}),[]);const X=(0,e.useCallback)((()=>null!==H&&void 0!==H&&H.data?{min:H.data.minZoom||1,max:H.data.maxZoom||4}:{min:1,max:4}),[H]),q=(0,e.useCallback)((e=>{O.current&&cancelAnimationFrame(O.current);const{min:t,max:n}=X(),r=()=>{P((o=>{const i="in"===e?Math.min(o+.05,n):Math.max(o-.05,t);return("in"===e&&i<n||"out"===e&&i>t)&&(O.current=requestAnimationFrame(r)),i}))};O.current=requestAnimationFrame(r)}),[X]),K=(0,e.useCallback)((e=>{var t,n,r;if(null!==H&&void 0!==H&&null!==(t=H.data)&&void 0!==t&&t.pointerStartGesture&&e.gesture===H.data.pointerStartGesture)return void I(!0);if(null!==H&&void 0!==H&&null!==(n=H.data)&&void 0!==n&&n.pointerStopGesture&&e.gesture===H.data.pointerStopGesture)return void I(!1);const o=v.edges.filter((t=>{var n;return t.source===y&&(null===(n=t.data)||void 0===n?void 0:n.gesture)===e.gesture}));if("video"===(null===H||void 0===H||null===(r=H.data)||void 0===r?void 0:r.type)&&U.current){if(e.gesture===H.data.playPauseGesture){const e=Date.now();return void(e-V.current>=1e3&&(U.current.paused?U.current.play():U.current.pause(),V.current=e))}if(e.gesture===H.data.scrubForwardGesture){const e=G();return void(U.current.currentTime=Math.min(U.current.currentTime+e,U.current.duration))}if(e.gesture===H.data.scrubBackwardGesture){const e=G();return void(U.current.currentTime=Math.max(U.current.currentTime-e,0))}}if(null!==H&&void 0!==H&&H.data.zoomPoint){if(e.gesture===H.data.zoomInGesture)return M(H.data.zoomPoint),void q("in");if(e.gesture===H.data.zoomOutGesture)return M(H.data.zoomPoint),void q("out")}o.length>0&&(P(1),M(null),b(o[0].target))}),[y,v.edges,H,q,G]),Y=(0,e.useCallback)((()=>{_(!1)}),[]),$=(0,e.useCallback)((e=>{D(e);try{localStorage.setItem(Ev,JSON.stringify(e))}catch(Is){console.error("Failed to save thresholds:",Is)}}),[]);(0,e.useEffect)((()=>{(async()=>{var e;if("api"===(null===H||void 0===H||null===(e=H.data)||void 0===e?void 0:e.type))try{B(null),F(null);const e=H.data.apiEndpoint,t="/.netlify/functions/proxy?url=".concat(encodeURIComponent(e)),n={"Content-Type":"application/json"};if(H.data.apiHeaders)try{const e=JSON.parse(H.data.apiHeaders);Object.assign(n,e)}catch(Is){console.warn("Failed to parse custom headers:",Is)}const r=await fetch(t,{method:H.data.apiMethod||"GET",headers:n,credentials:H.data.withCredentials?"include":"same-origin",body:H.data.apiPayload?JSON.stringify(JSON.parse(H.data.apiPayload)):void 0});if(!r.ok)throw new Error("API call failed: ".concat(r.statusText));const o=await r.json();F(o)}catch(t){B(t instanceof Error?t.message:"Failed to execute API call"),console.error("API call error:",t)}})()}),[H]);const Q=v.edges.filter((e=>e.source===y));return(0,ws.jsxs)("div",{style:{width:"100%",height:"100%",position:"relative"},children:[!S&&(0,ws.jsxs)("div",{style:{position:"absolute",top:0,right:0,width:"200px",height:"150px",zIndex:10,background:"#f8f8f8",borderRadius:"0 0 0 8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,ws.jsx)(wv,{onGestureDetected:K,showWebcam:C,startCalibration:!1,onThresholdsUpdate:$}),(0,ws.jsxs)("div",{style:{position:"absolute",bottom:-40,left:0,right:0,display:"flex",justifyContent:"center",gap:"10px"},children:[(0,ws.jsx)("button",{onClick:()=>_(!0),style:{padding:"8px 16px",background:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Recalibrate"}),(0,ws.jsx)("button",{onClick:()=>x(!w),style:{padding:"8px 16px",background:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Settings"})]})]}),S&&(0,ws.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:100},children:(0,ws.jsx)(wv,{onGestureDetected:K,startCalibration:!0,onCalibrationComplete:Y,onThresholdsUpdate:$})}),w&&!S&&(0,ws.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:100,minWidth:"300px"},children:[(0,ws.jsx)("h3",{style:{marginTop:0},children:"Settings"}),(0,ws.jsx)("div",{style:{marginBottom:"20px"},children:(0,ws.jsxs)("label",{style:{display:"block",marginBottom:"5px",cursor:"pointer"},children:[(0,ws.jsx)("input",{type:"checkbox",checked:k,onChange:e=>E(e.target.checked),style:{marginRight:"10px"}}),"Show Available Gestures"]})}),(0,ws.jsx)("div",{style:{marginBottom:"20px"},children:(0,ws.jsxs)("label",{style:{display:"block",marginBottom:"5px",cursor:"pointer"},children:[(0,ws.jsx)("input",{type:"checkbox",checked:C,onChange:e=>A(e.target.checked),style:{marginRight:"10px"}}),"Show Webcam Preview"]})}),(0,ws.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,ws.jsx)("div",{style:{fontWeight:"bold",marginBottom:"10px"},children:"Gesture Thresholds:"}),(0,ws.jsx)("div",{style:{maxHeight:"150px",overflowY:"auto",background:"#f5f5f5",borderRadius:"4px",padding:"10px"},children:Object.entries(L).map((e=>{let[t,n]=e;return(0,ws.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"5px 0"},children:[(0,ws.jsx)("span",{children:t.replace("_"," ")}),(0,ws.jsxs)("span",{style:{color:"#666",background:"#fff",padding:"2px 8px",borderRadius:"4px",fontSize:"0.9em"},children:[(100*n).toFixed(1),"%"]})]},t)}))})]}),(0,ws.jsx)("button",{onClick:()=>x(!1),style:{padding:"8px 16px",background:"#ff0072",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",width:"100%"},children:"Close"})]}),!S&&(0,ws.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",overflow:"hidden"},children:[(0,ws.jsx)("div",{style:{fontSize:"2em",marginBottom:"20px",transform:1!==T?"scale(".concat(T,")"):void 0,transformOrigin:N?"".concat(N.x,"% ").concat(N.y,"%"):"center center",transition:"transform 0.1s ease-out"},children:(null===H||void 0===H||null===(r=H.data)||void 0===r?void 0:r.label)||"No content"}),"image"===(null===H||void 0===H||null===(o=H.data)||void 0===o?void 0:o.type)?(0,ws.jsx)("div",{style:{maxWidth:"800px",width:"100%",marginBottom:"20px",transform:1!==T?"scale(".concat(T,")"):void 0,transformOrigin:N?"".concat(N.x,"% ").concat(N.y,"%"):"center center",transition:"transform 0.1s ease-out"},children:(0,ws.jsx)("img",{src:H.data.url,alt:H.data.label,style:{width:"100%",height:"auto",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}})}):"video"===(null===H||void 0===H||null===(i=H.data)||void 0===i?void 0:i.type)?(0,ws.jsxs)("div",{style:{maxWidth:"800px",width:"100%",marginBottom:"20px",transform:1!==T?"scale(".concat(T,")"):void 0,transformOrigin:N?"".concat(N.x,"% ").concat(N.y,"%"):"center center",transition:"transform 0.1s ease-out"},children:[(0,ws.jsx)("video",{ref:U,src:H.data.videoUrl,controls:!0,autoPlay:H.data.autoplay,loop:H.data.loop,style:{width:"100%",height:"auto",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),k]}):"api"===(null===H||void 0===H||null===(a=H.data)||void 0===a?void 0:a.type)?(0,ws.jsxs)(ws.Fragment,{children:[z&&(0,ws.jsxs)("div",{style:{color:"#ff0072",padding:"10px",background:"#fff0f4",borderRadius:"4px",marginTop:"10px",maxWidth:"800px",width:"100%"},children:[(0,ws.jsx)("strong",{children:"Error:"})," ",z]}),j&&(0,ws.jsxs)("div",{style:{marginTop:"20px",maxWidth:"800px",width:"100%"},children:[(0,ws.jsx)("div",{style:{fontWeight:"bold",marginBottom:"10px"},children:"API Response:"}),(0,ws.jsx)("pre",{style:{background:"#f8f8f8",padding:"15px",borderRadius:"8px",overflow:"auto",maxHeight:"300px"},children:JSON.stringify(j,null,2)})]})]}):(0,ws.jsx)("div",{style:{fontSize:"1.2em",marginBottom:"20px",whiteSpace:"pre-wrap",maxWidth:"800px",textAlign:"left"},children:null===H||void 0===H||null===(s=H.data)||void 0===s?void 0:s.content}),k&&(0,ws.jsxs)("div",{style:{marginTop:"20px",padding:"15px",background:"rgba(240,240,240,0.9)",borderRadius:"8px",maxWidth:"400px",width:"100%"},children:[(0,ws.jsx)("div",{style:{fontWeight:"bold",marginBottom:"10px",color:"#666"},children:"Available Gestures:"}),Q.map((e=>{var t,n;return(0,ws.jsxs)("div",{style:{margin:"8px 0",padding:"8px",background:"white",borderRadius:"4px",display:"flex",alignItems:"center",gap:"10px"},children:[(0,ws.jsx)("span",{style:{color:"#ff0072",fontWeight:"bold"},children:null===(t=e.data)||void 0===t?void 0:t.gesture}),(0,ws.jsx)("span",{style:{color:"#666"},children:"\u2192"}),(0,ws.jsx)("span",{children:null===(n=v.nodes.find((t=>t.id===e.target)))||void 0===n?void 0:n.data.label})]},e.id)})),(null===H||void 0===H||null===(l=H.data)||void 0===l?void 0:l.pointerStartGesture)&&(0,ws.jsxs)("div",{style:{margin:"8px 0",padding:"8px",background:"white",borderRadius:"4px",display:"flex",alignItems:"center",gap:"10px"},children:[(0,ws.jsx)("span",{style:{color:"#4CAF50",fontWeight:"bold"},children:H.data.pointerStartGesture}),(0,ws.jsx)("span",{style:{color:"#666"},children:"\u2192"}),(0,ws.jsxs)("span",{children:["Start ","laser"===H.data.pointerMode?"Laser":"Drawing"," Pointer"]})]}),(null===H||void 0===H||null===(c=H.data)||void 0===c?void 0:c.pointerStopGesture)&&(0,ws.jsxs)("div",{style:{margin:"8px 0",padding:"8px",background:"white",borderRadius:"4px",display:"flex",alignItems:"center",gap:"10px"},children:[(0,ws.jsx)("span",{style:{color:"#4CAF50",fontWeight:"bold"},children:H.data.pointerStopGesture}),(0,ws.jsx)("span",{style:{color:"#666"},children:"\u2192"}),(0,ws.jsxs)("span",{children:["Stop ","laser"===H.data.pointerMode?"Laser":"Drawing"," Pointer"]})]}),(null===H||void 0===H||null===(u=H.data)||void 0===u?void 0:u.zoomInGesture)&&(0,ws.jsxs)("div",{style:{margin:"8px 0",padding:"8px",background:"white",borderRadius:"4px",display:"flex",alignItems:"center",gap:"10px"},children:[(0,ws.jsx)("span",{style:{color:"#2196F3",fontWeight:"bold"},children:H.data.zoomInGesture}),(0,ws.jsx)("span",{style:{color:"#666"},children:"\u2192"}),(0,ws.jsx)("span",{children:"Zoom In"})]}),(null===H||void 0===H||null===(d=H.data)||void 0===d?void 0:d.zoomOutGesture)&&(0,ws.jsxs)("div",{style:{margin:"8px 0",padding:"8px",background:"white",borderRadius:"4px",display:"flex",alignItems:"center",gap:"10px"},children:[(0,ws.jsx)("span",{style:{color:"#2196F3",fontWeight:"bold"},children:H.data.zoomOutGesture}),(0,ws.jsx)("span",{style:{color:"#666"},children:"\u2192"}),(0,ws.jsx)("span",{children:"Zoom Out"})]}),"video"===(null===H||void 0===H||null===(f=H.data)||void 0===f?void 0:f.type)&&(0,ws.jsxs)(ws.Fragment,{children:[H.data.playPauseGesture&&(0,ws.jsxs)("div",{style:{margin:"8px 0",padding:"8px",background:"white",borderRadius:"4px",display:"flex",alignItems:"center",gap:"10px"},children:[(0,ws.jsx)("span",{style:{color:"#9C27B0",fontWeight:"bold"},children:H.data.playPauseGesture}),(0,ws.jsx)("span",{style:{color:"#666"},children:"\u2192"}),(0,ws.jsx)("span",{children:"Play/Pause Video"})]}),H.data.scrubForwardGesture&&(0,ws.jsxs)("div",{style:{margin:"8px 0",padding:"8px",background:"white",borderRadius:"4px",display:"flex",alignItems:"center",gap:"10px"},children:[(0,ws.jsx)("span",{style:{color:"#9C27B0",fontWeight:"bold"},children:H.data.scrubForwardGesture}),(0,ws.jsx)("span",{style:{color:"#666"},children:"\u2192"}),(0,ws.jsx)("span",{children:"Fast Forward"})]}),H.data.scrubBackwardGesture&&(0,ws.jsxs)("div",{style:{margin:"8px 0",padding:"8px",background:"white",borderRadius:"4px",display:"flex",alignItems:"center",gap:"10px"},children:[(0,ws.jsx)("span",{style:{color:"#9C27B0",fontWeight:"bold"},children:H.data.scrubBackwardGesture}),(0,ws.jsx)("span",{style:{color:"#666"},children:"\u2192"}),(0,ws.jsx)("span",{children:"Rewind"})]})]})]})]}),R&&("laser"===W?(0,ws.jsx)(Sv,{color:(null===H||void 0===H||null===(h=H.data)||void 0===h?void 0:h.pointerColor)||"#ff0000",size:(null===H||void 0===H||null===(p=H.data)||void 0===p?void 0:p.pointerSize)||10}):(0,ws.jsx)(kv,{color:(null===H||void 0===H||null===(g=H.data)||void 0===g?void 0:g.pointerColor)||"#ff0000",size:(null===H||void 0===H||null===(m=H.data)||void 0===m?void 0:m.pointerSize)||10}))]})},Av=t=>{let{onGenerate:n,onClose:r}=t;const[o,i]=(0,e.useState)(""),[a,s]=(0,e.useState)("idle"),l=()=>(0,ws.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(255,255,255,0.9)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px"},children:(0,ws.jsxs)("div",{style:{textAlign:"center"},children:[(0,ws.jsx)("div",{className:"loading-spinner",style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),(0,ws.jsx)("p",{style:{color:"#333",fontWeight:"bold"},children:"generating-workflow"===a?"Generating Presentation Workflow...":"Generating Images..."})]})});return(0,ws.jsxs)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:[(0,ws.jsxs)("div",{style:{background:"white",padding:"20px",borderRadius:"8px",width:"400px",position:"relative"},children:[(0,ws.jsx)("h3",{children:"Generate Presentation"}),(0,ws.jsx)("textarea",{value:o,onChange:e=>i(e.target.value),placeholder:"Topic...",style:{width:"100%",height:"100px",marginBottom:"10px"},disabled:"idle"!==a}),(0,ws.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px"},children:[(0,ws.jsx)("button",{onClick:r,disabled:"idle"!==a,children:"Cancel"}),(0,ws.jsx)("button",{onClick:async()=>{try{s("generating-workflow"),await new Promise((e=>setTimeout(e,100))),await n(o)}finally{s("idle")}},disabled:"idle"!==a,children:"Generate"})]}),"idle"!==a&&(0,ws.jsx)(l,{})]}),(0,ws.jsx)("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "})]})};const Tv="RFC3986",Pv={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},Nv=(Object.prototype.hasOwnProperty,Array.isArray),Mv=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})();const Ov=1024;function Rv(e,t){if(Nv(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const Iv=Object.prototype.hasOwnProperty,Lv={brackets:e=>String(e)+"[]",comma:"comma",indices:(e,t)=>String(e)+"["+t+"]",repeat:e=>String(e)},Dv=Array.isArray,jv=Array.prototype.push,Fv=function(e,t){jv.apply(e,Dv(t)?t:[t])},zv=Date.prototype.toISOString,Bv={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:(e,t,n,r,o)=>{if(0===e.length)return e;let i=e;if("symbol"===typeof e?i=Symbol.prototype.toString.call(e):"string"!==typeof e&&(i=String(e)),"iso-8859-1"===n)return escape(i).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));let a="";for(let s=0;s<i.length;s+=Ov){const e=i.length>=Ov?i.slice(s,s+Ov):i,t=[];for(let n=0;n<e.length;++n){let r=e.charCodeAt(n);45===r||46===r||95===r||126===r||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122||"RFC1738"===o&&(40===r||41===r)?t[t.length]=e.charAt(n):r<128?t[t.length]=Mv[r]:r<2048?t[t.length]=Mv[192|r>>6]+Mv[128|63&r]:r<55296||r>=57344?t[t.length]=Mv[224|r>>12]+Mv[128|r>>6&63]+Mv[128|63&r]:(n+=1,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t[t.length]=Mv[240|r>>18]+Mv[128|r>>12&63]+Mv[128|r>>6&63]+Mv[128|63&r])}a+=t.join("")}return a},encodeValuesOnly:!1,format:Tv,formatter:Pv[Tv],indices:!1,serializeDate:e=>zv.call(e),skipNulls:!1,strictNullHandling:!1};const Uv={};function Vv(e,t,n,r,o,i,a,s,l,c,u,d,f,h,p,g,m,v){let y=e,b=v,w=0,x=!1;for(;void 0!==(b=b.get(Uv))&&!x;){const t=b.get(e);if(w+=1,"undefined"!==typeof t){if(t===w)throw new RangeError("Cyclic object value");x=!0}"undefined"===typeof b.get(Uv)&&(w=0)}if("function"===typeof c?y=c(t,y):y instanceof Date?y=null===f||void 0===f?void 0:f(y):"comma"===n&&Dv(y)&&(y=Rv(y,(function(e){return e instanceof Date?null===f||void 0===f?void 0:f(e):e}))),null===y){if(i)return l&&!g?l(t,Bv.encoder,m,"key",h):t;y=""}if(function(e){return"string"===typeof e||"number"===typeof e||"boolean"===typeof e||"symbol"===typeof e||"bigint"===typeof e}(y)||function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}(y)){if(l){const e=g?t:l(t,Bv.encoder,m,"key",h);return[(null===p||void 0===p?void 0:p(e))+"="+(null===p||void 0===p?void 0:p(l(y,Bv.encoder,m,"value",h)))]}return[(null===p||void 0===p?void 0:p(t))+"="+(null===p||void 0===p?void 0:p(String(y)))]}const S=[];if("undefined"===typeof y)return S;let _;if("comma"===n&&Dv(y))g&&l&&(y=Rv(y,l)),_=[{value:y.length>0?y.join(",")||null:void 0}];else if(Dv(c))_=c;else{const e=Object.keys(y);_=u?e.sort(u):e}const k=s?String(t).replace(/\./g,"%2E"):String(t),E=r&&Dv(y)&&1===y.length?k+"[]":k;if(o&&Dv(y)&&0===y.length)return E+"[]";for(let C=0;C<_.length;++C){const t=_[C],b="object"===typeof t&&"undefined"!==typeof t.value?t.value:y[t];if(a&&null===b)continue;const x=d&&s?t.replace(/\./g,"%2E"):t,k=Dv(y)?"function"===typeof n?n(E,x):E:E+(d?"."+x:"["+x+"]");v.set(e,w);const A=new WeakMap;A.set(Uv,v),Fv(S,Vv(b,k,n,r,o,i,a,s,"comma"===n&&g&&Dv(y)?null:l,c,u,d,f,h,p,g,m,A))}return S}function Hv(e){let t=e;const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bv;if("undefined"!==typeof e.allowEmptyArrays&&"boolean"!==typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if("undefined"!==typeof e.encodeDotInKeys&&"boolean"!==typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&"undefined"!==typeof e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");const t=e.charset||Bv.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Tv;if("undefined"!==typeof e.format){if(!Iv.call(Pv,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=Pv[n];let o,i=Bv.filter;if(("function"===typeof e.filter||Dv(e.filter))&&(i=e.filter),o=e.arrayFormat&&e.arrayFormat in Lv?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":Bv.arrayFormat,"commaRoundTrip"in e&&"boolean"!==typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a="undefined"===typeof e.allowDots?!0===!!e.encodeDotInKeys||Bv.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:Bv.addQueryPrefix,allowDots:a,allowEmptyArrays:"boolean"===typeof e.allowEmptyArrays?!!e.allowEmptyArrays:Bv.allowEmptyArrays,arrayFormat:o,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:Bv.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:"undefined"===typeof e.delimiter?Bv.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:Bv.encode,encodeDotInKeys:"boolean"===typeof e.encodeDotInKeys?e.encodeDotInKeys:Bv.encodeDotInKeys,encoder:"function"===typeof e.encoder?e.encoder:Bv.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:Bv.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:Bv.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:Bv.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:Bv.strictNullHandling}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});let r,o;"function"===typeof n.filter?(o=n.filter,t=o("",t)):Dv(n.filter)&&(o=n.filter,r=o);const i=[];if("object"!==typeof t||null===t)return"";const a=Lv[n.arrayFormat],s="comma"===a&&n.commaRoundTrip;r||(r=Object.keys(t)),n.sort&&r.sort(n.sort);const l=new WeakMap;for(let d=0;d<r.length;++d){const e=r[d];n.skipNulls&&null===t[e]||Fv(i,Vv(t[e],e,a,s,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}const c=i.join(n.delimiter);let u=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?u+="utf8=%26%2310003%3B&":u+="utf8=%E2%9C%93&"),c.length>0?u+c:""}function Wv(e){var t,n,r,o=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Gv(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Gv(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Gv=function(e){this.s=e,this.n=e.next},Gv.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Gv(e)}function Xv(e,t){this.v=e,this.k=t}function qv(e){return new Xv(e,0)}function Kv(e){return function(){return new Yv(e.apply(this,arguments))}}function Yv(e){var t,n;function r(t,n){try{var i=e[t](n),a=i.value,s=a instanceof Xv;Promise.resolve(s?a.v:a).then((function(n){if(s){var l="return"===t?"return":"next";if(!a.k||n.done)return r(l,n);n=e[l](n).value}o(i.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,o){return new Promise((function(i,a){var s={key:e,arg:o,resolve:i,reject:a,next:null};n?n=n.next=s:(t=n=s,r(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}Yv.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Yv.prototype.next=function(e){return this._invoke("next",e)},Yv.prototype.throw=function(e){return this._invoke("throw",e)},Yv.prototype.return=function(e){return this._invoke("return",e)};const $v="4.83.0";let Qv,Zv,Jv,ey,ty,ny,ry,oy,iy,ay=!1,sy=null,ly=null,cy=null,uy=null;class dy{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}Qv||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{auto:!1};if(ay)throw new Error("you must `import 'openai/shims/".concat(e.kind,"'` before importing anything else from openai"));if(Qv)throw new Error("can't `import 'openai/shims/".concat(e.kind,"'` after `import 'openai/shims/").concat(Qv,"'`"));ay=t.auto,Qv=e.kind,Zv=e.fetch,sy=e.Request,ly=e.Response,cy=e.Headers,Jv=e.FormData,uy=e.Blob,ey=e.File,ty=e.ReadableStream,ny=e.getMultipartRequestOptions,ry=e.getDefaultAgent,oy=e.fileFromPath,iy=e.isFsReadStream}(function(){let{manuallyImported:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,o,i;try{n=fetch,r=Request,o=Response,i=Headers}catch(a){throw new Error("this environment is missing the following Web Fetch API type: ".concat(a.message,". ").concat(t))}return{kind:"web",fetch:n,Request:r,Response:o,Headers:i,FormData:"undefined"!==typeof FormData?FormData:class{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'FormData' is undefined. ".concat(t))}},Blob:"undefined"!==typeof Blob?Blob:class{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'Blob' is undefined. ".concat(t))}},File:"undefined"!==typeof File?File:class{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'File' is undefined. ".concat(t))}},ReadableStream:"undefined"!==typeof ReadableStream?ReadableStream:class{constructor(){throw new Error("streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ".concat(t))}},getMultipartRequestOptions:async(e,t)=>s(s({},t),{},{body:new dy(e)}),getDefaultAgent:e=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:e=>!1}}(),{auto:!0});class fy extends Error{}class hy extends fy{constructor(e,t,n,r){super("".concat(hy.makeMessage(e,t,n))),this.status=e,this.headers=r,this.request_id=null===r||void 0===r?void 0:r["x-request-id"],this.error=t;const o=t;this.code=null===o||void 0===o?void 0:o.code,this.param=null===o||void 0===o?void 0:o.param,this.type=null===o||void 0===o?void 0:o.type}static makeMessage(e,t,n){const r=null!==t&&void 0!==t&&t.message?"string"===typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?"".concat(e," ").concat(r):e?"".concat(e," status code (no body)"):r||"(no status code or body)"}static generate(e,t,n,r){if(!e||!r)return new gy({message:n,cause:pb(t)});const o=null===t||void 0===t?void 0:t.error;return 400===e?new vy(e,o,n,r):401===e?new yy(e,o,n,r):403===e?new by(e,o,n,r):404===e?new wy(e,o,n,r):409===e?new xy(e,o,n,r):422===e?new Sy(e,o,n,r):429===e?new _y(e,o,n,r):e>=500?new ky(e,o,n,r):new hy(e,o,n,r)}}class py extends hy{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(void 0,void 0,e||"Request was aborted.",void 0)}}class gy extends hy{constructor(e){let{message:t,cause:n}=e;super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class my extends gy{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:null!==e&&void 0!==e?e:"Request timed out."})}}class vy extends hy{}class yy extends hy{}class by extends hy{}class wy extends hy{}class xy extends hy{}class Sy extends hy{}class _y extends hy{}class ky extends hy{}class Ey extends fy{constructor(){super("Could not parse response content as the length limit was reached")}}class Cy extends fy{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Ay{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const n=Ay.NEWLINE_CHARS.has(t[t.length-1]||"");let r=t.split(Ay.NEWLINE_REGEXP);return n&&r.pop(),1!==r.length||n?(this.buffer.length>0&&(r=[this.buffer.join("")+r[0],...r.slice(1)],this.buffer=[]),n||(this.buffer=[r.pop()||""]),r):(this.buffer.push(r[0]),[])}decodeText(e){if(null==e)return"";if("string"===typeof e)return e;if("undefined"!==typeof Buffer){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new fy("Unexpected: received non-Uint8Array (".concat(e.constructor.name,') stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.'))}if("undefined"!==typeof TextDecoder){var t;if(e instanceof Uint8Array||e instanceof ArrayBuffer)return null!==(t=this.textDecoder)&&void 0!==t||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new fy("Unexpected: received non-Uint8Array/ArrayBuffer (".concat(e.constructor.name,") in a web platform. Please report this error."))}throw new fy("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}function Ty(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return null!==e&&void 0!==e&&e.done&&t.releaseLock(),e}catch(Is){throw t.releaseLock(),Is}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}Ay.NEWLINE_CHARS=new Set(["\n","\r"]),Ay.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class Py{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let n=!1;function r(){return r=Kv((function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{var o,i=!1,a=!1;try{for(var s,l=Wv(function(e,t){return Ny.apply(this,arguments)}(e,t));i=!(s=yield qv(l.next())).done;i=!1){const e=s.value;if(!r)if(e.data.startsWith("[DONE]"))r=!0;else if(null===e.event){let t;try{t=JSON.parse(e.data)}catch(Is){throw console.error("Could not parse message into JSON:",e.data),console.error("From chunk:",e.raw),Is}if(t&&t.error)throw new hy(void 0,t.error,void 0,void 0);yield t}else{let t;try{t=JSON.parse(e.data)}catch(Is){throw console.error("Could not parse message into JSON:",e.data),console.error("From chunk:",e.raw),Is}if("error"==e.event)throw new hy(void 0,t.error,t.message,void 0);yield{event:e.event,data:t}}}}catch(c){a=!0,o=c}finally{try{i&&null!=l.return&&(yield qv(l.return()))}finally{if(a)throw o}}r=!0}catch(Is){if(Is instanceof Error&&"AbortError"===Is.name)return;throw Is}finally{r||t.abort()}})),r.apply(this,arguments)}return new Py((function(){return r.apply(this,arguments)}),t)}static fromReadableStream(e,t){let n=!1;function r(){return(r=Kv((function*(){const t=new Ay,n=Ty(e);var r,o=!1,i=!1;try{for(var a,s=Wv(n);o=!(a=yield qv(s.next())).done;o=!1){const e=a.value;for(const n of t.decode(e))yield n}}catch(l){i=!0,r=l}finally{try{o&&null!=s.return&&(yield qv(s.return()))}finally{if(i)throw r}}for(const e of t.flush())yield e}))).apply(this,arguments)}function o(){return o=Kv((function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let e=!1;try{var o,i=!1,a=!1;try{for(var s,l=Wv(function(){return r.apply(this,arguments)}());i=!(s=yield qv(l.next())).done;i=!1){const t=s.value;e||t&&(yield JSON.parse(t))}}catch(c){a=!0,o=c}finally{try{i&&null!=l.return&&(yield qv(l.return()))}finally{if(a)throw o}}e=!0}catch(Is){if(Is instanceof Error&&"AbortError"===Is.name)return;throw Is}finally{e||t.abort()}})),o.apply(this,arguments)}return new Py((function(){return o.apply(this,arguments)}),t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new Py((()=>r(e)),this.controller),new Py((()=>r(t)),this.controller)]}toReadableStream(){const e=this;let t;const n=new TextEncoder;return new ty({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:r,done:o}=await t.next();if(o)return e.close();const i=n.encode(JSON.stringify(r)+"\n");e.enqueue(i)}catch(r){e.error(r)}},async cancel(){var e,n;await(null===(e=(n=t).return)||void 0===e?void 0:e.call(n))}})}}function Ny(){return Ny=Kv((function*(e,t){if(!e.body)throw t.abort(),new fy("Attempted to iterate over a response with no body");const n=new Ry,r=new Ay,o=Ty(e.body);var i,a=!1,s=!1;try{for(var l,c=Wv(function(e){return My.apply(this,arguments)}(o));a=!(l=yield qv(c.next())).done;a=!1){const e=l.value;for(const t of r.decode(e)){const e=n.decode(t);e&&(yield e)}}}catch(u){s=!0,i=u}finally{try{a&&null!=c.return&&(yield qv(c.return()))}finally{if(s)throw i}}for(const d of r.flush()){const e=n.decode(d);e&&(yield e)}})),Ny.apply(this,arguments)}function My(){return My=Kv((function*(e){let t=new Uint8Array;var n,r=!1,o=!1;try{for(var i,a=Wv(e);r=!(i=yield qv(a.next())).done;r=!1){const e=i.value;{if(null==e)continue;const n=e instanceof ArrayBuffer?new Uint8Array(e):"string"===typeof e?(new TextEncoder).encode(e):e;let r,o=new Uint8Array(t.length+n.length);for(o.set(t),o.set(n,t.length),t=o;-1!==(r=Oy(t));)yield t.slice(0,r),t=t.slice(r)}}}catch(s){o=!0,n=s}finally{try{r&&null!=a.return&&(yield qv(a.return()))}finally{if(o)throw n}}t.length>0&&(yield t)})),My.apply(this,arguments)}function Oy(e){for(let t=0;t<e.length-2;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}class Ry{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}(e,":");return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}const Iy=e=>null!=e&&"object"===typeof e&&"string"===typeof e.url&&"function"===typeof e.blob,Ly=e=>null!=e&&"object"===typeof e&&"string"===typeof e.name&&"number"===typeof e.lastModified&&Dy(e),Dy=e=>null!=e&&"object"===typeof e&&"number"===typeof e.size&&"string"===typeof e.type&&"function"===typeof e.text&&"function"===typeof e.slice&&"function"===typeof e.arrayBuffer,jy=e=>Ly(e)||Iy(e)||iy(e);async function Fy(e,t,n){var r,o;if(e=await e,Ly(e))return e;if(Iy(e)){var i;const r=await e.blob();t||(t=null!==(i=new URL(e.url).pathname.split(/[\\/]/).pop())&&void 0!==i?i:"unknown_file");const o=Dy(r)?[await r.arrayBuffer()]:[r];return new ey(o,t,n)}const a=await async function(e){let t=[];if("string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Dy(e))t.push(await e.arrayBuffer());else{var n;if(!By(e))throw new Error("Unexpected data type: ".concat(typeof e,"; constructor: ").concat(null===e||void 0===e||null===(n=e.constructor)||void 0===n?void 0:n.name,"; props: ").concat(function(e){const t=Object.getOwnPropertyNames(e);return"[".concat(t.map((e=>'"'.concat(e,'"'))).join(", "),"]")}(e)));var r,o=!1,i=!1;try{for(var a,s=Wv(e);o=!(a=await s.next()).done;o=!1){const e=a.value;t.push(e)}}catch(l){i=!0,r=l}finally{try{o&&null!=s.return&&await s.return()}finally{if(i)throw r}}}return t}(e);if(t||(t=null!==(r=function(e){var t;return zy(e.name)||zy(e.filename)||(null===(t=zy(e.path))||void 0===t?void 0:t.split(/[\\/]/).pop())}(e))&&void 0!==r?r:"unknown_file"),null===(o=n)||void 0===o||!o.type){var l;const e=null===(l=a[0])||void 0===l?void 0:l.type;"string"===typeof e&&(n=s(s({},n),{},{type:e}))}return new ey(a,t,n)}const zy=e=>"string"===typeof e?e:"undefined"!==typeof Buffer&&e instanceof Buffer?String(e):void 0,By=e=>null!=e&&"object"===typeof e&&"function"===typeof e[Symbol.asyncIterator],Uy=e=>e&&"object"===typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag],Vy=async e=>{const t=await Hy(e.body);return ny(t,e)},Hy=async e=>{const t=new Jv;return await Promise.all(Object.entries(e||{}).map((e=>{let[n,r]=e;return Wy(t,n,r)}))),t},Wy=async(e,t,n)=>{if(void 0!==n){if(null==n)throw new TypeError('Received null for "'.concat(t,"\"; to pass null in FormData, you must use the string 'null'"));if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)e.append(t,String(n));else if(jy(n)){const r=await Fy(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map((n=>Wy(e,t+"[]",n))));else{if("object"!==typeof n)throw new TypeError("Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ".concat(n," instead"));await Promise.all(Object.entries(n).map((n=>{let[r,o]=n;return Wy(e,"".concat(t,"[").concat(r,"]"),o)})))}}},Gy=["signal"];var Xy,qy=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},Ky=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};async function Yy(e){const{response:t}=e;if(e.options.stream)return wb("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):Py.fromSSEResponse(t,e.controller);if(204===t.status)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if((null===n||void 0===n?void 0:n.includes("application/json"))||(null===n||void 0===n?void 0:n.includes("application/vnd.api+json"))){const e=await t.json();return wb("response",t.status,t.url,t.headers,e),$y(e,t)}const r=await t.text();return wb("response",t.status,t.url,t.headers,r),r}function $y(e,t){return!e||"object"!==typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class Qy extends Promise{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yy;super((e=>{e(null)})),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new Qy(this.responsePromise,(async t=>$y(e(await this.parseResponse(t),t),t.response)))}asResponse(){return this.responsePromise.then((e=>e.response))}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class Zy{constructor(e){let{baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:o,fetch:i}=e;this.baseURL=t,this.maxRetries=hb("maxRetries",n),this.timeout=hb("timeout",r),this.httpAgent=o,this.fetch=null!==i&&void 0!==i?i:Zv}authHeaders(e){return{}}defaultHeaders(e){return s(s({Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent()},lb()),this.authHeaders(e))}validateHeaders(e,t){}defaultIdempotencyKey(){return"stainless-node-retry-".concat(xb())}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then((async n=>{const r=n&&Dy(null===n||void 0===n?void 0:n.body)?new DataView(await n.body.arrayBuffer()):(null===n||void 0===n?void 0:n.body)instanceof DataView?n.body:(null===n||void 0===n?void 0:n.body)instanceof ArrayBuffer?new DataView(n.body):n&&ArrayBuffer.isView(null===n||void 0===n?void 0:n.body)?new DataView(n.body.buffer):null===n||void 0===n?void 0:n.body;return s(s({method:e,path:t},n),{},{body:r})})))}getAPIList(e,t,n){return this.requestAPIList(t,s({method:"get",path:e},n))}calculateContentLength(e){if("string"===typeof e){if("undefined"!==typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("undefined"!==typeof TextEncoder){return(new TextEncoder).encode(e).length.toString()}}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e){var t,n,r,o,i,a;let{retryCount:l=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=s({},e);const{method:c,path:u,query:d,headers:f={}}=e,h=ArrayBuffer.isView(e.body)||e.__binaryRequest&&"string"===typeof e.body?e.body:Uy(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,p=this.calculateContentLength(h),g=this.buildURL(u,d);"timeout"in e&&hb("timeout",e.timeout),e.timeout=null!==(t=e.timeout)&&void 0!==t?t:this.timeout;const m=null!==(n=null!==(r=e.httpAgent)&&void 0!==r?r:this.httpAgent)&&void 0!==n?n:ry(g),v=e.timeout+1e3;"number"===typeof(null===m||void 0===m||null===(o=m.options)||void 0===o?void 0:o.timeout)&&v>(null!==(i=m.options.timeout)&&void 0!==i?i:0)&&(m.options.timeout=v),this.idempotencyHeader&&"get"!==c&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=e.idempotencyKey);const y=this.buildHeaders({options:e,headers:f,contentLength:p,retryCount:l});return{req:s(s(s({method:c},h&&{body:h}),{},{headers:y},m&&{agent:m}),{},{signal:null!==(a=e.signal)&&void 0!==a?a:null}),url:g,timeout:e.timeout}}buildHeaders(e){let{options:t,headers:n,contentLength:r,retryCount:o}=e;const i={};r&&(i["content-length"]=r);const a=this.defaultHeaders(t);return yb(i,a),yb(i,n),Uy(t.body)&&"node"!==Qv&&delete i["content-type"],void 0===Sb(a,"x-stainless-retry-count")&&void 0===Sb(n,"x-stainless-retry-count")&&(i["x-stainless-retry-count"]=String(o)),void 0===Sb(a,"x-stainless-timeout")&&void 0===Sb(n,"x-stainless-timeout")&&t.timeout&&(i["x-stainless-timeout"]=String(t.timeout)),this.validateHeaders(i,n),i}async prepareOptions(e){}async prepareRequest(e,t){let{url:n,options:r}=t}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map((e=>[...e]))):s({},e):{}}makeStatusError(e,t,n,r){return hy.generate(e,t,n,r)}request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Qy(this.makeRequest(e,t))}async makeRequest(e,t){var n,r;const o=await e,i=null!==(n=o.maxRetries)&&void 0!==n?n:this.maxRetries;null==t&&(t=i),await this.prepareOptions(o);const{req:a,url:s,timeout:l}=this.buildRequest(o,{retryCount:i-t});if(await this.prepareRequest(a,{url:s,options:o}),wb("request",s,o,a.headers),null!==(r=o.signal)&&void 0!==r&&r.aborted)throw new py;const c=new AbortController,u=await this.fetchWithTimeout(s,a,l,c).catch(pb);if(u instanceof Error){var d;if(null!==(d=o.signal)&&void 0!==d&&d.aborted)throw new py;if(t)return this.retryRequest(o,t);if("AbortError"===u.name)throw new my;throw new gy({cause:u})}const f=tb(u.headers);if(!u.ok){if(t&&this.shouldRetry(u)){const e="retrying, ".concat(t," attempts remaining");return wb("response (error; ".concat(e,")"),u.status,s,f),this.retryRequest(o,t,f)}const e=await u.text().catch((e=>pb(e).message)),n=cb(e),r=n?void 0:e;wb("response (error; ".concat(t?"(error; no more retries left)":"(error; not retryable)",")"),u.status,s,f,r);throw this.makeStatusError(u.status,n,r,f)}return{response:u,options:o,controller:c}}requestAPIList(e,t){const n=this.makeRequest(t,null);return new eb(this,n,e)}buildURL(e,t){const n=db(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return mb(r)||(t=s(s({},r),t)),"object"===typeof t&&t&&!Array.isArray(t)&&(n.search=this.stringifyQuery(t)),n.toString()}stringifyQuery(e){return Object.entries(e).filter((e=>{let[t,n]=e;return"undefined"!==typeof n})).map((e=>{let[t,n]=e;if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n));if(null===n)return"".concat(encodeURIComponent(t),"=");throw new fy("Cannot stringify type ".concat(typeof n,"; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case."))})).join("&")}async fetchWithTimeout(e,t,n,r){const o=t||{},{signal:i}=o,a=l(o,Gy);i&&i.addEventListener("abort",(()=>r.abort()));const c=setTimeout((()=>r.abort()),n),u=s({signal:r.signal},a);return u.method&&(u.method=u.method.toUpperCase()),this.fetch.call(void 0,e,u).finally((()=>{clearTimeout(c)}))}shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n){let r;const o=null===n||void 0===n?void 0:n["retry-after-ms"];if(o){const e=parseFloat(o);Number.isNaN(e)||(r=e)}const i=null===n||void 0===n?void 0:n["retry-after"];if(i&&!r){const e=parseFloat(i);r=Number.isNaN(e)?Date.parse(i)-Date.now():1e3*e}if(!(r&&0<=r&&r<6e4)){var a;const n=null!==(a=e.maxRetries)&&void 0!==a?a:this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(t,n)}return await fb(r),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}getUserAgent(){return"".concat(this.constructor.name,"/JS ").concat($v)}}class Jy{constructor(e,t,n,r){Xy.set(this,void 0),qy(this,Xy,e,"f"),this.options=r,this.response=t,this.body=n}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageInfo()}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new fy("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t=s({},this.options);if("params"in e&&"object"===typeof t.query)t.query=s(s({},t.query),e.params);else if("url"in e){const n=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[t,r]of n)e.url.searchParams.set(t,r);t.query=void 0,t.path=e.url.toString()}return await Ky(this,Xy,"f").requestAPIList(this.constructor,t)}iterPages(){var e=this;return Kv((function*(){let t=e;for(yield t;t.hasNextPage();)t=yield qv(t.getNextPage()),yield t}))()}[(Xy=new WeakMap,Symbol.asyncIterator)](){var e=this;return Kv((function*(){var t,n=!1,r=!1;try{for(var o,i=Wv(e.iterPages());n=!(o=yield qv(i.next())).done;n=!1){const e=o.value;for(const t of e.getPaginatedItems())yield t}}catch(a){r=!0,t=a}finally{try{n&&null!=i.return&&(yield qv(i.return()))}finally{if(r)throw t}}}))()}}class eb extends Qy{constructor(e,t,n){super(t,(async t=>new n(e,t.response,await Yy(t),t.options)))}[Symbol.asyncIterator](){var e=this;return Kv((function*(){const t=yield qv(e);var n,r=!1,o=!1;try{for(var i,a=Wv(t);r=!(i=yield qv(a.next())).done;r=!1){const e=i.value;yield e}}catch(s){o=!0,n=s}finally{try{r&&null!=a.return&&(yield qv(a.return()))}finally{if(o)throw n}}}))()}}const tb=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){const n=t.toString();return e[n.toLowerCase()]||e[n]}}),nb={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},rb=e=>"object"===typeof e&&null!==e&&!mb(e)&&Object.keys(e).every((e=>vb(nb,e))),ob=()=>{var e,t;if("undefined"!==typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$v,"X-Stainless-OS":ab(Deno.build.os),"X-Stainless-Arch":ib(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"===typeof Deno.version?Deno.version:null!==(e=null===(t=Deno.version)||void 0===t?void 0:t.deno)&&void 0!==e?e:"unknown"};if("undefined"!==typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$v,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"other:".concat(EdgeRuntime),"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$v,"X-Stainless-OS":ab(process.platform),"X-Stainless-Arch":ib(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const n=function(){if("undefined"===typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){const n=e[1]||0,r=e[2]||0,o=e[3]||0;return{browser:t,version:"".concat(n,".").concat(r,".").concat(o)}}}return null}();return n?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$v,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"browser:".concat(n.browser),"X-Stainless-Runtime-Version":n.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$v,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const ib=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?"other:".concat(e):"unknown",ab=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?"Other:".concat(e):"Unknown";let sb;const lb=()=>null!==sb&&void 0!==sb?sb:sb=ob(),cb=e=>{try{return JSON.parse(e)}catch(t){return}},ub=/^[a-z][a-z0-9+.-]*:/i,db=e=>ub.test(e),fb=e=>new Promise((t=>setTimeout(t,e))),hb=(e,t)=>{if("number"!==typeof t||!Number.isInteger(t))throw new fy("".concat(e," must be an integer"));if(t<0)throw new fy("".concat(e," must be a positive integer"));return t},pb=e=>{if(e instanceof Error)return e;if("object"===typeof e&&null!==e)try{return new Error(JSON.stringify(e))}catch(t){}return new Error(e)},gb=e=>{var t,n,r,o;return"undefined"!==typeof process?null!==(t=null===(n={NODE_ENV:"production",PUBLIC_URL:"/SignWave",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===n||null===(n=n[e])||void 0===n?void 0:n.trim())&&void 0!==t?t:void 0:"undefined"!==typeof Deno?null===(r=Deno.env)||void 0===r||null===(o=r.get)||void 0===o||null===(o=o.call(r,e))||void 0===o?void 0:o.trim():void 0};function mb(e){if(!e)return!0;for(const t in e)return!1;return!0}function vb(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function yb(e,t){for(const n in t){if(!vb(t,n))continue;const r=n.toLowerCase();if(!r)continue;const o=t[n];null===o?delete e[r]:void 0!==o&&(e[r]=o)}}const bb=new Set(["authorization","api-key"]);function wb(e){var t;if("undefined"!==typeof process&&"true"===(null===(t=process)||void 0===t||null===(t={NODE_ENV:"production",PUBLIC_URL:"/SignWave",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===t?void 0:t.DEBUG)){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const t=r.map((e=>{if(!e)return e;if(e.headers){const t=s(s({},e),{},{headers:s({},e.headers)});for(const n in e.headers)bb.has(n.toLowerCase())&&(t.headers[n]="REDACTED");return t}let t=null;for(const n in e)bb.has(n.toLowerCase())&&(null!==t&&void 0!==t||(t=s({},e)),t[n]="REDACTED");return null!==t&&void 0!==t?t:e}));console.log("OpenAI:DEBUG:".concat(e),...t)}}const xb=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),Sb=(e,t)=>{const n=t.toLowerCase();if((e=>"function"===typeof(null===e||void 0===e?void 0:e.get))(e)){var r;const o=(null===(r=t[0])||void 0===r?void 0:r.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,((e,t,n)=>t+n.toUpperCase()));for(const r of[t,n,t.toUpperCase(),o]){const t=e.get(r);if(t)return t}}for(const[o,i]of Object.entries(e))if(o.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn("Received ".concat(i.length," entries for the ").concat(t," header, using the first entry.")),i[0]):i};function _b(e){return null!=e&&"object"===typeof e&&!Array.isArray(e)}class kb{constructor(e){this._client=e}}class Eb extends kb{create(e,t){var n;return this._client.post("/completions",s(s({body:e},t),{},{stream:null!==(n=e.stream)&&void 0!==n&&n}))}}class Cb extends kb{create(e,t){var n;return this._client.post("/chat/completions",s(s({body:e},t),{},{stream:null!==(n=e.stream)&&void 0!==n&&n}))}}class Ab extends kb{constructor(){super(...arguments),this.completions=new Cb(this._client)}}Ab.Completions=Cb;class Tb extends kb{create(e,t){return this._client.post("/embeddings",s({body:e},t))}}class Pb extends Jy{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.object=n.object}getPaginatedItems(){var e;return null!==(e=this.data)&&void 0!==e?e:[]}nextPageParams(){return null}nextPageInfo(){return null}}class Nb extends Jy{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[]}getPaginatedItems(){var e;return null!==(e=this.data)&&void 0!==e?e:[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){var e;const t=this.getPaginatedItems();if(!t.length)return null;const n=null===(e=t[t.length-1])||void 0===e?void 0:e.id;return n?{params:{after:n}}:null}}class Mb extends kb{create(e,t){return this._client.post("/files",Vy(s({body:e},t)))}retrieve(e,t){return this._client.get("/files/".concat(e),t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return rb(e)?this.list({},e):this._client.getAPIList("/files",Ob,s({query:e},t))}del(e,t){return this._client.delete("/files/".concat(e),t)}content(e,t){return this._client.get("/files/".concat(e,"/content"),s(s({},t),{},{headers:s({Accept:"application/binary"},null===t||void 0===t?void 0:t.headers),__binaryResponse:!0}))}retrieveContent(e,t){return this._client.get("/files/".concat(e,"/content"),t)}async waitForProcessing(e){let{pollInterval:t=5e3,maxWait:n=18e5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new Set(["processed","error","deleted"]),o=Date.now();let i=await this.retrieve(e);for(;!i.status||!r.has(i.status);)if(await fb(t),i=await this.retrieve(e),Date.now()-o>n)throw new my({message:"Giving up on waiting for file ".concat(e," to finish processing after ").concat(n," milliseconds.")});return i}}class Ob extends Nb{}Mb.FileObjectsPage=Ob;class Rb extends kb{createVariation(e,t){return this._client.post("/images/variations",Vy(s({body:e},t)))}edit(e,t){return this._client.post("/images/edits",Vy(s({body:e},t)))}generate(e,t){return this._client.post("/images/generations",s({body:e},t))}}class Ib extends kb{create(e,t){return this._client.post("/audio/speech",s(s({body:e},t),{},{headers:s({Accept:"application/octet-stream"},null===t||void 0===t?void 0:t.headers),__binaryResponse:!0}))}}class Lb extends kb{create(e,t){return this._client.post("/audio/transcriptions",Vy(s(s({body:e},t),{},{__metadata:{model:e.model}})))}}class Db extends kb{create(e,t){return this._client.post("/audio/translations",Vy(s(s({body:e},t),{},{__metadata:{model:e.model}})))}}class jb extends kb{constructor(){super(...arguments),this.transcriptions=new Lb(this._client),this.translations=new Db(this._client),this.speech=new Ib(this._client)}}jb.Transcriptions=Lb,jb.Translations=Db,jb.Speech=Ib;class Fb extends kb{create(e,t){return this._client.post("/moderations",s({body:e},t))}}class zb extends kb{retrieve(e,t){return this._client.get("/models/".concat(e),t)}list(e){return this._client.getAPIList("/models",Bb,e)}del(e,t){return this._client.delete("/models/".concat(e),t)}}class Bb extends Pb{}zb.ModelsPage=Bb;class Ub extends kb{list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return rb(t)?this.list(e,{},t):this._client.getAPIList("/fine_tuning/jobs/".concat(e,"/checkpoints"),Vb,s({query:t},n))}}class Vb extends Nb{}Ub.FineTuningJobCheckpointsPage=Vb;class Hb extends kb{constructor(){super(...arguments),this.checkpoints=new Ub(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",s({body:e},t))}retrieve(e,t){return this._client.get("/fine_tuning/jobs/".concat(e),t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return rb(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",Wb,s({query:e},t))}cancel(e,t){return this._client.post("/fine_tuning/jobs/".concat(e,"/cancel"),t)}listEvents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return rb(t)?this.listEvents(e,{},t):this._client.getAPIList("/fine_tuning/jobs/".concat(e,"/events"),Gb,s({query:t},n))}}class Wb extends Nb{}class Gb extends Nb{}Hb.FineTuningJobsPage=Wb,Hb.FineTuningJobEventsPage=Gb,Hb.Checkpoints=Ub,Hb.FineTuningJobCheckpointsPage=Vb;class Xb extends kb{constructor(){super(...arguments),this.jobs=new Hb(this._client)}}Xb.Jobs=Hb,Xb.FineTuningJobsPage=Wb,Xb.FineTuningJobEventsPage=Gb;class qb extends kb{create(e,t){return this._client.post("/assistants",s(s({body:e},t),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers)}))}retrieve(e,t){return this._client.get("/assistants/".concat(e),s(s({},t),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers)}))}update(e,t,n){return this._client.post("/assistants/".concat(e),s(s({body:t},n),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers)}))}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return rb(e)?this.list({},e):this._client.getAPIList("/assistants",Kb,s(s({query:e},t),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers)}))}del(e,t){return this._client.delete("/assistants/".concat(e),s(s({},t),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers)}))}}class Kb extends Nb{}function Yb(e){return"function"===typeof e.parse}qb.AssistantsPage=Kb;const $b=e=>"assistant"===(null===e||void 0===e?void 0:e.role),Qb=e=>"function"===(null===e||void 0===e?void 0:e.role),Zb=e=>"tool"===(null===e||void 0===e?void 0:e.role);var Jb,ew,tw,nw,rw,ow,iw,aw,sw,lw,cw,uw,dw,fw=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},hw=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class pw{constructor(){Jb.add(this),this.controller=new AbortController,ew.set(this,void 0),tw.set(this,(()=>{})),nw.set(this,(()=>{})),rw.set(this,void 0),ow.set(this,(()=>{})),iw.set(this,(()=>{})),aw.set(this,{}),sw.set(this,!1),lw.set(this,!1),cw.set(this,!1),uw.set(this,!1),fw(this,ew,new Promise(((e,t)=>{fw(this,tw,e,"f"),fw(this,nw,t,"f")})),"f"),fw(this,rw,new Promise(((e,t)=>{fw(this,ow,e,"f"),fw(this,iw,t,"f")})),"f"),hw(this,ew,"f").catch((()=>{})),hw(this,rw,"f").catch((()=>{}))}_run(e){setTimeout((()=>{e().then((()=>{this._emitFinal(),this._emit("end")}),hw(this,Jb,"m",dw).bind(this))}),0)}_connected(){this.ended||(hw(this,tw,"f").call(this),this._emit("connect"))}get ended(){return hw(this,sw,"f")}get errored(){return hw(this,lw,"f")}get aborted(){return hw(this,cw,"f")}abort(){this.controller.abort()}on(e,t){return(hw(this,aw,"f")[e]||(hw(this,aw,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=hw(this,aw,"f")[e];if(!n)return this;const r=n.findIndex((e=>e.listener===t));return r>=0&&n.splice(r,1),this}once(e,t){return(hw(this,aw,"f")[e]||(hw(this,aw,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,n)=>{fw(this,uw,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)}))}async done(){fw(this,uw,!0,"f"),await hw(this,rw,"f")}_emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(hw(this,sw,"f"))return;"end"===e&&(fw(this,sw,!0,"f"),hw(this,ow,"f").call(this));const o=hw(this,aw,"f")[e];if(o&&(hw(this,aw,"f")[e]=o.filter((e=>!e.once)),o.forEach((e=>{let{listener:t}=e;return t(...n)}))),"abort"===e){const e=n[0];return hw(this,uw,"f")||null!==o&&void 0!==o&&o.length||Promise.reject(e),hw(this,nw,"f").call(this,e),hw(this,iw,"f").call(this,e),void this._emit("end")}if("error"===e){const e=n[0];hw(this,uw,"f")||null!==o&&void 0!==o&&o.length||Promise.reject(e),hw(this,nw,"f").call(this,e),hw(this,iw,"f").call(this,e),this._emit("end")}}_emitFinal(){}}function gw(e){return"auto-parseable-response-format"===(null===e||void 0===e?void 0:e.$brand)}function mw(e){return"auto-parseable-tool"===(null===e||void 0===e?void 0:e.$brand)}function vw(e,t){const n=e.choices.map((e=>{var n,r;if("length"===e.finish_reason)throw new Ey;if("content_filter"===e.finish_reason)throw new Cy;return s(s({},e),{},{message:s(s({},e.message),{},{tool_calls:null!==(n=null===(r=e.message.tool_calls)||void 0===r?void 0:r.map((e=>function(e,t){var n;const r=null===(n=e.tools)||void 0===n?void 0:n.find((e=>{var n;return(null===(n=e.function)||void 0===n?void 0:n.name)===t.function.name}));return s(s({},t),{},{function:s(s({},t.function),{},{parsed_arguments:mw(r)?r.$parseRaw(t.function.arguments):null!==r&&void 0!==r&&r.function.strict?JSON.parse(t.function.arguments):null})})}(t,e))))&&void 0!==n?n:[],parsed:e.message.content&&!e.message.refusal?yw(t,e.message.content):null})})}));return s(s({},e),{},{choices:n})}function yw(e,t){var n,r;if("json_schema"!==(null===(n=e.response_format)||void 0===n?void 0:n.type))return null;if("json_schema"===(null===(r=e.response_format)||void 0===r?void 0:r.type)){if("$parseRaw"in e.response_format){return e.response_format.$parseRaw(t)}return JSON.parse(t)}return null}function bw(e,t){var n;if(!e)return!1;const r=null===(n=e.tools)||void 0===n?void 0:n.find((e=>{var n;return(null===(n=e.function)||void 0===n?void 0:n.name)===t.function.name}));return mw(r)||(null===r||void 0===r?void 0:r.function.strict)||!1}function ww(e){var t,n;return!!gw(e.response_format)||null!==(t=null===(n=e.tools)||void 0===n?void 0:n.some((e=>mw(e)||"function"===e.type&&!0===e.function.strict)))&&void 0!==t&&t}ew=new WeakMap,tw=new WeakMap,nw=new WeakMap,rw=new WeakMap,ow=new WeakMap,iw=new WeakMap,aw=new WeakMap,sw=new WeakMap,lw=new WeakMap,cw=new WeakMap,uw=new WeakMap,Jb=new WeakSet,dw=function(e){if(fw(this,lw,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new py),e instanceof py)return fw(this,cw,!0,"f"),this._emit("abort",e);if(e instanceof fy)return this._emit("error",e);if(e instanceof Error){const t=new fy(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new fy(String(e)))};const xw=["function_call","stream"],Sw=["tool_choice","stream"],_w=["function_call"];var kw,Ew,Cw,Aw,Tw,Pw,Nw,Mw,Ow=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};const Rw=10;class Iw extends pw{constructor(){super(...arguments),kw.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var t;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=null===(t=e.choices[0])||void 0===t?void 0:t.message;return n&&this._addMessage(n),e}_addMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("content"in e||(e.content=null),this.messages.push(e),t)if(this._emit("message",e),(Qb(e)||Zb(e))&&e.content)this._emit("functionCallResult",e.content);else if($b(e)&&e.function_call)this._emit("functionCall",e.function_call);else if($b(e)&&e.tool_calls)for(const n of e.tool_calls)"function"===n.type&&this._emit("functionCall",n.function)}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new fy("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Ow(this,kw,"m",Ew).call(this)}async finalMessage(){return await this.done(),Ow(this,kw,"m",Cw).call(this)}async finalFunctionCall(){return await this.done(),Ow(this,kw,"m",Aw).call(this)}async finalFunctionCallResult(){return await this.done(),Ow(this,kw,"m",Tw).call(this)}async totalUsage(){return await this.done(),Ow(this,kw,"m",Pw).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=Ow(this,kw,"m",Cw).call(this);t&&this._emit("finalMessage",t);const n=Ow(this,kw,"m",Ew).call(this);n&&this._emit("finalContent",n);const r=Ow(this,kw,"m",Aw).call(this);r&&this._emit("finalFunctionCall",r);const o=Ow(this,kw,"m",Tw).call(this);null!=o&&this._emit("finalFunctionCallResult",o),this._chatCompletions.some((e=>e.usage))&&this._emit("totalUsage",Ow(this,kw,"m",Pw).call(this))}async _createChatCompletion(e,t,n){const r=null===n||void 0===n?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),Ow(this,kw,"m",Nw).call(this,t);const o=await e.chat.completions.create(s(s({},t),{},{stream:!1}),s(s({},n),{},{signal:this.controller.signal}));return this._connected(),this._addChatCompletion(vw(o,t))}async _runChatCompletion(e,t,n){for(const r of t.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,t,n)}async _runFunctions(e,t,n){const r="function",{function_call:o="auto",stream:i}=t,a=l(t,xw),c="string"!==typeof o&&(null===o||void 0===o?void 0:o.name),{maxChatCompletions:u=Rw}=n||{},d={};for(const s of t.functions)d[s.name||s.function.name]=s;const f=t.functions.map((e=>({name:e.name||e.function.name,parameters:e.parameters,description:e.description})));for(const s of t.messages)this._addMessage(s,!1);for(let l=0;l<u;++l){var h;const t=null===(h=(await this._createChatCompletion(e,s(s({},a),{},{function_call:o,functions:f,messages:[...this.messages]}),n)).choices[0])||void 0===h?void 0:h.message;if(!t)throw new fy("missing message in ChatCompletion response");if(!t.function_call)return;const{name:i,arguments:l}=t.function_call,u=d[i];if(!u){const e="Invalid function_call: ".concat(JSON.stringify(i),". Available options are: ").concat(f.map((e=>JSON.stringify(e.name))).join(", "),". Please try again");this._addMessage({role:r,name:i,content:e});continue}if(c&&c!==i){const e="Invalid function_call: ".concat(JSON.stringify(i),". ").concat(JSON.stringify(c)," requested. Please try again");this._addMessage({role:r,name:i,content:e});continue}let g;try{g=Yb(u)?await u.parse(l):l}catch(p){this._addMessage({role:r,name:i,content:p instanceof Error?p.message:String(p)});continue}const m=await u.function(g,this),v=Ow(this,kw,"m",Mw).call(this,m);if(this._addMessage({role:r,name:i,content:v}),c)return}}async _runTools(e,t,n){var r;const o="tool",{tool_choice:i="auto",stream:a}=t,c=l(t,Sw),u="string"!==typeof i&&(null===i||void 0===i||null===(r=i.function)||void 0===r?void 0:r.name),{maxChatCompletions:d=Rw}=n||{},f=t.tools.map((e=>{if(mw(e)){if(!e.$callback)throw new fy("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:e.$callback,name:e.function.name,description:e.function.description||"",parameters:e.function.parameters,parse:e.$parseRaw,strict:!0}}}return e})),h={};for(const s of f)"function"===s.type&&(h[s.function.name||s.function.function.name]=s.function);const p="tools"in t?f.map((e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description,strict:e.function.strict}}:e)):void 0;for(const s of t.messages)this._addMessage(s,!1);for(let l=0;l<d;++l){var g,m;const t=null===(g=(await this._createChatCompletion(e,s(s({},c),{},{tool_choice:i,tools:p,messages:[...this.messages]}),n)).choices[0])||void 0===g?void 0:g.message;if(!t)throw new fy("missing message in ChatCompletion response");if(null===(m=t.tool_calls)||void 0===m||!m.length)return;for(const e of t.tool_calls){if("function"!==e.type)continue;const t=e.id,{name:n,arguments:r}=e.function,i=h[n];if(!i){const e="Invalid tool_call: ".concat(JSON.stringify(n),". Available options are: ").concat(Object.keys(h).map((e=>JSON.stringify(e))).join(", "),". Please try again");this._addMessage({role:o,tool_call_id:t,content:e});continue}if(u&&u!==n){const e="Invalid tool_call: ".concat(JSON.stringify(n),". ").concat(JSON.stringify(u)," requested. Please try again");this._addMessage({role:o,tool_call_id:t,content:e});continue}let a;try{a=Yb(i)?await i.parse(r):r}catch(v){const e=v instanceof Error?v.message:String(v);this._addMessage({role:o,tool_call_id:t,content:e});continue}const s=await i.function(a,this),l=Ow(this,kw,"m",Mw).call(this,s);if(this._addMessage({role:o,tool_call_id:t,content:l}),u)return}}}}kw=new WeakSet,Ew=function(){var e;return null!==(e=Ow(this,kw,"m",Cw).call(this).content)&&void 0!==e?e:null},Cw=function(){let e=this.messages.length;for(;e-- >0;){const r=this.messages[e];if($b(r)){var t,n;const{function_call:e}=r,o=s(s({},l(r,_w)),{},{content:null!==(t=r.content)&&void 0!==t?t:null,refusal:null!==(n=r.refusal)&&void 0!==n?n:null});return e&&(o.function_call=e),o}}throw new fy("stream ended without producing a ChatCompletionMessage with role=assistant")},Aw=function(){for(let n=this.messages.length-1;n>=0;n--){var e;const r=this.messages[n];if($b(r)&&null!==r&&void 0!==r&&r.function_call)return r.function_call;var t;if($b(r)&&null!==r&&void 0!==r&&null!==(e=r.tool_calls)&&void 0!==e&&e.length)return null===(t=r.tool_calls.at(-1))||void 0===t?void 0:t.function}},Tw=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(Qb(t)&&null!=t.content)return t.content;if(Zb(t)&&null!=t.content&&"string"===typeof t.content&&this.messages.some((e=>{var n;return"assistant"===e.role&&(null===(n=e.tool_calls)||void 0===n?void 0:n.some((e=>"function"===e.type&&e.id===t.tool_call_id)))})))return t.content}},Pw=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},Nw=function(e){if(null!=e.n&&e.n>1)throw new fy("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Mw=function(e){return"string"===typeof e?e:void 0===e?"undefined":JSON.stringify(e)};class Lw extends Iw{static runFunctions(e,t,n){const r=new Lw,o=s(s({},n),{},{headers:s(s({},null===n||void 0===n?void 0:n.headers),{},{"X-Stainless-Helper-Method":"runFunctions"})});return r._run((()=>r._runFunctions(e,t,o))),r}static runTools(e,t,n){const r=new Lw,o=s(s({},n),{},{headers:s(s({},null===n||void 0===n?void 0:n.headers),{},{"X-Stainless-Helper-Method":"runTools"})});return r._run((()=>r._runTools(e,t,o))),r}_addMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];super._addMessage(e,t),$b(e)&&e.content&&this._emit("content",e.content)}}const Dw={STR:1,NUM:2,ARR:4,OBJ:8,NULL:16,BOOL:32,NAN:64,INFINITY:128,MINUS_INFINITY:256,INF:384,SPECIAL:496,ATOM:499,COLLECTION:12,ALL:511};class jw extends Error{}class Fw extends Error{}const zw=(e,t)=>{const n=e.length;let r=0;const o=e=>{throw new jw("".concat(e," at position ").concat(r))},i=e=>{throw new Fw("".concat(e," at position ").concat(r))},a=()=>(d(),r>=n&&o("Unexpected end of input"),'"'===e[r]?s():"{"===e[r]?l():"["===e[r]?c():"null"===e.substring(r,r+4)||Dw.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):"true"===e.substring(r,r+4)||Dw.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):"false"===e.substring(r,r+5)||Dw.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):"Infinity"===e.substring(r,r+8)||Dw.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):"-Infinity"===e.substring(r,r+9)||Dw.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):"NaN"===e.substring(r,r+3)||Dw.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):u()),s=()=>{const a=r;let s=!1;for(r++;r<n&&('"'!==e[r]||s&&"\\"===e[r-1]);)s="\\"===e[r]&&!s,r++;if('"'==e.charAt(r))try{return JSON.parse(e.substring(a,++r-Number(s)))}catch(Is){i(String(Is))}else if(Dw.STR&t)try{return JSON.parse(e.substring(a,r-Number(s))+'"')}catch(Is){return JSON.parse(e.substring(a,e.lastIndexOf("\\"))+'"')}o("Unterminated string literal")},l=()=>{r++,d();const i={};try{for(;"}"!==e[r];){if(d(),r>=n&&Dw.OBJ&t)return i;const o=s();d(),r++;try{const e=a();Object.defineProperty(i,o,{value:e,writable:!0,enumerable:!0,configurable:!0})}catch(Is){if(Dw.OBJ&t)return i;throw Is}d(),","===e[r]&&r++}}catch(Is){if(Dw.OBJ&t)return i;o("Expected '}' at end of object")}return r++,i},c=()=>{r++;const n=[];try{for(;"]"!==e[r];)n.push(a()),d(),","===e[r]&&r++}catch(Is){if(Dw.ARR&t)return n;o("Expected ']' at end of array")}return r++,n},u=()=>{if(0===r){"-"===e&&Dw.NUM&t&&o("Not sure what '-' is");try{return JSON.parse(e)}catch(Is){if(Dw.NUM&t)try{return"."===e[e.length-1]?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch(Is){}i(String(Is))}}const a=r;for("-"===e[r]&&r++;e[r]&&!",]}".includes(e[r]);)r++;r!=n||Dw.NUM&t||o("Unterminated number literal");try{return JSON.parse(e.substring(a,r))}catch(Is){"-"===e.substring(a,r)&&Dw.NUM&t&&o("Not sure what '-' is");try{return JSON.parse(e.substring(a,e.lastIndexOf("e")))}catch(Is){i(String(Is))}}},d=()=>{for(;r<n&&" \n\r\t".includes(e[r]);)r++};return a()},Bw=e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dw.ALL;if("string"!==typeof e)throw new TypeError("expecting str, got ".concat(typeof e));if(!e.trim())throw new Error("".concat(e," is empty"));return zw(e.trim(),t)}(e,Dw.ALL^Dw.NUM),Uw=["choices"],Vw=["delta","finish_reason","index","logprobs"],Hw=["content","refusal"],Ww=["content","refusal","function_call","role","tool_calls"],Gw=["index","id","type","function"],Xw=["id","choices","created","model","system_fingerprint"],qw=["message","finish_reason","index","logprobs"],Kw=["content","function_call","tool_calls"],Yw=["function","type","id"],$w=["arguments","name"];var Qw,Zw,Jw,ex,tx,nx,rx,ox,ix,ax,sx,lx,cx=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},ux=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class dx extends Iw{constructor(e){super(),Qw.add(this),Zw.set(this,void 0),Jw.set(this,void 0),ex.set(this,void 0),cx(this,Zw,e,"f"),cx(this,Jw,[],"f")}get currentChatCompletionSnapshot(){return ux(this,ex,"f")}static fromReadableStream(e){const t=new dx(null);return t._run((()=>t._fromReadableStream(e))),t}static createChatCompletion(e,t,n){const r=new dx(t);return r._run((()=>r._runChatCompletion(e,s(s({},t),{},{stream:!0}),s(s({},n),{},{headers:s(s({},null===n||void 0===n?void 0:n.headers),{},{"X-Stainless-Helper-Method":"stream"})})))),r}async _createChatCompletion(e,t,n){var r;super._createChatCompletion;const o=null===n||void 0===n?void 0:n.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",(()=>this.controller.abort()))),ux(this,Qw,"m",tx).call(this);const i=await e.chat.completions.create(s(s({},t),{},{stream:!0}),s(s({},n),{},{signal:this.controller.signal}));this._connected();var a,l=!1,c=!1;try{for(var u,d=Wv(i);l=!(u=await d.next()).done;l=!1){const e=u.value;ux(this,Qw,"m",rx).call(this,e)}}catch(f){c=!0,a=f}finally{try{l&&null!=d.return&&await d.return()}finally{if(c)throw a}}if(null!==(r=i.controller.signal)&&void 0!==r&&r.aborted)throw new py;return this._addChatCompletion(ux(this,Qw,"m",ax).call(this))}async _fromReadableStream(e,t){var n;const r=null===t||void 0===t?void 0:t.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),ux(this,Qw,"m",tx).call(this),this._connected();const o=Py.fromReadableStream(e,this.controller);let i;var a,s=!1,l=!1;try{for(var c,u=Wv(o);s=!(c=await u.next()).done;s=!1){const e=c.value;i&&i!==e.id&&this._addChatCompletion(ux(this,Qw,"m",ax).call(this)),ux(this,Qw,"m",rx).call(this,e),i=e.id}}catch(d){l=!0,a=d}finally{try{s&&null!=u.return&&await u.return()}finally{if(l)throw a}}if(null!==(n=o.controller.signal)&&void 0!==n&&n.aborted)throw new py;return this._addChatCompletion(ux(this,Qw,"m",ax).call(this))}[(Zw=new WeakMap,Jw=new WeakMap,ex=new WeakMap,Qw=new WeakSet,tx=function(){this.ended||cx(this,ex,void 0,"f")},nx=function(e){let t=ux(this,Jw,"f")[e.index];return t||(t={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},ux(this,Jw,"f")[e.index]=t,t)},rx=function(e){if(this.ended)return;const t=ux(this,Qw,"m",lx).call(this,e);this._emit("chunk",e,t);for(const S of e.choices){var n,r,o,i,a,s,l,c;const e=t.choices[S.index];var u,d,f,h,p,g;if(null!=S.delta.content&&"assistant"===(null===(n=e.message)||void 0===n?void 0:n.role)&&null!==(r=e.message)&&void 0!==r&&r.content&&(this._emit("content",S.delta.content,e.message.content),this._emit("content.delta",{delta:S.delta.content,snapshot:e.message.content,parsed:e.message.parsed})),null!=S.delta.refusal&&"assistant"===(null===(o=e.message)||void 0===o?void 0:o.role)&&null!==(i=e.message)&&void 0!==i&&i.refusal&&this._emit("refusal.delta",{delta:S.delta.refusal,snapshot:e.message.refusal}),null!=(null===(a=S.logprobs)||void 0===a?void 0:a.content)&&"assistant"===(null===(s=e.message)||void 0===s?void 0:s.role))this._emit("logprobs.content.delta",{content:null===(u=S.logprobs)||void 0===u?void 0:u.content,snapshot:null!==(d=null===(f=e.logprobs)||void 0===f?void 0:f.content)&&void 0!==d?d:[]});if(null!=(null===(l=S.logprobs)||void 0===l?void 0:l.refusal)&&"assistant"===(null===(c=e.message)||void 0===c?void 0:c.role))this._emit("logprobs.refusal.delta",{refusal:null===(h=S.logprobs)||void 0===h?void 0:h.refusal,snapshot:null!==(p=null===(g=e.logprobs)||void 0===g?void 0:g.refusal)&&void 0!==p?p:[]});const _=ux(this,Qw,"m",nx).call(this,e);e.finish_reason&&(ux(this,Qw,"m",ix).call(this,e),null!=_.current_tool_call_index&&ux(this,Qw,"m",ox).call(this,e,_.current_tool_call_index));for(const t of null!==(m=S.delta.tool_calls)&&void 0!==m?m:[]){var m;_.current_tool_call_index!==t.index&&(ux(this,Qw,"m",ix).call(this,e),null!=_.current_tool_call_index&&ux(this,Qw,"m",ox).call(this,e,_.current_tool_call_index)),_.current_tool_call_index=t.index}for(const t of null!==(v=S.delta.tool_calls)&&void 0!==v?v:[]){var v,y;const n=null===(y=e.message.tool_calls)||void 0===y?void 0:y[t.index];var b,w,x;if(null!==n&&void 0!==n&&n.type)if("function"===(null===n||void 0===n?void 0:n.type))this._emit("tool_calls.function.arguments.delta",{name:null===(b=n.function)||void 0===b?void 0:b.name,index:t.index,arguments:n.function.arguments,parsed_arguments:n.function.parsed_arguments,arguments_delta:null!==(w=null===(x=t.function)||void 0===x?void 0:x.arguments)&&void 0!==w?w:""});else null===n||void 0===n||n.type}}},ox=function(e,t){var n;if(ux(this,Qw,"m",nx).call(this,e).done_tool_calls.has(t))return;const r=null===(n=e.message.tool_calls)||void 0===n?void 0:n[t];if(!r)throw new Error("no tool call snapshot");if(!r.type)throw new Error("tool call snapshot missing `type`");if("function"===r.type){var o;const e=null===(o=ux(this,Zw,"f"))||void 0===o||null===(o=o.tools)||void 0===o?void 0:o.find((e=>"function"===e.type&&e.function.name===r.function.name));this._emit("tool_calls.function.arguments.done",{name:r.function.name,index:t,arguments:r.function.arguments,parsed_arguments:mw(e)?e.$parseRaw(r.function.arguments):null!==e&&void 0!==e&&e.function.strict?JSON.parse(r.function.arguments):null})}else r.type},ix=function(e){var t,n;const r=ux(this,Qw,"m",nx).call(this,e);if(e.message.content&&!r.content_done){r.content_done=!0;const t=ux(this,Qw,"m",sx).call(this);this._emit("content.done",{content:e.message.content,parsed:t?t.$parseRaw(e.message.content):null})}e.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:e.message.refusal})),null!==(t=e.logprobs)&&void 0!==t&&t.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:e.logprobs.content})),null!==(n=e.logprobs)&&void 0!==n&&n.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:e.logprobs.refusal}))},ax=function(){if(this.ended)throw new fy("stream has ended, this shouldn't happen");const e=ux(this,ex,"f");if(!e)throw new fy("request ended without sending any chunks");return cx(this,ex,void 0,"f"),cx(this,Jw,[],"f"),function(e,t){const{id:n,choices:r,created:o,model:i,system_fingerprint:a}=e,c=l(e,Xw),u=s(s({},c),{},{id:n,choices:r.map((t=>{var n;let{message:r,finish_reason:o,index:i,logprobs:a}=t,c=l(t,qw);if(!o)throw new fy("missing finish_reason for choice ".concat(i));const{content:u=null,function_call:d,tool_calls:f}=r,h=l(r,Kw),p=r.role;if(!p)throw new fy("missing role for choice ".concat(i));if(d){var g;const{arguments:e,name:t}=d;if(null==e)throw new fy("missing function_call.arguments for choice ".concat(i));if(!t)throw new fy("missing function_call.name for choice ".concat(i));return s(s({},c),{},{message:{content:u,function_call:{arguments:e,name:t},role:p,refusal:null!==(g=r.refusal)&&void 0!==g?g:null},finish_reason:o,index:i,logprobs:a})}var m;return s(s({},c),{},f?{index:i,finish_reason:o,logprobs:a,message:s(s({},h),{},{role:p,content:u,refusal:null!==(m=r.refusal)&&void 0!==m?m:null,tool_calls:f.map(((t,n)=>{const{function:r,type:o,id:a}=t,c=l(t,Yw),u=r||{},{arguments:d,name:f}=u,h=l(u,$w);if(null==a)throw new fy("missing choices[".concat(i,"].tool_calls[").concat(n,"].id\n").concat(fx(e)));if(null==o)throw new fy("missing choices[".concat(i,"].tool_calls[").concat(n,"].type\n").concat(fx(e)));if(null==f)throw new fy("missing choices[".concat(i,"].tool_calls[").concat(n,"].function.name\n").concat(fx(e)));if(null==d)throw new fy("missing choices[".concat(i,"].tool_calls[").concat(n,"].function.arguments\n").concat(fx(e)));return s(s({},c),{},{id:a,type:o,function:s(s({},h),{},{name:f,arguments:d})})}))})}:{message:s(s({},h),{},{content:u,role:p,refusal:null!==(n=r.refusal)&&void 0!==n?n:null}),finish_reason:o,index:i,logprobs:a})})),created:o,model:i,object:"chat.completion"},a?{system_fingerprint:a}:{});return function(e,t){return t&&ww(t)?vw(e,t):s(s({},e),{},{choices:e.choices.map((e=>{var t;return s(s({},e),{},{message:s(s({},e.message),{},{parsed:null,tool_calls:null!==(t=e.message.tool_calls)&&void 0!==t?t:[]})})}))})}(u,t)}(e,ux(this,Zw,"f"))},sx=function(){var e;const t=null===(e=ux(this,Zw,"f"))||void 0===e?void 0:e.response_format;return gw(t)?t:null},lx=function(e){var t,n,r,o;let i=ux(this,ex,"f");const{choices:a}=e,c=l(e,Uw);i?Object.assign(i,c):i=cx(this,ex,s(s({},c),{},{choices:[]}),"f");for(const m of e.choices){const{delta:e,finish_reason:a,index:c,logprobs:v=null}=m,y=l(m,Vw);let b=i.choices[c];if(b||(b=i.choices[c]=s({finish_reason:a,index:c,message:{},logprobs:v},y)),v)if(b.logprobs){const{content:e,refusal:r}=v,o=l(v,Hw);var u,d;if(Object.assign(b.logprobs,o),e)null!==(u=(t=b.logprobs).content)&&void 0!==u||(t.content=[]),b.logprobs.content.push(...e);if(r)null!==(d=(n=b.logprobs).refusal)&&void 0!==d||(n.refusal=[]),b.logprobs.refusal.push(...r)}else b.logprobs=Object.assign({},v);if(a&&(b.finish_reason=a,ux(this,Zw,"f")&&ww(ux(this,Zw,"f")))){if("length"===a)throw new Ey;if("content_filter"===a)throw new Cy}if(Object.assign(b,y),!e)continue;const{content:w,refusal:x,function_call:S,role:_,tool_calls:k}=e,E=l(e,Ww);var f;if(Object.assign(b.message,E),x&&(b.message.refusal=(b.message.refusal||"")+x),_&&(b.message.role=_),S)if(b.message.function_call){if(S.name&&(b.message.function_call.name=S.name),S.arguments)null!==(f=(r=b.message.function_call).arguments)&&void 0!==f||(r.arguments=""),b.message.function_call.arguments+=S.arguments}else b.message.function_call=S;if(w&&(b.message.content=(b.message.content||"")+w,!b.message.refusal&&ux(this,Qw,"m",sx).call(this)&&(b.message.parsed=Bw(b.message.content))),k){b.message.tool_calls||(b.message.tool_calls=[]);for(const e of k){var h,p,g;const{index:t,id:n,type:r,function:i}=e,a=l(e,Gw),s=null!==(h=(o=b.message.tool_calls)[t])&&void 0!==h?h:o[t]={};Object.assign(s,a),n&&(s.id=n),r&&(s.type=r),i&&(null!==(p=s.function)&&void 0!==p||(s.function={name:null!==(g=i.name)&&void 0!==g?g:"",arguments:""})),null!==i&&void 0!==i&&i.name&&(s.function.name=i.name),null!==i&&void 0!==i&&i.arguments&&(s.function.arguments+=i.arguments,bw(ux(this,Zw,"f"),s)&&(s.function.parsed_arguments=Bw(s.function.arguments)))}}}return i},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("chunk",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Py(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function fx(e){return JSON.stringify(e)}class hx extends dx{static fromReadableStream(e){const t=new hx(null);return t._run((()=>t._fromReadableStream(e))),t}static runFunctions(e,t,n){const r=new hx(null),o=s(s({},n),{},{headers:s(s({},null===n||void 0===n?void 0:n.headers),{},{"X-Stainless-Helper-Method":"runFunctions"})});return r._run((()=>r._runFunctions(e,t,o))),r}static runTools(e,t,n){const r=new hx(t),o=s(s({},n),{},{headers:s(s({},null===n||void 0===n?void 0:n.headers),{},{"X-Stainless-Helper-Method":"runTools"})});return r._run((()=>r._runTools(e,t,o))),r}}class px extends kb{parse(e,t){return function(e){for(const t of null!==e&&void 0!==e?e:[]){if("function"!==t.type)throw new fy("Currently only `function` tool types support auto-parsing; Received `".concat(t.type,"`"));if(!0!==t.function.strict)throw new fy("The `".concat(t.function.name,"` tool is not marked with `strict: true`. Only strict function tools can be auto-parsed"))}}(e.tools),this._client.chat.completions.create(e,s(s({},t),{},{headers:s(s({},null===t||void 0===t?void 0:t.headers),{},{"X-Stainless-Helper-Method":"beta.chat.completions.parse"})}))._thenUnwrap((t=>vw(t,e)))}runFunctions(e,t){return e.stream?hx.runFunctions(this._client,e,t):Lw.runFunctions(this._client,e,t)}runTools(e,t){return e.stream?hx.runTools(this._client,e,t):Lw.runTools(this._client,e,t)}stream(e,t){return dx.createChatCompletion(this._client,e,t)}}class gx extends kb{constructor(){super(...arguments),this.completions=new px(this._client)}}!function(e){e.Completions=px}(gx||(gx={}));class mx extends kb{create(e,t){return this._client.post("/realtime/sessions",s(s({body:e},t),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers)}))}}class vx extends kb{constructor(){super(...arguments),this.sessions=new mx(this._client)}}vx.Sessions=mx;var yx,bx,wx,xx,Sx,_x,kx,Ex,Cx,Ax,Tx,Px,Nx,Mx,Ox,Rx,Ix,Lx,Dx,jx,Fx,zx,Bx=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},Ux=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n};class Vx extends pw{constructor(){super(...arguments),yx.add(this),bx.set(this,[]),wx.set(this,{}),xx.set(this,{}),Sx.set(this,void 0),_x.set(this,void 0),kx.set(this,void 0),Ex.set(this,void 0),Cx.set(this,void 0),Ax.set(this,void 0),Tx.set(this,void 0),Px.set(this,void 0),Nx.set(this,void 0)}[(bx=new WeakMap,wx=new WeakMap,xx=new WeakMap,Sx=new WeakMap,_x=new WeakMap,kx=new WeakMap,Ex=new WeakMap,Cx=new WeakMap,Ax=new WeakMap,Tx=new WeakMap,Px=new WeakMap,Nx=new WeakMap,yx=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new Vx;return t._run((()=>t._fromReadableStream(e))),t}async _fromReadableStream(e,t){var n;const r=null===t||void 0===t?void 0:t.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),this._connected();const o=Py.fromReadableStream(e,this.controller);var i,a=!1,s=!1;try{for(var l,c=Wv(o);a=!(l=await c.next()).done;a=!1){const e=l.value;Bx(this,yx,"m",Mx).call(this,e)}}catch(u){s=!0,i=u}finally{try{a&&null!=c.return&&await c.return()}finally{if(s)throw i}}if(null!==(n=o.controller.signal)&&void 0!==n&&n.aborted)throw new py;return this._addRun(Bx(this,yx,"m",Ox).call(this))}toReadableStream(){return new Py(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,n,r,o){const i=new Vx;return i._run((()=>i._runToolAssistantStream(e,t,n,r,s(s({},o),{},{headers:s(s({},null===o||void 0===o?void 0:o.headers),{},{"X-Stainless-Helper-Method":"stream"})})))),i}async _createToolAssistantStream(e,t,n,r,o){var i;const a=null===o||void 0===o?void 0:o.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",(()=>this.controller.abort())));const l=s(s({},r),{},{stream:!0}),c=await e.submitToolOutputs(t,n,l,s(s({},o),{},{signal:this.controller.signal}));this._connected();var u,d=!1,f=!1;try{for(var h,p=Wv(c);d=!(h=await p.next()).done;d=!1){const e=h.value;Bx(this,yx,"m",Mx).call(this,e)}}catch(g){f=!0,u=g}finally{try{d&&null!=p.return&&await p.return()}finally{if(f)throw u}}if(null!==(i=c.controller.signal)&&void 0!==i&&i.aborted)throw new py;return this._addRun(Bx(this,yx,"m",Ox).call(this))}static createThreadAssistantStream(e,t,n){const r=new Vx;return r._run((()=>r._threadAssistantStream(e,t,s(s({},n),{},{headers:s(s({},null===n||void 0===n?void 0:n.headers),{},{"X-Stainless-Helper-Method":"stream"})})))),r}static createAssistantStream(e,t,n,r){const o=new Vx;return o._run((()=>o._runAssistantStream(e,t,n,s(s({},r),{},{headers:s(s({},null===r||void 0===r?void 0:r.headers),{},{"X-Stainless-Helper-Method":"stream"})})))),o}currentEvent(){return Bx(this,Tx,"f")}currentRun(){return Bx(this,Px,"f")}currentMessageSnapshot(){return Bx(this,Sx,"f")}currentRunStepSnapshot(){return Bx(this,Nx,"f")}async finalRunSteps(){return await this.done(),Object.values(Bx(this,wx,"f"))}async finalMessages(){return await this.done(),Object.values(Bx(this,xx,"f"))}async finalRun(){if(await this.done(),!Bx(this,_x,"f"))throw Error("Final run was not received.");return Bx(this,_x,"f")}async _createThreadAssistantStream(e,t,n){var r;const o=null===n||void 0===n?void 0:n.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",(()=>this.controller.abort())));const i=s(s({},t),{},{stream:!0}),a=await e.createAndRun(i,s(s({},n),{},{signal:this.controller.signal}));this._connected();var l,c=!1,u=!1;try{for(var d,f=Wv(a);c=!(d=await f.next()).done;c=!1){const e=d.value;Bx(this,yx,"m",Mx).call(this,e)}}catch(h){u=!0,l=h}finally{try{c&&null!=f.return&&await f.return()}finally{if(u)throw l}}if(null!==(r=a.controller.signal)&&void 0!==r&&r.aborted)throw new py;return this._addRun(Bx(this,yx,"m",Ox).call(this))}async _createAssistantStream(e,t,n,r){var o;const i=null===r||void 0===r?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",(()=>this.controller.abort())));const a=s(s({},n),{},{stream:!0}),l=await e.create(t,a,s(s({},r),{},{signal:this.controller.signal}));this._connected();var c,u=!1,d=!1;try{for(var f,h=Wv(l);u=!(f=await h.next()).done;u=!1){const e=f.value;Bx(this,yx,"m",Mx).call(this,e)}}catch(p){d=!0,c=p}finally{try{u&&null!=h.return&&await h.return()}finally{if(d)throw c}}if(null!==(o=l.controller.signal)&&void 0!==o&&o.aborted)throw new py;return this._addRun(Bx(this,yx,"m",Ox).call(this))}static accumulateDelta(e,t){for(const[n,r]of Object.entries(t)){if(!e.hasOwnProperty(n)){e[n]=r;continue}let t=e[n];if(null!==t&&void 0!==t)if("index"!==n&&"type"!==n){if("string"===typeof t&&"string"===typeof r)t+=r;else if("number"===typeof t&&"number"===typeof r)t+=r;else{if(!_b(t)||!_b(r)){if(Array.isArray(t)&&Array.isArray(r)){if(t.every((e=>"string"===typeof e||"number"===typeof e))){t.push(...r);continue}for(const e of r){if(!_b(e))throw new Error("Expected array delta entry to be an object but got: ".concat(e));const n=e.index;if(null==n)throw console.error(e),new Error("Expected array delta entry to have an `index` property");if("number"!==typeof n)throw new Error("Expected array delta entry `index` property to be a number but got ".concat(n));const r=t[n];null==r?t.push(e):t[n]=this.accumulateDelta(r,e)}continue}throw Error("Unhandled record type: ".concat(n,", deltaValue: ").concat(r,", accValue: ").concat(t))}t=this.accumulateDelta(t,r)}e[n]=t}else e[n]=r;else e[n]=r}return e}_addRun(e){return e}async _threadAssistantStream(e,t,n){return await this._createThreadAssistantStream(t,e,n)}async _runAssistantStream(e,t,n,r){return await this._createAssistantStream(t,e,n,r)}async _runToolAssistantStream(e,t,n,r,o){return await this._createToolAssistantStream(n,e,t,r,o)}}Mx=function(e){if(!this.ended)switch(Ux(this,Tx,e,"f"),Bx(this,yx,"m",Lx).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Bx(this,yx,"m",zx).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Bx(this,yx,"m",Ix).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Bx(this,yx,"m",Rx).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Ox=function(){if(this.ended)throw new fy("stream has ended, this shouldn't happen");if(!Bx(this,_x,"f"))throw Error("Final run has not been received");return Bx(this,_x,"f")},Rx=function(e){const[t,n]=Bx(this,yx,"m",jx).call(this,e,Bx(this,Sx,"f"));Ux(this,Sx,t,"f"),Bx(this,xx,"f")[t.id]=t;for(const r of n){const e=t.content[r.index];"text"==(null===e||void 0===e?void 0:e.type)&&this._emit("textCreated",e.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const n of e.data.delta.content){if("text"==n.type&&n.text){let e=n.text,r=t.content[n.index];if(!r||"text"!=r.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",e,r.text)}if(n.index!=Bx(this,kx,"f")){if(Bx(this,Ex,"f"))switch(Bx(this,Ex,"f").type){case"text":this._emit("textDone",Bx(this,Ex,"f").text,Bx(this,Sx,"f"));break;case"image_file":this._emit("imageFileDone",Bx(this,Ex,"f").image_file,Bx(this,Sx,"f"))}Ux(this,kx,n.index,"f")}Ux(this,Ex,t.content[n.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==Bx(this,kx,"f")){const t=e.data.content[Bx(this,kx,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,Bx(this,Sx,"f"));break;case"text":this._emit("textDone",t.text,Bx(this,Sx,"f"))}}Bx(this,Sx,"f")&&this._emit("messageDone",e.data),Ux(this,Sx,void 0,"f")}},Ix=function(e){const t=Bx(this,yx,"m",Dx).call(this,e);switch(Ux(this,Nx,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&"tool_calls"==n.step_details.type&&n.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(const e of n.step_details.tool_calls)e.index==Bx(this,Cx,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(Bx(this,Ax,"f")&&this._emit("toolCallDone",Bx(this,Ax,"f")),Ux(this,Cx,e.index,"f"),Ux(this,Ax,t.step_details.tool_calls[e.index],"f"),Bx(this,Ax,"f")&&this._emit("toolCallCreated",Bx(this,Ax,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ux(this,Nx,void 0,"f");"tool_calls"==e.data.step_details.type&&Bx(this,Ax,"f")&&(this._emit("toolCallDone",Bx(this,Ax,"f")),Ux(this,Ax,void 0,"f")),this._emit("runStepDone",e.data,t)}},Lx=function(e){Bx(this,bx,"f").push(e),this._emit("event",e)},Dx=function(e){switch(e.event){case"thread.run.step.created":return Bx(this,wx,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=Bx(this,wx,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const r=Vx.accumulateDelta(t,n.delta);Bx(this,wx,"f")[e.data.id]=r}return Bx(this,wx,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Bx(this,wx,"f")[e.data.id]=e.data}if(Bx(this,wx,"f")[e.data.id])return Bx(this,wx,"f")[e.data.id];throw new Error("No snapshot available")},jx=function(e,t){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const e of r.delta.content)if(e.index in t.content){let n=t.content[e.index];t.content[e.index]=Bx(this,yx,"m",Fx).call(this,e,n)}else t.content[e.index]=e,n.push(e);return[t,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Fx=function(e,t){return Vx.accumulateDelta(t,e)},zx=function(e){switch(Ux(this,Px,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.cancelling":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Ux(this,_x,e.data,"f"),Bx(this,Ax,"f")&&(this._emit("toolCallDone",Bx(this,Ax,"f")),Ux(this,Ax,void 0,"f"))}};class Hx extends kb{create(e,t,n){return this._client.post("/threads/".concat(e,"/messages"),s(s({body:t},n),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers)}))}retrieve(e,t,n){return this._client.get("/threads/".concat(e,"/messages/").concat(t),s(s({},n),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers)}))}update(e,t,n,r){return this._client.post("/threads/".concat(e,"/messages/").concat(t),s(s({body:n},r),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===r||void 0===r?void 0:r.headers)}))}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return rb(t)?this.list(e,{},t):this._client.getAPIList("/threads/".concat(e,"/messages"),Wx,s(s({query:t},n),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers)}))}del(e,t,n){return this._client.delete("/threads/".concat(e,"/messages/").concat(t),s(s({},n),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers)}))}}class Wx extends Nb{}Hx.MessagesPage=Wx;class Gx extends kb{retrieve(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;return rb(r)?this.retrieve(e,t,n,{},r):this._client.get("/threads/".concat(e,"/runs/").concat(t,"/steps/").concat(n),s(s({query:r},o),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===o||void 0===o?void 0:o.headers)}))}list(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return rb(n)?this.list(e,t,{},n):this._client.getAPIList("/threads/".concat(e,"/runs/").concat(t,"/steps"),Xx,s(s({query:n},r),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===r||void 0===r?void 0:r.headers)}))}}class Xx extends Nb{}Gx.RunStepsPage=Xx;const qx=["include"];class Kx extends kb{constructor(){super(...arguments),this.steps=new Gx(this._client)}create(e,t,n){var r;const{include:o}=t,i=l(t,qx);return this._client.post("/threads/".concat(e,"/runs"),s(s({query:{include:o},body:i},n),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers),stream:null!==(r=t.stream)&&void 0!==r&&r}))}retrieve(e,t,n){return this._client.get("/threads/".concat(e,"/runs/").concat(t),s(s({},n),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers)}))}update(e,t,n,r){return this._client.post("/threads/".concat(e,"/runs/").concat(t),s(s({body:n},r),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===r||void 0===r?void 0:r.headers)}))}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return rb(t)?this.list(e,{},t):this._client.getAPIList("/threads/".concat(e,"/runs"),Yx,s(s({query:t},n),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers)}))}cancel(e,t,n){return this._client.post("/threads/".concat(e,"/runs/").concat(t,"/cancel"),s(s({},n),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers)}))}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}createAndStream(e,t,n){return Vx.createAssistantStream(e,this._client.beta.threads.runs,t,n)}async poll(e,t,n){const r=s(s({},null===n||void 0===n?void 0:n.headers),{},{"X-Stainless-Poll-Helper":"true"});for(null!==n&&void 0!==n&&n.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:o,response:i}=await this.retrieve(e,t,s(s({},n),{},{headers:s(s({},null===n||void 0===n?void 0:n.headers),r)})).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let e=5e3;if(null!==n&&void 0!==n&&n.pollIntervalMs)e=n.pollIntervalMs;else{const t=i.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await fb(e);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(e,t,n){return Vx.createAssistantStream(e,this._client.beta.threads.runs,t,n)}submitToolOutputs(e,t,n,r){var o;return this._client.post("/threads/".concat(e,"/runs/").concat(t,"/submit_tool_outputs"),s(s({body:n},r),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===r||void 0===r?void 0:r.headers),stream:null!==(o=n.stream)&&void 0!==o&&o}))}async submitToolOutputsAndPoll(e,t,n,r){const o=await this.submitToolOutputs(e,t,n,r);return await this.poll(e,o.id,r)}submitToolOutputsStream(e,t,n,r){return Vx.createToolAssistantStream(e,t,this._client.beta.threads.runs,n,r)}}class Yx extends Nb{}Kx.RunsPage=Yx,Kx.Steps=Gx,Kx.RunStepsPage=Xx;class $x extends kb{constructor(){super(...arguments),this.runs=new Kx(this._client),this.messages=new Hx(this._client)}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return rb(e)?this.create({},e):this._client.post("/threads",s(s({body:e},t),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers)}))}retrieve(e,t){return this._client.get("/threads/".concat(e),s(s({},t),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers)}))}update(e,t,n){return this._client.post("/threads/".concat(e),s(s({body:t},n),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers)}))}del(e,t){return this._client.delete("/threads/".concat(e),s(s({},t),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers)}))}createAndRun(e,t){var n;return this._client.post("/threads/runs",s(s({body:e},t),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers),stream:null!==(n=e.stream)&&void 0!==n&&n}))}async createAndRunPoll(e,t){const n=await this.createAndRun(e,t);return await this.runs.poll(n.thread_id,n.id,t)}createAndRunStream(e,t){return Vx.createThreadAssistantStream(e,this._client.beta.threads,t)}}$x.Runs=Kx,$x.RunsPage=Yx,$x.Messages=Hx,$x.MessagesPage=Wx;class Qx extends kb{create(e,t,n){return this._client.post("/vector_stores/".concat(e,"/files"),s(s({body:t},n),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers)}))}retrieve(e,t,n){return this._client.get("/vector_stores/".concat(e,"/files/").concat(t),s(s({},n),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers)}))}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return rb(t)?this.list(e,{},t):this._client.getAPIList("/vector_stores/".concat(e,"/files"),Zx,s(s({query:t},n),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers)}))}del(e,t,n){return this._client.delete("/vector_stores/".concat(e,"/files/").concat(t),s(s({},n),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers)}))}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}async poll(e,t,n){const r=s(s({},null===n||void 0===n?void 0:n.headers),{},{"X-Stainless-Poll-Helper":"true"});for(null!==n&&void 0!==n&&n.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const o=await this.retrieve(e,t,s(s({},n),{},{headers:r})).withResponse(),i=o.data;switch(i.status){case"in_progress":let e=5e3;if(null!==n&&void 0!==n&&n.pollIntervalMs)e=n.pollIntervalMs;else{const t=o.response.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await fb(e);break;case"failed":case"completed":return i}}}async upload(e,t,n){const r=await this._client.files.create({file:t,purpose:"assistants"},n);return this.create(e,{file_id:r.id},n)}async uploadAndPoll(e,t,n){const r=await this.upload(e,t,n);return await this.poll(e,r.id,n)}}class Zx extends Nb{}Qx.VectorStoreFilesPage=Zx;class Jx extends kb{create(e,t,n){return this._client.post("/vector_stores/".concat(e,"/file_batches"),s(s({body:t},n),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers)}))}retrieve(e,t,n){return this._client.get("/vector_stores/".concat(e,"/file_batches/").concat(t),s(s({},n),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers)}))}cancel(e,t,n){return this._client.post("/vector_stores/".concat(e,"/file_batches/").concat(t,"/cancel"),s(s({},n),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers)}))}async createAndPoll(e,t,n){const r=await this.create(e,t);return await this.poll(e,r.id,n)}listFiles(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return rb(n)?this.listFiles(e,t,{},n):this._client.getAPIList("/vector_stores/".concat(e,"/file_batches/").concat(t,"/files"),Zx,s(s({query:n},r),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===r||void 0===r?void 0:r.headers)}))}async poll(e,t,n){const r=s(s({},null===n||void 0===n?void 0:n.headers),{},{"X-Stainless-Poll-Helper":"true"});for(null!==n&&void 0!==n&&n.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:o,response:i}=await this.retrieve(e,t,s(s({},n),{},{headers:r})).withResponse();switch(o.status){case"in_progress":let e=5e3;if(null!==n&&void 0!==n&&n.pollIntervalMs)e=n.pollIntervalMs;else{const t=i.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await fb(e);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(e,t,n){var r;let{files:o,fileIds:i=[]}=t;if(null==o||0==o.length)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=null!==(r=null===n||void 0===n?void 0:n.maxConcurrency)&&void 0!==r?r:5,s=Math.min(a,o.length),l=this._client,c=o.values(),u=[...i];const d=Array(s).fill(c).map((async function(e){for(let t of e){const e=await l.files.create({file:t,purpose:"assistants"},n);u.push(e.id)}}));return await(async e=>{const t=await Promise.allSettled(e),n=t.filter((e=>"rejected"===e.status));if(n.length){for(const e of n)console.error(e.reason);throw new Error("".concat(n.length," promise(s) failed - see the above errors"))}const r=[];for(const o of t)"fulfilled"===o.status&&r.push(o.value);return r})(d),await this.createAndPoll(e,{file_ids:u})}}class eS extends kb{constructor(){super(...arguments),this.files=new Qx(this._client),this.fileBatches=new Jx(this._client)}create(e,t){return this._client.post("/vector_stores",s(s({body:e},t),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers)}))}retrieve(e,t){return this._client.get("/vector_stores/".concat(e),s(s({},t),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers)}))}update(e,t,n){return this._client.post("/vector_stores/".concat(e),s(s({body:t},n),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers)}))}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return rb(e)?this.list({},e):this._client.getAPIList("/vector_stores",tS,s(s({query:e},t),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers)}))}del(e,t){return this._client.delete("/vector_stores/".concat(e),s(s({},t),{},{headers:s({"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers)}))}}class tS extends Nb{}eS.VectorStoresPage=tS,eS.Files=Qx,eS.VectorStoreFilesPage=Zx,eS.FileBatches=Jx;class nS extends kb{constructor(){super(...arguments),this.realtime=new vx(this._client),this.vectorStores=new eS(this._client),this.chat=new gx(this._client),this.assistants=new qb(this._client),this.threads=new $x(this._client)}}nS.Realtime=vx,nS.VectorStores=eS,nS.VectorStoresPage=tS,nS.Assistants=qb,nS.AssistantsPage=Kb,nS.Threads=$x;class rS extends kb{create(e,t){return this._client.post("/batches",s({body:e},t))}retrieve(e,t){return this._client.get("/batches/".concat(e),t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return rb(e)?this.list({},e):this._client.getAPIList("/batches",oS,s({query:e},t))}cancel(e,t){return this._client.post("/batches/".concat(e,"/cancel"),t)}}class oS extends Nb{}rS.BatchesPage=oS;class iS extends kb{create(e,t,n){return this._client.post("/uploads/".concat(e,"/parts"),Vy(s({body:t},n)))}}class aS extends kb{constructor(){super(...arguments),this.parts=new iS(this._client)}create(e,t){return this._client.post("/uploads",s({body:e},t))}cancel(e,t){return this._client.post("/uploads/".concat(e,"/cancel"),t)}complete(e,t,n){return this._client.post("/uploads/".concat(e,"/complete"),s({body:t},n))}}aS.Parts=iS;const sS=["baseURL","apiKey","organization","project"];var lS;class cS extends Zy{constructor(){var e,t,n;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{baseURL:o=gb("OPENAI_BASE_URL"),apiKey:i=gb("OPENAI_API_KEY"),organization:a=(null!==(e=gb("OPENAI_ORG_ID"))&&void 0!==e?e:null),project:c=(null!==(t=gb("OPENAI_PROJECT_ID"))&&void 0!==t?t:null)}=r,u=l(r,sS);if(void 0===i)throw new fy("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const d=s(s({apiKey:i,organization:a,project:c},u),{},{baseURL:o||"https://api.openai.com/v1"});if(!d.dangerouslyAllowBrowser&&"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof navigator)throw new fy("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");super({baseURL:d.baseURL,timeout:null!==(n=d.timeout)&&void 0!==n?n:6e5,httpAgent:d.httpAgent,maxRetries:d.maxRetries,fetch:d.fetch}),this.completions=new Eb(this),this.chat=new Ab(this),this.embeddings=new Tb(this),this.files=new Mb(this),this.images=new Rb(this),this.audio=new jb(this),this.moderations=new Fb(this),this.models=new zb(this),this.fineTuning=new Xb(this),this.beta=new nS(this),this.batches=new rS(this),this.uploads=new aS(this),this._options=d,this.apiKey=i,this.organization=a,this.project=c}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return s(s({},super.defaultHeaders(e)),{},{"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},this._options.defaultHeaders)}authHeaders(e){return{Authorization:"Bearer ".concat(this.apiKey)}}stringifyQuery(e){return Hv(e,{arrayFormat:"brackets"})}}lS=cS,cS.OpenAI=lS,cS.DEFAULT_TIMEOUT=6e5,cS.OpenAIError=fy,cS.APIError=hy,cS.APIConnectionError=gy,cS.APIConnectionTimeoutError=my,cS.APIUserAbortError=py,cS.NotFoundError=wy,cS.ConflictError=xy,cS.RateLimitError=_y,cS.BadRequestError=vy,cS.AuthenticationError=yy,cS.InternalServerError=ky,cS.PermissionDeniedError=by,cS.UnprocessableEntityError=Sy,cS.toFile=Fy,cS.fileFromPath=oy,cS.Completions=Eb,cS.Chat=Ab,cS.Embeddings=Tb,cS.Files=Mb,cS.FileObjectsPage=Ob,cS.Images=Rb,cS.Audio=jb,cS.Moderations=Fb,cS.Models=zb,cS.ModelsPage=Bb,cS.FineTuning=Xb,cS.Beta=nS,cS.Batches=rS,cS.BatchesPage=oS,cS.Uploads=aS;new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations"]);const uS=cS,dS="gesture_presentation_workflow",fS={nodes:[{id:"1",type:"textNode",data:{label:"Start",content:"",type:"text"},position:{x:250,y:25}}],edges:[]};const hS=function(){const[t,n]=(0,e.useState)("edit"),[r,o]=(0,e.useState)((()=>{const e=new URLSearchParams(window.location.search).get("url");e&&fetch(e).then((e=>e.json())).then((e=>{e&&Array.isArray(e.nodes)&&Array.isArray(e.edges)?(o(e),setTimeout((()=>{window.history.replaceState({},"",window.location.pathname),window.location.reload()}),100)):alert("Invalid workflow format in the provided URL")})).catch((e=>{console.error("Error loading workflow from URL:",e),alert("Failed to load workflow from URL. Check console for details.")}));const t=localStorage.getItem(dS);if(!t)return fS;try{const e=JSON.parse(t);return e&&Array.isArray(e.nodes)&&Array.isArray(e.edges)?e:fS}catch(Is){return console.error("Failed to parse saved workflow:",Is),fS}}));(0,e.useEffect)((()=>{try{localStorage.setItem(dS,JSON.stringify(r))}catch(Is){console.error("Failed to save workflow:",Is)}}),[r]);const i=(0,e.useCallback)((e=>{o(e)}),[]);async function a(e,t){const n=await Promise.all(e.nodes.map((async e=>{if("imageNode"===e.type&&e.data.label)try{const n=await async function(e,t){try{const n=(await t.images.generate({model:"stability.stable-diffusion-3.5-large",prompt:e,n:1,size:"400x400"})).data[0].b64_json;return"data:image/png;base64,".concat(n)}catch(n){throw console.error("Error generating project image:",n),n}}(e.data.content,t);return s(s({},e),{},{data:s(s({},e.data),{},{url:n})})}catch(n){return console.error("Error generating image for node ".concat(e.id,":"),n),e}return e})));return s(s({},e),{},{nodes:n})}const[l,c]=(0,e.useState)(!1);return(0,ws.jsxs)("div",{className:"App",children:[(0,ws.jsxs)("header",{className:"App-header",children:[(0,ws.jsxs)("button",{onClick:()=>n("edit"===t?"present":"edit"),children:["Switch to ","edit"===t?"Presentation":"Edit"," Mode"]}),"edit"===t&&(0,ws.jsxs)(ws.Fragment,{children:[(0,ws.jsx)("button",{onClick:()=>c(!0),children:"Generate Presentation"}),(0,ws.jsx)("button",{onClick:()=>{const e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(r)),t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","presentation_workflow.json"),document.body.appendChild(t),t.click(),t.remove()},children:"Export Workflow"}),(0,ws.jsx)("button",{onClick:()=>{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n){const e=new FileReader;e.onload=e=>{try{var t;const n=null===(t=e.target)||void 0===t?void 0:t.result,r=JSON.parse(n);r&&Array.isArray(r.nodes)&&Array.isArray(r.edges)?(o(r),setTimeout((()=>window.location.reload()),100)):alert("Invalid workflow format")}catch(n){alert("Error reading file: "+n)}},e.readAsText(n)}},e.click()},children:"Import Workflow"}),(0,ws.jsx)("button",{onClick:()=>{const e=prompt("Enter URL to workflow JSON file:");e&&(window.location.href="".concat(window.location.pathname,"?url=").concat(encodeURIComponent(e)))},children:"Load from URL"})]})]}),(0,ws.jsx)("main",{children:"edit"===t?(0,ws.jsx)(Ps,{onWorkflowUpdate:i,initialWorkflow:r}):(0,ws.jsx)(Cv,{workflow:r})}),l&&(0,ws.jsx)(Av,{onGenerate:async e=>{const t=new uS.OpenAI({baseURL:"https://api.ai.it.cornell.edu",apiKey:{NODE_ENV:"production",PUBLIC_URL:"/SignWave",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_OPENAI_API_KEY,dangerouslyAllowBrowser:!0});try{const i=await async function(e,t){const n=(await t.chat.completions.create({model:"anthropic.claude-3.5-sonnet.v2",messages:[{role:"system",content:'\nYou are a helpful assistant that generates JSON objects representing gesture-controlled presentation workflows. The JSON object must have exactly two top-level keys: "nodes" and "edges".\n\nNodes:\n- "nodes" is an array of node objects. Each node object must include exactly the following fields:\n  \u2022 "id": a unique string identifier.\n  \u2022 "type": a string that is one of: "textNode" and "imageNode".\n  \u2022 "data": an object that must include:\n       - "label": string, the title of the slide.\n       - "content": string, a description.\n       - "type": string corresponding to the node type ("text" for textNode, "image" for imageNode).\n\n       For an imageNode include:\n             \u2022 "url": string (image URL). **Always use "https://picsum.photos/x" where x is a random number between 100 and 800.**\n             \u2022 "zoomPoint": an object with numeric "x" and "y" **Always set to 40 and 50 respectively**,\n             \u2022 "zoomInGesture": string **Always set to "Victory"**,\n             \u2022 "zoomOutGesture": string **Always set to "Closed_Fist"**,\n       For a textNode include pointer configuration:\n             \u2022 "pointerStartGesture": string **Always set to "Pointing_Up"**,\n             \u2022 "pointerStopGesture": string **Always set to "Closed_Fist"**,\n             \u2022 "pointerMode": string **Randomly choose between "laser" and "canvas"**.\n             \u2022 "pointerColor": string **Randomly choose between "#ff0072" and "#00ff72"**.\n             \u2022 "pointerSize": number **Randomly choose between 10 and 20**.\n\n\n  \u2022 "position": an object with two numeric fields "x" and "y" (keep the x values of consecutive nodes spaced out 350 apart, let y vary slightly).\n\nEdges:\n- "edges" is an array of edge objects. Each edge object must include exactly the following fields:\n  \u2022 "id": a unique string identifier.\n  \u2022 "type": the string "gesture".\n  \u2022 "source": a string (the id of the source node).\n  \u2022 "target": a string (the id of the target node).\n  \u2022 "data": an object that must include:\n         - "gesture": a string **Alternate between "Thumb_Up" and "Thumb_Down" for each pair of consecutive nodes**.\n  \u2022 "markerEnd": an object with:\n         - "type": string **Always set to "arrowclosed"**.\n  \u2022 "style": an object with:\n         - "strokeWidth": number **Always set to 2**,\n         - "stroke": string **Always set to "#ff0072"**.\n  \u2022 "animated": boolean.\n  \u2022 "label": string.\n\nExample Output:\n{\n  "nodes": [\n    {\n      "id": "1",\n      "type": "textNode",\n      "data": {\n        "label": "Example Title",\n        "content": "Example Content",\n        "type": "text",\n        "pointerMode": "laser",\n        "pointerStartGesture": "Pointing_Up",\n        "pointerStopGesture": "Closed_Fist"\n      },\n      "position": { "x": -15, "y": 45 }\n    },\n    {\n      "id": "2",\n      "type": "imageNode",\n      "data": {\n        "label": "Example Image",\n        "content": "Example description of the image",\n        "type": "image",\n        "url": "https://picsum.photos/400",\n        "pointerMode": "laser",\n        "zoomPoint": { "x": 40, "y": 50 },\n        "zoomInGesture": "Open_Palm",\n        "zoomOutGesture": "Victory",\n        "pointerStartGesture": "Pointing_Up",\n        "pointerStopGesture": "Closed_Fist"\n      },\n      "position": { "x": 330, "y": 30 }\n    },\n    {\n      "id": "3",\n      "type": "textNode",\n      "data": {\n        "label": "Example End",\n        "content": "Thank you!",\n        "type": "text",\n        "pointerMode": "laser"\n      },\n      "position": { "x": 1140, "y": 150 }\n    }\n  ],\n  "edges": [\n    {\n      "id": "1",\n      "type": "gesture",\n      "source": "1",\n      "target": "2",\n      "data": { "gesture": "Thumb_Up" },\n      "markerEnd": { "type": "arrowclosed" },\n      "style": { "strokeWidth": 2, "stroke": "#ff0072" },\n      "animated": true,\n      "label": "Thumb_Up"\n    },\n    {\n      "id": "2",\n      "type": "gesture",\n      "source": "2",\n      "target": "3",\n      "data": { "gesture": "Thumb_Down" },\n      "markerEnd": { "type": "arrowclosed" },\n      "style": { "strokeWidth": 2, "stroke": "#ff0072" },\n      "animated": true,\n      "label": "Thumb_Down"\n    }\n  ]\n}\n\nNote: Do NOT use only one type of node. Do NOT provide any additional text in your response.\n'},{role:"user",content:"Provide the JSON object and include a textNode with 'label' and 'content' related to: "+e}]})).choices[0].message.content.replace(/```(json)?/g,"").trim();return JSON.parse(n)}(e,t);if(i&&Array.isArray(i.nodes)&&Array.isArray(i.edges)){var n,r;const e=null===(n=document.querySelector("textarea"))||void 0===n||null===(r=n.closest("div"))||void 0===r?void 0:r.querySelector("p");e&&(e.textContent="Generating Images..."),await new Promise((e=>setTimeout(e,100)));const s=await a(i,t);localStorage.setItem(dS,JSON.stringify(s)),o(s)}else console.error("Generated workflow does not match expected format.")}catch(i){console.error("Error generating presentation:",i)}c(!1)},onClose:()=>c(!1)})]})},pS=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:o,getLCP:i,getTTFB:a}=t;n(e),r(e),o(e),i(e),a(e)}))};t.createRoot(document.getElementById("root")).render((0,ws.jsx)(e.StrictMode,{children:(0,ws.jsx)(hS,{})})),pS()})()})();
//# sourceMappingURL=main.4d8ff992.js.map